<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>Matter Test Plan</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>Matter Test Plan</h1>
<div class="details">
<span id="revnumber">version master 38f6fad,</span>
<span id="revdate">2024-01-30 10:58:15 -0800</span>
<br><span id="revremark">Draft</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_notice_of_use_and_disclosure">Notice of Use and Disclosure</a></li>
<li><a href="#_participants">Participants</a></li>
<li><a href="#_document_control">Document Control</a></li>
<li><a href="#_document_history">Document History</a></li>
<li><a href="#_introduction"><strong>Introduction</strong></a></li>
<li><a href="#_introduction_2">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_scope">1.1. Scope</a></li>
<li><a href="#_purpose">1.2. Purpose</a></li>
<li><a href="#_prerequisites">1.3. Prerequisites</a></li>
</ul>
</li>
<li><a href="#_references">2. References</a>
<ul class="sectlevel2">
<li><a href="#_matter_documents">2.1. Matter Documents</a></li>
<li><a href="#_dependency_certification_documents">2.2. Dependency Certification Documents</a></li>
</ul>
</li>
<li><a href="#_definitions">3. Definitions</a>
<ul class="sectlevel2">
<li><a href="#_acronyms">3.1. Acronyms</a></li>
<li><a href="#_glossary">3.2. Glossary</a></li>
<li><a href="#_identificationsidentifiers">3.3. Identifications/Identifiers</a></li>
<li><a href="#_conformance_levels">3.4. Conformance Levels</a></li>
<li><a href="#_diagram_definitions">3.5. Diagram Definitions</a></li>
</ul>
</li>
<li><a href="#_test_setup">4. Test Setup</a></li>
<li><a href="#_mcore_pics_definition"><strong>MCORE PICS Definition</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition">5. PICS Definition</a>
<ul class="sectlevel2">
<li><a href="#_communicationtransport">5.1. Communication/Transport</a></li>
<li><a href="#_role">5.2. Role</a></li>
<li><a href="#_user_interface">5.3. User Interface</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_device_discovery_test_plan"><strong>Device Discovery Test Plan</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition_2">6. PICS Definition</a></li>
<li><a href="#_test_case_list">7. Test Case List</a></li>
<li><a href="#_test_cases">8. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_onboarding_payload_test_cases">8.1. <strong>Onboarding Payload Test Cases</strong></a>
<ul class="sectlevel3">
<li><a href="#_tc_dd_1_1_qr_code_onboarding_payload_verification_dut_commissionee">8.1.1. [TC-DD-1.1] QR Code Onboarding Payload Verification [DUT - Commissionee]</a></li>
<li><a href="#_tc_dd_1_2_manual_pairing_code_payload_verification_dut_commissionee">8.1.2. [TC-DD-1.2] Manual Pairing Code Payload Verification [DUT - Commissionee]</a></li>
<li><a href="#_tc_dd_1_3_nfc_onboarding_payload_verification_dut_commissionee_removed">8.1.3. [TC-DD-1.3] NFC Onboarding Payload Verification [DUT - Commissionee] - REMOVED</a></li>
<li><a href="#_tc_dd_1_4_concatenation_qr_code_onboarding_payload_verification_dut_commissionee_removed">8.1.4. [TC-DD-1.4] Concatenation - QR Code Onboarding Payload Verification [DUT - Commissionee] - REMOVED</a></li>
<li><a href="#_tc_dd_1_5_nfc_rules_of_advertisement_and_onboarding_dut_commissionee_removed">8.1.5. [TC-DD-1.5] NFC Rules of Advertisement and Onboarding [DUT - Commissionee] - REMOVED</a></li>
<li><a href="#_tc_dd_1_6_qr_code_format_and_label_dut_commissionee">8.1.6. [TC-DD-1.6] QR Code Format and Label [DUT - Commissionee]</a></li>
<li><a href="#_tc_dd_1_7_setup_code_format_and_label_dut_commissionee">8.1.7. [TC-DD-1.7] Setup Code Format and Label [DUT - Commissionee]</a></li>
<li><a href="#_tc_dd_1_8_qr_code_onboarding_payload_verification_dut_commissioner">8.1.8. [TC-DD-1.8] QR Code Onboarding Payload Verification [DUT - Commissioner]</a></li>
<li><a href="#_tc_dd_1_9_manual_pairing_code_payload_verification_dut_commissioner">8.1.9. [TC-DD-1.9] Manual Pairing Code Payload Verification [DUT - Commissioner]</a></li>
<li><a href="#_tc_dd_1_10_nfc_onboarding_payload_verification_dut_commissioner_removed">8.1.10. [TC-DD-1.10] NFC Onboarding Payload Verification [DUT - Commissioner] - REMOVED</a></li>
<li><a href="#_tc_dd_1_11_concatenation_qr_code_onboarding_payload_verification_dut_commissioner_removed">8.1.11. [TC-DD-1.11] Concatenation - QR Code Onboarding Payload Verification [DUT - Commissioner] - REMOVED</a></li>
<li><a href="#_tc_dd_1_12_onboarding_payload_verification_custom_flow_0_dut_commissionee">8.1.12. [TC-DD-1.12] Onboarding Payload Verification - Custom Flow = 0 [DUT - Commissionee]</a></li>
<li><a href="#_tc_dd_1_13_onboarding_payload_verification_custom_flow_1_dut_commissionee">8.1.13. [TC-DD-1.13] Onboarding Payload Verification - Custom Flow = 1 [DUT - Commissionee]</a></li>
<li><a href="#_tc_dd_1_14_onboarding_payload_verification_custom_flow_2_dut_commissionee">8.1.14. [TC-DD-1.14] Onboarding Payload Verification - Custom Flow = 2 [DUT - Commissionee]</a></li>
<li><a href="#_tc_dd_1_15_onboarding_payload_verification_unique_discriminator_and_passcode_values_dut_commissionee">8.1.15. [TC-DD-1.15] Onboarding Payload Verification - Unique Discriminator and Passcode Values [DUT - Commissionee]</a></li>
</ul>
</li>
<li><a href="#_pre_commissioning_discovery_test_cases">8.2. <strong>Pre-Commissioning Discovery Test Cases</strong></a>
<ul class="sectlevel3">
<li><a href="#_tc_dd_2_1_announcement_by_device_verification_dut_commissionee">8.2.1. [TC-DD-2.1] Announcement by Device Verification [DUT - Commissionee]</a></li>
<li><a href="#_tc_dd_2_2_discovery_by_commissioner_verification_dut_commissioner">8.2.2. [TC-DD-2.2] Discovery by Commissioner Verification [DUT - Commissioner]</a></li>
</ul>
</li>
<li><a href="#_commissioning_flows_test_cases">8.3. <strong>Commissioning Flows Test Cases</strong></a>
<ul class="sectlevel3">
<li><a href="#_tc_dd_3_1_commissioning_flow_concurrent_dut_commissionee">8.3.1. [TC-DD-3.1] Commissioning Flow - Concurrent [DUT - Commissionee]</a></li>
<li><a href="#_tc_dd_3_2_commissioning_flow_non_concurrent_dut_commissionee">8.3.2. [TC-DD-3.2] Commissioning Flow - Non-concurrent [DUT - Commissionee]</a></li>
<li><a href="#_tc_dd_3_3_user_directed_commissioning_dut_commissionee">8.3.3. [TC-DD-3.3] User Directed Commissioning [DUT - Commissionee]</a></li>
<li><a href="#_tc_dd_3_4_user_directed_commissioning_dut_commissioner">8.3.4. [TC-DD-3.4] User Directed Commissioning [DUT - Commissioner]</a></li>
<li><a href="#_tc_dd_3_5_commissioning_flow_concurrent_dut_commissioner">8.3.5. [TC-DD-3.5] Commissioning Flow - Concurrent [DUT - Commissioner]</a></li>
<li><a href="#_tc_dd_3_6_commissioning_flow_non_concurrent_dut_commissioner">8.3.6. [TC-DD-3.6] Commissioning Flow - Non-concurrent [DUT - Commissioner]</a></li>
<li><a href="#_tc_dd_3_7_commissioning_flow_concurrent_negative_scenario_dut_commissioner_removed">8.3.7. [TC-DD-3.7] Commissioning Flow - Concurrent - Negative Scenario [DUT - Commissioner] - REMOVED</a></li>
<li><a href="#_tc_dd_3_8_commissioning_flow_non_concurrent_negative_scenario_dut_commissioner_removed">8.3.8. [TC-DD-3.8] Commissioning Flow - Non-concurrent - Negative Scenario [DUT - Commissioner] - REMOVED</a></li>
<li><a href="#_tc_dd_3_9_commissioning_flow_custom_flow_2_dut_commissionee">8.3.9. [TC-DD-3.9] Commissioning Flow - Custom Flow = 2 [DUT - Commissionee]</a></li>
<li><a href="#_tc_dd_3_10_commissioning_flow_custom_flow_2_dut_commissioner">8.3.10. [TC-DD-3.10] Commissioning Flow - Custom Flow = 2 [DUT - Commissioner]</a></li>
<li><a href="#_tc_dd_3_11_commissioning_flow_0_standard_flow_qr_code_dut_commissioner">8.3.11. [TC-DD-3.11] Commissioning Flow = 0 (Standard Flow) - QR Code [DUT - Commissioner]</a></li>
<li><a href="#_tc_dd_3_12_commissioning_flow_1_user_intent_flow_qr_code_dut_commissioner">8.3.12. [TC-DD-3.12] Commissioning Flow = 1 (User-Intent Flow) - QR Code [DUT - Commissioner]</a></li>
<li><a href="#_tc_dd_3_13_commissioning_flow_2_custom_flow_qr_code_dut_commissioner">8.3.13. [TC-DD-3.13] Commissioning Flow = 2 (Custom Flow) - QR Code [DUT - Commissioner]</a></li>
<li><a href="#_tc_dd_3_14_commissioning_flow_qr_code_negative_scenario_dut_commissioner">8.3.14. [TC-DD-3.14] Commissioning Flow - QR Code - Negative Scenario [DUT - Commissioner]</a></li>
<li><a href="#_tc_dd_3_15_commissioning_flow_manual_pairing_code_dut_commissioner">8.3.15. [TC-DD-3.15] Commissioning Flow - Manual Pairing Code [DUT - Commissioner]</a></li>
<li><a href="#_tc_dd_3_16_commissioning_flow_11_digit_manual_pairing_code_negative_scenario_dut_commissioner">8.3.16. [TC-DD-3.16] Commissioning Flow - 11-digit Manual Pairing Code - Negative Scenario [DUT - Commissioner]</a></li>
<li><a href="#_tc_dd_3_17_commissioning_flow_21_digit_manual_pairing_code_negative_scenario_dut_commissioner">8.3.17. [TC-DD-3.17] Commissioning Flow - 21-digit Manual Pairing Code - Negative Scenario [DUT - Commissioner]</a></li>
<li><a href="#_tc_dd_3_18_commissioning_flow_commissioning_multiple_devices_dut_commissioner">8.3.18. [TC-DD-3.18] Commissioning Flow - Commissioning Multiple Devices [DUT - Commissioner]</a></li>
<li><a href="#_tc_dd_3_19_commissioning_flow_commission_unpair_and_re_commission_device_dut_commissionee">8.3.19. [TC-DD-3.19] Commissioning Flow - Commission, Unpair and Re-commission Device [DUT - Commissionee]</a></li>
<li><a href="#_tc_dd_3_20_commissioning_flow_commission_unpair_and_re_commission_device_dut_commissioner">8.3.20. [TC-DD-3.20] Commissioning Flow - Commission, Unpair and Re-commission Device [DUT - Commissioner]</a></li>
<li><a href="#_tc_dd_3_21_commissioning_flow_commission_multiple_endpoint_device_dut_commissioner">8.3.21. [TC-DD-3.21] Commissioning Flow - Commission Multiple-Endpoint Device [DUT - Commissioner]</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_basic_information_test_plan"><strong>Basic Information Test Plan</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition_3">9. PICS Definition</a>
<ul class="sectlevel2">
<li><a href="#_role_2">9.1. Role</a></li>
<li><a href="#_server">9.2. Server</a>
<ul class="sectlevel3">
<li><a href="#_attributes">9.2.1. Attributes</a></li>
<li><a href="#_events">9.2.2. Events</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_pixit_definition">10. PIXIT Definition</a></li>
<li><a href="#_test_case_list_2">11. Test Case List</a></li>
<li><a href="#_test_cases_2">12. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_generic_test_cases">12.1. Generic Test Cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_binfo_1_1_global_attributes_with_dut_as_server">12.1.1. [TC-BINFO-1.1] Global Attributes with DUT as Server</a></li>
</ul>
</li>
<li><a href="#_dut_as_server">12.2. DUT as Server</a>
<ul class="sectlevel3">
<li><a href="#_tc_binfo_2_1_attributes_dut_server">12.2.1. [TC-BINFO-2.1] Attributes [DUT-Server]</a></li>
<li><a href="#_tc_binfo_2_2_events_dut_server">12.2.2. [TC-BINFO-2.2] Events [DUT-Server]</a></li>
<li><a href="#_tc_binfo_3_1_appearance_attribute_dut_as_server">12.2.3. [TC-BINFO-3.1] Appearance Attribute DUT as Server</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_node_operational_credentials_test_plan"><strong>Node Operational Credentials Test Plan</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition_4">13. PICS Definition</a>
<ul class="sectlevel2">
<li><a href="#_role_3">13.1. Role</a></li>
<li><a href="#_server_2">13.2. Server</a>
<ul class="sectlevel3">
<li><a href="#_attributes_2">13.2.1. Attributes</a></li>
<li><a href="#_commands_received">13.2.2. Commands received</a></li>
<li><a href="#_commands_generated">13.2.3. Commands generated</a></li>
</ul>
</li>
<li><a href="#_client">13.3. Client</a>
<ul class="sectlevel3">
<li><a href="#_attributes_3">13.3.1. Attributes</a></li>
<li><a href="#_commands_received_2">13.3.2. Commands received</a></li>
<li><a href="#_commands_generated_2">13.3.3. Commands generated</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_test_case_list_3">14. Test Case List</a></li>
<li><a href="#_test_cases_3">15. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_generic_test_cases_2">15.1. Generic Test Cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_opcreds_1_2_global_attributes_with_dut_as_server">15.1.1. [TC-OPCREDS-1.2] Global Attributes with DUT as Server</a></li>
</ul>
</li>
<li><a href="#_dut_as_server_2">15.2. DUT as Server</a>
<ul class="sectlevel3">
<li><a href="#_tc_opcreds_3_1_attribute_nocs_trustedrootcertificates_list_validation_dut_server">15.2.1. [TC-OPCREDS-3.1] Attribute-NOCs, TrustedRootCertificates list validation [DUT-Server]</a></li>
<li><a href="#_tc_opcreds_3_2_attribute_currentfabricindex_validation_dut_server">15.2.2. [TC-OPCREDS-3.2] Attribute-CurrentFabricIndex validation [DUT-Server]</a></li>
<li><a href="#_tc_opcreds_3_4_updatenoc_error_condition_dut_server">15.2.3. [TC-OPCREDS-3.4] UpdateNOC-Error Condition [DUT-Server]</a></li>
<li><a href="#_tc_opcreds_3_5_noc_check_for_updatenoc_dut_server">15.2.4. [TC-OPCREDS-3.5] NOC Check for UpdateNOC [DUT-Server]</a></li>
<li><a href="#_tc_opcreds_3_6_last_fabric_removal_validation_dut_server">15.2.5. [TC-OPCREDS-3.6] Last Fabric removal validation [DUT-Server]</a></li>
<li><a href="#_tc_opcreds_3_7_add_second_fabric_over_case_dut_server">15.2.6. [TC-OPCREDS-3.7] Add Second Fabric over CASE [DUT-Server]</a></li>
</ul>
</li>
<li><a href="#_dut_as_client">15.3. DUT as Client</a>
<ul class="sectlevel3">
<li><a href="#_tc_opcreds_3_3_attribute_nocs_commands_dut_client">15.3.1. [TC-OPCREDS-3.3] Attribute-NOCs, Commands [DUT-Client]</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_network_commissioning_test_plan"><strong>Network Commissioning Test Plan</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition_5">16. PICS Definition</a>
<ul class="sectlevel2">
<li><a href="#_role_4">16.1. Role</a></li>
<li><a href="#_server_3">16.2. Server</a>
<ul class="sectlevel3">
<li><a href="#_features">16.2.1. Features</a></li>
<li><a href="#_attributes_4">16.2.2. Attributes</a></li>
<li><a href="#_commands_received_3">16.2.3. Commands received</a></li>
<li><a href="#_commands_generated_3">16.2.4. Commands generated</a></li>
</ul>
</li>
<li><a href="#_client_2">16.3. Client</a>
<ul class="sectlevel3">
<li><a href="#_features_2">16.3.1. Features</a></li>
<li><a href="#_commands_generated_4">16.3.2. Commands generated</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_pixit_definition_2">17. PIXIT Definition</a></li>
<li><a href="#_test_case_list_4">18. Test Case List</a></li>
<li><a href="#_test_cases_4">19. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_generic_test_cases_3">19.1. Generic Test Cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_cnet_1_3_global_attributes_with_dut_as_server">19.1.1. [TC-CNET-1.3] Global Attributes with DUT as Server</a></li>
</ul>
</li>
<li><a href="#_dut_as_server_3">19.2. DUT as Server</a>
<ul class="sectlevel3">
<li><a href="#_tc_cnet_4_1_wi_fi_verification_for_attributes_check_dut_server">19.2.1. [TC-CNET-4.1] [Wi-Fi] Verification for attributes check [DUT-Server]</a></li>
<li><a href="#_tc_cnet_4_2_thread_verification_for_attributes_check_dut_server">19.2.2. [TC-CNET-4.2] [Thread] Verification for attributes check [DUT-Server]</a></li>
<li><a href="#_tc_cnet_4_3_ethernet_verification_for_attributes_check_dut_server">19.2.3. [TC-CNET-4.3] [Ethernet] Verification for attributes check [DUT-Server]</a></li>
<li><a href="#_tc_cnet_4_4_wi_fi_verification_for_scannetworks_command_dut_server">19.2.4. [TC-CNET-4.4] [Wi-Fi] Verification for ScanNetworks command [DUT-Server]</a></li>
<li><a href="#_tc_cnet_4_5_wi_fi_failsafe_required_message_validation_dut_server">19.2.5. [TC-CNET-4.5] [Wi-Fi] FAILSAFE_REQUIRED message Validation [DUT-Server]</a></li>
<li><a href="#_tc_cnet_4_6_thread_failsafe_required_message_validation_dut_server">19.2.6. [TC-CNET-4.6] [Thread] FAILSAFE_REQUIRED message Validation [DUT-Server]</a></li>
<li><a href="#_tc_cnet_4_9_wi_fi_verification_for_removenetwork_command_dut_server">19.2.7. [TC-CNET-4.9] [Wi-Fi] Verification for RemoveNetwork Command [DUT-Server]</a></li>
<li><a href="#_tc_cnet_4_10_thread_verification_for_removenetwork_command_dut_server">19.2.8. [TC-CNET-4.10] [Thread] Verification for RemoveNetwork Command [DUT-Server]</a></li>
<li><a href="#_tc_cnet_4_11_wi_fi_verification_for_connectnetwork_command_dut_server">19.2.9. [TC-CNET-4.11] [Wi-Fi] Verification for ConnectNetwork Command [DUT-Server]</a></li>
<li><a href="#_tc_cnet_4_12_thread_verification_for_connectnetwork_command_dut_server">19.2.10. [TC-CNET-4.12] [Thread] Verification for ConnectNetwork Command [DUT-Server]</a></li>
<li><a href="#_tc_cnet_4_13_wi_fi_verification_for_reordernetwork_command_dut_server">19.2.11. [TC-CNET-4.13] [Wi-Fi] Verification for ReorderNetwork command [DUT-Server]</a></li>
<li><a href="#_tc_cnet_4_14_thread_verification_for_reordernetwork_command_dut_server">19.2.12. [TC-CNET-4.14] [Thread] Verification for ReorderNetwork command [DUT-Server]</a></li>
<li><a href="#_tc_cnet_4_15_wi_fi_networkidnotfound_returned_in_lastnetworkingstatus_field_validation_dut_server">19.2.13. [TC-CNET-4.15] [Wi-Fi] NetworkIDNotFound returned in LastNetworkingStatus field validation [DUT-Server]</a></li>
<li><a href="#_tc_cnet_4_16_thread_networkidnotfound_returned_in_lastnetworkingstatus_field_validation_dut_server">19.2.14. [TC-CNET-4.16] [Thread] NetworkIDNotFound returned in LastNetworkingStatus field validation [DUT-Server]</a></li>
<li><a href="#_tc_cnet_4_22_thread_verification_for_scannetworks_command_dut_server">19.2.15. [TC-CNET-4.22] [Thread] Verification for ScanNetworks command [DUT-Server]</a></li>
</ul>
</li>
<li><a href="#_dut_as_client_2">19.3. DUT as Client</a>
<ul class="sectlevel3">
<li><a href="#_tc_cnet_4_20_wi_fi_verification_for_commands_check_dut_client">19.3.1. [TC-CNET-4.20] [Wi-Fi] Verification for commands check  [DUT-Client]</a></li>
<li><a href="#_tc_cnet_4_21_thread_verification_for_commands_check_dut_client">19.3.2. [TC-CNET-4.21] [Thread] Verification for commands check  [DUT-Client]</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_secure_channel_test_plan"><strong>Secure Channel Test Plan</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition_6">20. PICS Definition</a>
<ul class="sectlevel2">
<li><a href="#_server_4">20.1. Server</a>
<ul class="sectlevel3">
<li><a href="#_commands_received_4">20.1.1. Commands received</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_test_case_list_5">21. Test Case List</a></li>
<li><a href="#_test_cases_5">22. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_matter_reliable_message_protocol_mrp_test_cases">22.1. Matter Reliable Message Protocol (MRP) Test Cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_sc_1_1_mrp_max_message_size_removed">22.1.1. [TC-SC-1.1] MRP Max Message Size - REMOVED</a></li>
<li><a href="#_tc_sc_1_2_mrp_message_flows_removed">22.1.2. [TC-SC-1.2] MRP Message Flows - REMOVED</a></li>
<li><a href="#_tc_sc_1_3_mrp_retransmissions_removed">22.1.3. [TC-SC-1.3] MRP Retransmissions - REMOVED</a></li>
<li><a href="#_tc_sc_1_4_mrp_message_counter_and_duplicate_messaging_removed">22.1.4. [TC-SC-1.4] MRP message counter and duplicate messaging - REMOVED</a></li>
</ul>
</li>
<li><a href="#_session_establishment">22.2. Session Establishment</a>
<ul class="sectlevel3">
<li><a href="#_tc_sc_2_1_session_establishment_passcode_authenticated_session_establishment_pase_removed">22.2.1. [TC-SC-2.1] Session Establishment - Passcode Authenticated Session Establishment (PASE) - REMOVED</a></li>
<li><a href="#_tc_sc_2_2_bidirectional_communication_passcode_authenticated_session_establishment_pase_removed">22.2.2. [TC-SC-2.2] Bidirectional Communication - Passcode Authenticated Session Establishment (PASE) - REMOVED</a></li>
<li><a href="#_tc_sc_2_3_pase_error_handling_dut_respondercommissionee_removed">22.2.3. [TC-SC-2.3] PASE Error Handling [DUT_Responder/Commissionee] - REMOVED</a></li>
<li><a href="#_tc_sc_2_4_pase_error_handling_dut_initiatorcommissioner_removed">22.2.4. [TC-SC-2.4] PASE Error Handling [DUT_Initiator/Commissioner] - REMOVED</a></li>
</ul>
</li>
<li><a href="#_certificate_authenticated_session_establishment_case_test_cases">22.3. Certificate Authenticated Session Establishment (CASE) Test Cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_sc_3_1_session_establishment_removed">22.3.1. [TC-SC-3.1] Session Establishment - REMOVED</a></li>
<li><a href="#_tc_sc_3_2_case_session_resumption_dut_responder">22.3.2. [TC-SC-3.2] CASE Session Resumption [DUT_Responder]</a></li>
<li><a href="#_tc_sc_3_3_case_session_resumption_dut_initiator_removed">22.3.3. [TC-SC-3.3] CASE Session Resumption [DUT_Initiator] - REMOVED</a></li>
<li><a href="#_tc_sc_3_4_case_error_handling_dut_responder_removed">22.3.4. [TC-SC-3.4] CASE Error Handling [DUT_Responder] - REMOVED</a></li>
<li><a href="#_tc_sc_3_5_case_error_handling_dut_initiator_removed">22.3.5. [TC-SC-3.5] CASE Error Handling [DUT_Initiator] - REMOVED</a></li>
<li><a href="#_tc_sc_3_6_case_resource_validation">22.3.6. [TC-SC-3.6] CASE Resource validation</a></li>
</ul>
</li>
<li><a href="#_discovery">22.4. Discovery</a>
<ul class="sectlevel3">
<li><a href="#_tc_sc_4_1_commissionable_node_discovery_dut_as_commissionee">22.4.1. [TC-SC-4.1] Commissionable Node Discovery [DUT as Commissionee]</a></li>
<li><a href="#_tc_sc_4_2_discovery_dut_as_commissioner">22.4.2. [TC-SC-4.2] Discovery [DUT as Commissioner]</a></li>
<li><a href="#_tc_sc_4_3_discovery_dut_as_commissionee">22.4.3. [TC-SC-4.3] Discovery [DUT as Commissionee]</a></li>
<li><a href="#_tc_sc_4_4_discovery_dut_as_controller">22.4.4. [TC-SC-4.4] Discovery [DUT as Controller]</a></li>
<li><a href="#_tc_sc_4_5_discovery_dut_as_commissioneethread_removed">22.4.5. [TC-SC-4.5] Discovery [DUT as Commissionee][Thread] - REMOVED</a></li>
<li><a href="#_tc_sc_4_6commissioner_discovery_dut_as_commissioner">22.4.6. [TC-SC-4.6]Commissioner Discovery [DUT as Commissioner]</a></li>
<li><a href="#_tc_sc_4_7_commissioner_discovery_dut_as_commissionee">22.4.7. [TC-SC-4.7] Commissioner Discovery [DUT as Commissionee]</a></li>
<li><a href="#_tc_sc_4_8_compressed_fabric_id_remains_the_same_for_nodes_commissioned_to_the_same_fabric_dut_as_commissioner">22.4.8. [TC-SC-4.8] Compressed Fabric ID remains the same for Nodes commissioned to the same fabric [DUT as Commissioner]</a></li>
<li><a href="#_tc_sc_4_9_operational_discovery_rio_support_dut_as_commissionee">22.4.9. [TC-SC-4.9] Operational Discovery - RIO support [DUT as Commissionee]</a></li>
<li><a href="#_tc_sc_4_10_operational_discovery_sit_icd_node_dut_as_commissionee">22.4.10. [TC-SC-4.10] Operational Discovery - SIT ICD Node [DUT as Commissionee]</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_group_communication"><strong>Group Communication</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition_7">23. PICS Definition</a>
<ul class="sectlevel2">
<li><a href="#_role_5">23.1. Role</a></li>
<li><a href="#_server_5">23.2. Server</a>
<ul class="sectlevel3">
<li><a href="#_features_3">23.2.1. Features</a></li>
<li><a href="#_attributes_5">23.2.2. Attributes</a></li>
<li><a href="#_commands_received_5">23.2.3. Commands received</a></li>
<li><a href="#_commands_generated_5">23.2.4. Commands generated</a></li>
</ul>
</li>
<li><a href="#_client_3">23.3. Client</a>
<ul class="sectlevel3">
<li><a href="#_attributes_6">23.3.1. Attributes</a></li>
<li><a href="#_commands_generated_6">23.3.2. Commands generated</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_pixit_definition_3">24. PIXIT Definition</a></li>
<li><a href="#_test_case_list_6">25. Test Case List</a></li>
<li><a href="#_test_cases_6">26. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_generic_test_cases_4">26.1. Generic test cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_grpkey_1_1_global_attributes_with_dut_as_server">26.1.1. [TC-GRPKEY-1.1] Global Attributes with DUT as Server</a></li>
</ul>
</li>
<li><a href="#_server_as_dut">26.2. Server as DUT</a></li>
<li><a href="#_dut_as_server_4">26.3. DUT as Server</a>
<ul class="sectlevel3">
<li><a href="#_tc_grpkey_2_1_attributes_dut_server">26.3.1. [TC-GRPKEY-2.1] Attributes [DUT-Server]</a></li>
<li><a href="#_tc_grpkey_2_2_primary_functionality_with_dut_as_server">26.3.2. [TC-GRPKEY-2.2] Primary functionality with DUT as Server</a></li>
<li><a href="#_tc_sc_5_1_adding_member_to_a_group_th_as_admin_and_dut_as_group_member">26.3.3. [TC-SC-5.1] Adding member to a group - TH as Admin and DUT as Group Member</a></li>
<li><a href="#_tc_sc_5_2_receiving_a_group_message_th_to_dut">26.3.4. [TC-SC-5.2] Receiving a group message - TH to DUT</a></li>
<li><a href="#_tc_sc_5_3_sending_a_group_message_dut_to_th">26.3.5. [TC-SC-5.3] Sending a group message - DUT to TH</a></li>
<li><a href="#_tc_grpkey_5_4_verification_for_keysetreadresponse_command_for_cacheandsync">26.3.6. [TC-GRPKEY-5.4] Verification for KeySetReadResponse Command for CacheAndSync</a></li>
</ul>
</li>
<li><a href="#_client_as_dut">26.4. Client as DUT</a>
<ul class="sectlevel3">
<li><a href="#_tc_sc_6_1_adding_member_to_a_group_dut_as_admin_and_th_as_group_member_dut_client">26.4.1. [TC-SC-6.1] Adding member to a group - DUT as Admin and TH as Group Member [DUT-Client]</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_device_attestation_test_plan"><strong>Device Attestation Test Plan</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition_8">27. PICS Definition</a></li>
<li><a href="#_test_case_list_7">28. Test Case List</a></li>
<li><a href="#_test_cases_7">29. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_server_as_dut_2">29.1. Server as DUT</a>
<ul class="sectlevel3">
<li><a href="#_tc_da_1_1_the_noc_shall_be_wiped_on_factory_reset_dut_commissionee">29.1.1. [TC-DA-1.1] The NOC SHALL be wiped on Factory Reset [DUT - Commissionee]</a></li>
<li><a href="#_tc_da_1_2_device_attestation_request_validation_dut_commissionee">29.1.2. [TC-DA-1.2] Device Attestation Request Validation [DUT - Commissionee]</a></li>
<li><a href="#_tc_da_1_3_device_attestation_request_validation_dut_commissioner">29.1.3. [TC-DA-1.3] Device Attestation Request Validation [DUT - Commissioner]</a></li>
<li><a href="#_tc_da_1_4_device_attestation_request_validation_error_scenario_dut_commissioner">29.1.4. [TC-DA-1.4] Device Attestation Request Validation-Error Scenario [DUT-Commissioner]</a></li>
<li><a href="#_tc_da_1_5_nocsr_procedure_validation_dut_commissionee">29.1.5. [TC-DA-1.5] NOCSR Procedure Validation [DUT - Commissionee]</a></li>
<li><a href="#_tc_da_1_6_nocsr_procedure_validation_dut_commissioner">29.1.6. [TC-DA-1.6] NOCSR Procedure Validation [DUT - Commissioner]</a></li>
<li><a href="#_tc_da_1_7_validate_certificatechainrequest_dut_commissionee">29.1.7. [TC-DA-1.7] Validate CertificateChainRequest [DUT-Commissionee]</a></li>
<li><a href="#_tc_da_1_8_device_attestation_request_validation_success_scenario_dut_commissioner">29.1.8. [TC-DA-1.8] Device Attestation Request Validation-Success Scenario [DUT-Commissioner]</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_interaction_data_model_test_plan"><strong>Interaction Data Model Test Plan</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition_9">30. PICS Definition</a></li>
<li><a href="#_test_case_list_8">31. Test Case List</a></li>
<li><a href="#_test_cases_8">32. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_invoke_transaction_test_cases">32.1. Invoke Transaction Test Cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_idm_1_1_invoke_request_action_from_dut_to_th_dut_as_client">32.1.1. [TC-IDM-1.1] Invoke Request Action from DUT to TH - [DUT as Client]</a></li>
<li><a href="#_tc_idm_1_2_invoke_response_action_from_dut_to_th_dut_as_server">32.1.2. [TC-IDM-1.2] Invoke Response Action from DUT to TH - [DUT as Server]</a></li>
<li><a href="#_tc_idm_1_3_batched_commands_invoke_request_action_from_dut_to_th_dut_as_client">32.1.3. [TC-IDM-1.3] Batched Commands Invoke Request Action from DUT to TH - [DUT as Client]</a></li>
<li><a href="#_tc_idm_1_4_batched_commands_invoke_response_action_from_dut_to_th_dut_as_server">32.1.4. [TC-IDM-1.4] Batched Commands Invoke Response Action from DUT to TH - [DUT as Server]</a></li>
</ul>
</li>
<li><a href="#_read_transaction_test_cases">32.2. Read Transaction Test Cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_idm_2_1_read_request_action_from_dut_to_th_dut_as_client">32.2.1. [TC-IDM-2.1] Read Request Action from DUT to TH. [DUT as Client]</a></li>
<li><a href="#_tc_idm_2_2_report_data_action_from_dut_to_th_dut_as_server">32.2.2. [TC-IDM-2.2] Report Data Action from DUT to TH. [DUT as Server]</a></li>
</ul>
</li>
<li><a href="#_write_transaction_test_cases">32.3. Write Transaction Test Cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_idm_3_1_write_request_action_from_dut_to_th_dut_as_client">32.3.1. [TC-IDM-3.1] Write Request Action from DUT to TH. [DUT as Client]</a></li>
<li><a href="#_tc_idm_3_2_write_response_action_from_dut_to_th_dut_as_server">32.3.2. [TC-IDM-3.2] Write Response Action from DUT to TH. [DUT as Server]</a></li>
</ul>
</li>
<li><a href="#_subscription_transaction_test_cases">32.4. Subscription Transaction Test Cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_idm_4_1_subscriptionrequestmessage_from_dut_test_cases_dut_as_client">32.4.1. [TC-IDM-4.1] SubscriptionRequestMessage from DUT test cases. [DUT as Client]</a></li>
<li><a href="#_tc_idm_4_2_subscription_response_messages_from_dut_test_cases_dut_as_server">32.4.2. [TC-IDM-4.2] Subscription Response Messages from DUT Test Cases. [DUT as Server]</a></li>
<li><a href="#_tc_idm_4_3_report_data_messages_post_subscription_activation_from_dut_test_cases_dut_as_server">32.4.3. [TC-IDM-4.3] Report Data Messages post Subscription Activation from DUT Test Cases. [DUT as Server]</a></li>
<li><a href="#_tc_idm_4_4_persistent_subscription_test_cases_dut_as_server">32.4.4. [TC-IDM-4.4] Persistent Subscription Test Cases. [DUT as Server]</a></li>
</ul>
</li>
<li><a href="#_timed_request_action_test_cases">32.5. Timed Request Action Test Cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_idm_5_1_timed_request_action_from_dut_to_th_dut_as_client">32.5.1. [TC-IDM-5.1] Timed Request Action from DUT to TH. [DUT as Client]</a></li>
<li><a href="#_tc_idm_5_2_status_response_from_dut_in_response_to_a_timed_request_action_from_th">32.5.2. [TC-IDM-5.2] Status Response from DUT in response to a Timed Request Action from TH.</a></li>
</ul>
</li>
<li><a href="#_events_test_cases">32.6. Events Test Cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_idm_6_1_events_read_interaction_from_th_to_dut_dut_as_server">32.6.1. [TC-IDM-6.1] Events Read Interaction from TH to DUT. [DUT as Server]</a></li>
<li><a href="#_tc_idm_6_2_events_subscribe_interaction_from_th_to_dut_dut_as_server">32.6.2. [TC-IDM-6.2] Events Subscribe Interaction from TH to DUT. [DUT as Server]</a></li>
<li><a href="#_tc_idm_6_3_events_read_interaction_from_dut_to_th_dut_as_client">32.6.3. [TC-IDM-6.3] Events Read Interaction from DUT to TH. [DUT as Client]</a></li>
<li><a href="#_tc_idm_6_4_events_subscribe_interaction_from_dut_to_th_dut_as_client">32.6.4. [TC-IDM-6.4] Events Subscribe Interaction from DUT to TH. [DUT as Client]</a></li>
<li><a href="#_tc_idm_7_1_multi_fabric_subscription_test_cases_dut_as_server">32.6.5. [TC-IDM-7.1] Multi Fabric Subscription Test Cases. [DUT as Server]</a></li>
<li><a href="#_tc_idm_8_1_fabric_scoped_test_cases_dut_as_server">32.6.6. [TC-IDM-8.1] Fabric scoped Test Cases. [DUT as Server]</a></li>
<li><a href="#_tc_idm_9_1_constraint_error_status_response_test_cases_dut_as_server_removed">32.6.7. [TC-IDM-9.1] CONSTRAINT_ERROR status response test cases [DUT as Server] - REMOVED</a></li>
<li><a href="#_tc_idm_10_1_cluster_requirements_cluster_id_and_global_attribute_conformance_checks_dut_as_server">32.6.8. [TC-IDM-10.1] Cluster requirements - Cluster ID and Global attribute conformance checks [DUT as Server]</a></li>
<li><a href="#_tc_idm_10_2_cluster_requirements_conformance_dut_as_server">32.6.9. [TC-IDM-10.2] Cluster requirements - Conformance [DUT as Server]</a></li>
<li><a href="#_tc_idm_10_3_cluster_requirements_revision_dut_as_server">32.6.10. [TC-IDM-10.3] Cluster requirements - Revision [DUT as Server]</a></li>
<li><a href="#_tc_idm_10_4_cluster_requirements_pics_dut_as_server">32.6.11. [TC-IDM-10.4] Cluster requirements - PICS [DUT as Server]</a></li>
<li><a href="#_tc_idm_11_1_data_types_attribute_strings_dut_as_server_data_model">32.6.12. [TC-IDM-11.1] Data types - attribute strings [DUT as Server] - data model</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_administrator_commissioning_cluster_test_plan"><strong>Administrator Commissioning Cluster Test Plan</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition_10">33. PICS Definition</a>
<ul class="sectlevel2">
<li><a href="#_role_6">33.1. Role</a></li>
<li><a href="#_server_6">33.2. Server</a>
<ul class="sectlevel3">
<li><a href="#_features_4">33.2.1. Features</a></li>
<li><a href="#_commands_received_6">33.2.2. Commands received</a></li>
<li><a href="#_attributes_7">33.2.3. Attributes</a></li>
</ul>
</li>
<li><a href="#_client_4">33.3. Client</a>
<ul class="sectlevel3">
<li><a href="#_manual_controllable">33.3.1. Manual controllable</a></li>
<li><a href="#_commands_generated_7">33.3.2. Commands generated</a></li>
<li><a href="#_attributes_8">33.3.3. Attributes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_pixit_definition_4">34. PIXIT Definition</a></li>
<li><a href="#_test_case_list_9">35. Test Case List</a></li>
<li><a href="#_test_cases_9">36. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_multiple_fabrics_test_cases">36.1. Multiple Fabrics Test Cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_cadmin_1_1_administrator_behavior_using_ecm_dut_commissioner">36.1.1. [TC-CADMIN-1.1] Administrator Behavior using ECM [DUT - Commissioner]</a></li>
<li><a href="#_tc_cadmin_1_2_administrator_behavior_using_bcm_dut_commissioner">36.1.2. [TC-CADMIN-1.2] Administrator Behavior using BCM [DUT - Commissioner]</a></li>
<li><a href="#_tc_cadmin_1_3_node_behavior_using_ecm_dut_commissionee">36.1.3. [TC-CADMIN-1.3] Node Behavior using ECM [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_4_node_behavior_using_bcm_dut_commissionee">36.1.4. [TC-CADMIN-1.4] Node Behavior using BCM [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_5_commissioning_window_handling_timeout_and_revocation_using_ecm_dut_commissionee">36.1.5. [TC-CADMIN-1.5] Commissioning window handling timeout and revocation using ECM [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_6_commissioning_window_handling_timeout_and_revocation_using_bcm_dut_commissionee">36.1.6. [TC-CADMIN-1.6] Commissioning window handling timeout and revocation using BCM [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_7_commissioning_window_handling_timeout_and_revocation_using_ecm_dut_commissioner">36.1.7. [TC-CADMIN-1.7] Commissioning window handling timeout and revocation using ECM [DUT - Commissioner]</a></li>
<li><a href="#_tc_cadmin_1_8_commissioning_window_handling_timeout_and_revocation_using_bcm_dut_commissioner">36.1.8. [TC-CADMIN-1.8] Commissioning window handling timeout and revocation using BCM [DUT - Commissioner]</a></li>
<li><a href="#_tc_cadmin_1_9_device_exit_commissioning_mode_after_20_failed_commission_attempts_ecm_dut_commissionee">36.1.9. [TC-CADMIN-1.9] Device exit commissioning mode after 20 failed commission attempts [ECM] [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_10_device_exit_commissioning_mode_after_20_failed_commission_attempts_bcm_dut_commissionee">36.1.10. [TC-CADMIN-1.10] Device exit commissioning mode after 20 failed commission attempts [BCM] [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_11_open_commissioning_window_on_dut_twice_using_ecm_then_bcm_dut_commissionee">36.1.11. [TC-CADMIN-1.11] Open commissioning window on DUT twice using ECM then BCM [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_12_open_commissioning_window_on_dut_twice_using_ecm_then_bcm_dut_commissioner">36.1.12. [TC-CADMIN-1.12] Open commissioning window on DUT twice using ECM then BCM [DUT - Commissioner]</a></li>
<li><a href="#_tc_cadmin_1_13_open_commissioning_window_twice_on_dut_using_bcm_then_ecm_dut_commissionee">36.1.13. [TC-CADMIN-1.13] Open commissioning window twice on DUT using BCM then ECM [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_14_open_commissioning_window_twice_on_dut_using_bcm_then_ecm_dut_commissioner">36.1.14. [TC-CADMIN-1.14] Open commissioning window twice on DUT using BCM then ECM [DUT - Commissioner]</a></li>
<li><a href="#_tc_cadmin_1_15_removing_fabrics_from_dut_and_fabric_index_enumeration_using_ecm_dut_commissionee">36.1.15. [TC-CADMIN-1.15] Removing Fabrics from DUT and Fabric index enumeration using ECM [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_16_removing_fabrics_from_dut_and_fabric_index_enumeration_using_bcm_dut_commissionee">36.1.16. [TC-CADMIN-1.16] Removing Fabrics from DUT and Fabric index enumeration using BCM [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_17_removing_fabrics_from_dut_and_fabric_index_enumeration_using_ecm_dut_commissioner">36.1.17. [TC-CADMIN-1.17] Removing Fabrics from DUT and Fabric index enumeration using ECM [DUT - Commissioner]</a></li>
<li><a href="#_tc_cadmin_1_18_removing_fabrics_from_dut_and_fabric_index_enumeration_using_bcm_dut_commissioner">36.1.18. [TC-CADMIN-1.18] Removing Fabrics from DUT and Fabric index enumeration using BCM [DUT - Commissioner]</a></li>
<li><a href="#_tc_cadmin_1_19_max_number_of_commissioned_fabrics_and_supportedfabrics_rollover_using_ecm_dut_commissionee">36.1.19. [TC-CADMIN-1.19] max number of Commissioned Fabrics and SupportedFabrics rollover using ECM [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_20_max_number_of_commissioned_fabrics_and_supportedfabrics_rollover_using_bcm_dut_commissionee">36.1.20. [TC-CADMIN-1.20] max number of Commissioned Fabrics and SupportedFabrics rollover using BCM [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_21_open_commissioning_window_durations_max_and_max1_bcm_dut_commissionee">36.1.21. [TC-CADMIN-1.21] Open commissioning window - durations max and max+1 [BCM] [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_22_open_commissioning_window_durations_max_and_max1_ecm_dut_commissionee">36.1.22. [TC-CADMIN-1.22] Open commissioning window - durations max and max+1 [ECM] [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_23_open_commissioning_window_durations_min_and_min_1_bcm_dut_commissionee">36.1.23. [TC-CADMIN-1.23] Open commissioning window - durations min and min-1 [BCM] [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_24_open_commissioning_window_durations_min_and_min_1_ecm_dut_commissionee">36.1.24. [TC-CADMIN-1.24] Open commissioning window - durations min and min-1 [ECM] [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_25_subscription_to_the_attributes_verify_subscription_response_ecm_dut_commissionee">36.1.25. [TC-CADMIN-1.25] Subscription to the attributes - verify subscription response [ECM] [DUT - Commissionee]</a></li>
<li><a href="#_tc_cadmin_1_26_subscription_to_the_attributes_verify_subscription_response_bcm_dut_commissionee">36.1.26. [TC-CADMIN-1.26] Subscription to the attributes - verify subscription response [BCM] [DUT - Commissionee]</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_bridge_test_plan"><strong>Bridge Test Plan</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition_11">37. PICS Definition</a>
<ul class="sectlevel2">
<li><a href="#_dut_server">37.1. DUT server</a></li>
<li><a href="#_dut_client">37.2. DUT client</a></li>
</ul>
</li>
<li><a href="#_test_case_list_10">38. Test Case List</a></li>
<li><a href="#_test_cases_10">39. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_bridge_test_cases">39.1. Bridge Test Cases</a>
<ul class="sectlevel3">
<li><a href="#ref_TC-BR-1">39.1.1. [TC-BR-1] Basics of bridging (DUT server)</a></li>
<li><a href="#ref_TC-BR-2">39.1.2. [TC-BR-2] Changing the set of bridged devices (DUT server)</a></li>
<li><a href="#ref_TC-BR-3">39.1.3. [TC-BR-3] Changing name and state of a bridged device (DUT server)</a></li>
<li><a href="#ref_TC-BR-4">39.1.4. [TC-BR-4] DUT client handling of bridges (DUT client)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_bulk_data_exchange_protocol_test_plan"><strong>Bulk Data Exchange Protocol Test Plan</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition_12">40. PICS Definition</a></li>
<li><a href="#_test_case_list_11">41. Test Case List</a></li>
<li><a href="#_test_cases_11">42. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_transfer_management_test_cases">42.1. Transfer Management Test Cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_bdx_1_1_sender_initiated_bdx_transfer_session_removed">42.1.1. [TC-BDX-1.1] Sender Initiated BDX Transfer Session - REMOVED</a></li>
<li><a href="#_tc_bdx_1_2_receiver_initiated_bdx_transfer_session">42.1.2. [TC-BDX-1.2] Receiver Initiated BDX Transfer Session</a></li>
<li><a href="#_tc_bdx_1_3_response_to_sender_initiated_bdx_transfer_session_removed">42.1.3. [TC-BDX-1.3] Response to Sender Initiated BDX Transfer Session - REMOVED</a></li>
<li><a href="#_tc_bdx_1_4_response_to_receiver_initiated_bdx_transfer_session">42.1.4. [TC-BDX-1.4] Response to Receiver Initiated BDX Transfer Session</a></li>
<li><a href="#_tc_bdx_1_5_response_to_sender_initiated_bdx_transfer_session_negative_scenario_removed">42.1.5. [TC-BDX-1.5] Response to Sender Initiated BDX Transfer Session - Negative Scenario - REMOVED</a></li>
<li><a href="#_tc_bdx_1_6_response_to_receiver_initiated_bdx_transfer_session_negative_scenario_removed">42.1.6. [TC-BDX-1.6] Response to Receiver Initiated BDX Transfer Session - Negative Scenario - REMOVED</a></li>
</ul>
</li>
<li><a href="#_data_transfer_test_cases">42.2. Data Transfer Test Cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_bdx_2_1_synchronous_file_sending">42.2.1. [TC-BDX-2.1] Synchronous File Sending</a></li>
<li><a href="#_tc_bdx_2_2_synchronous_file_receiving">42.2.2. [TC-BDX-2.2] Synchronous File Receiving</a></li>
<li><a href="#_tc_bdx_2_3_restart_synchronous_file_receiving_removed">42.2.3. [TC-BDX-2.3] Restart Synchronous File Receiving - REMOVED</a></li>
<li><a href="#_tc_bdx_2_4_asynchronous_file_sending_removed">42.2.4. [TC-BDX-2.4] Asynchronous File Sending - REMOVED</a></li>
<li><a href="#_tc_bdx_2_5_asynchronous_file_receiving_removed">42.2.5. [TC-BDX-2.5] Asynchronous File Receiving - REMOVED</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_ota_software_update_test_plan"><strong>OTA Software Update Test Plan</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition_13">43. PICS Definition</a></li>
<li><a href="#_test_case_list_12">44. Test Case List</a></li>
<li><a href="#_test_cases_12">45. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_ota_provider_discovery">45.1. OTA Provider Discovery</a>
<ul class="sectlevel3">
<li><a href="#_tc_su_1_1_invoke_announceotaprovider_from_admindut_to_ota_r">45.1.1. [TC-SU-1.1] Invoke AnnounceOTAProvider from Admin(DUT) to OTA-R</a></li>
</ul>
</li>
<li><a href="#_querying_the_ota_provider">45.2. Querying the OTA Provider</a>
<ul class="sectlevel3">
<li><a href="#_tc_su_2_1_queryimage_command_from_dut_to_ota_p">45.2.1. [TC-SU-2.1] QueryImage Command from DUT to OTA-P</a></li>
<li><a href="#_tc_su_2_2_handling_different_queryimageresponse_scenarios_on_requestor">45.2.2. [TC-SU-2.2] Handling Different QueryImageResponse Scenarios on Requestor</a></li>
</ul>
</li>
<li><a href="#_transfer_of_software_update_images">45.3. Transfer of Software Update Images</a>
<ul class="sectlevel3">
<li><a href="#_tc_su_2_3_transfer_of_software_update_images_between_dut_and_thota_p">45.3.1. [TC-SU-2.3] Transfer of Software Update Images between DUT and TH/OTA-P</a></li>
</ul>
</li>
<li><a href="#_applying_a_software_update">45.4. Applying a Software Update</a>
<ul class="sectlevel3">
<li><a href="#_tc_su_2_4_applyupdaterequest_command_from_dut_to_ota_p">45.4.1. [TC-SU-2.4] ApplyUpdateRequest Command from DUT to OTA-P</a></li>
<li><a href="#_tc_su_2_5_handling_different_applyupdateresponse_scenarios_on_requestor">45.4.2. [TC-SU-2.5] Handling Different ApplyUpdateResponse Scenarios on Requestor</a></li>
<li><a href="#_tc_su_2_6_notifyupdateapplied_command_from_dut_to_ota_p">45.4.3. [TC-SU-2.6] NotifyUpdateApplied Command from DUT to OTA-P</a></li>
</ul>
</li>
<li><a href="#_requestor_cluster_events">45.5. Requestor Cluster Events</a>
<ul class="sectlevel3">
<li><a href="#_tc_su_2_7_verifying_events_on_ota_rdut">45.5.1. [TC-SU-2.7] Verifying Events on OTA-R(DUT)</a></li>
</ul>
</li>
<li><a href="#_multiple_fabrics">45.6. Multiple Fabrics</a>
<ul class="sectlevel3">
<li><a href="#_tc_su_2_8_ota_functionality_in_multi_fabric_scenario">45.6.1. [TC-SU-2.8] OTA Functionality in Multi Fabric Scenario</a></li>
</ul>
</li>
<li><a href="#_querying_the_ota_provider_2">45.7. Querying the OTA Provider</a>
<ul class="sectlevel3">
<li><a href="#_tc_su_3_1_queryimageresponse_from_dut_to_ota_r">45.7.1. [TC-SU-3.1] QueryImageResponse from DUT to OTA-R</a></li>
<li><a href="#_tc_su_3_2_handling_different_queryimageresponse_scenarios_on_provider">45.7.2. [TC-SU-3.2] Handling Different QueryImageResponse Scenarios on Provider</a></li>
</ul>
</li>
<li><a href="#_transfer_of_software_update_images_2">45.8. Transfer of Software Update Images</a>
<ul class="sectlevel3">
<li><a href="#_tc_su_3_3_transfer_of_software_update_images_between_dut_and_ota_r">45.8.1. [TC-SU-3.3] Transfer of Software Update Images between DUT and OTA-R</a></li>
</ul>
</li>
<li><a href="#_applying_a_software_update_2">45.9. Applying a Software Update</a>
<ul class="sectlevel3">
<li><a href="#_tc_su_3_4_handling_different_applyupdateresponse_scenarios_on_provider">45.9.1. [TC-SU-3.4] Handling Different ApplyUpdateResponse Scenarios on Provider</a></li>
</ul>
</li>
<li><a href="#_requestor_cluster_attributes">45.10. Requestor Cluster Attributes</a>
<ul class="sectlevel3">
<li><a href="#_tc_su_4_1_verifying_cluster_attributes_on_ota_rdut">45.10.1. [TC-SU-4.1] Verifying Cluster Attributes on OTA-R(DUT)</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_access_control_enforcement_test_plan"><strong>Access Control Enforcement Test Plan</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition_14">46. PICS Definition</a>
<ul class="sectlevel2">
<li><a href="#_role_7">46.1. Role</a></li>
<li><a href="#_server_7">46.2. Server</a>
<ul class="sectlevel3">
<li><a href="#_attributes_9">46.2.1. Attributes</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_pixit_definition_5">47. PIXIT Definition</a></li>
<li><a href="#_test_case_list_13">48. Test Case List</a></li>
<li><a href="#_test_cases_13">49. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_cluster_attribute_test_cases">49.1. Cluster Attribute test cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_ace_1_1_privileges">49.1.1. [TC-ACE-1.1] Privileges</a></li>
<li><a href="#_tc_ace_1_2_subscriptions">49.1.2. [TC-ACE-1.2] Subscriptions</a></li>
<li><a href="#_tc_ace_1_3_subjects">49.1.3. [TC-ACE-1.3] Subjects</a></li>
<li><a href="#_tc_ace_1_4_targets">49.1.4. [TC-ACE-1.4] Targets</a></li>
<li><a href="#_tc_ace_1_5_multi_fabric">49.1.5. [TC-ACE-1.5] Multi-fabric</a></li>
<li><a href="#_tc_ace_1_6_group_auth_mode">49.1.6. [TC-ACE-1.6] Group auth mode</a></li>
<li><a href="#_tc_ace_2_1_attribute_read_privilege_enforcement_dut_as_server">49.1.7. [TC-ACE-2.1] Attribute read privilege enforcement - [DUT as Server]</a></li>
<li><a href="#_tc_ace_2_2_attribute_write_privilege_enforcement_dut_as_server">49.1.8. [TC-ACE-2.2] Attribute write privilege enforcement - [DUT as Server]</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_minimal_resource_requirements_test_plan"><strong>Minimal Resource Requirements Test Plan</strong></a>
<ul class="sectlevel1">
<li><a href="#_test_case_list_14">50. Test Case List</a></li>
<li><a href="#_test_cases_14">51. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_minimal_resource_requirements_test_cases">51.1. Minimal Resource Requirements Test Cases</a>
<ul class="sectlevel3">
<li><a href="#_tc_rr_1_1_minimal_resource_requirements_for_matter_node">51.1.1. [TC-RR-1.1] Minimal Resource Requirements for Matter Node</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_system_model_test_plan"><strong>System Model Test Plan</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition_15">52. PICS Definition</a></li>
<li><a href="#_test_case_list_15">53. Test Case List</a></li>
<li><a href="#_test_cases_15">54. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_device_composition_tests">54.1. Device composition tests</a>
<ul class="sectlevel3">
<li><a href="#_tc_sm_1_1_device_composition_root_node_dut_as_server">54.1.1. [TC-SM-1.1] Device composition - Root Node [DUT as Server]</a></li>
<li><a href="#_tc_sm_1_2_device_composition_topology_dut_as_server">54.1.2. [TC-SM-1.2] Device composition - Topology [DUT as Server]</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#_device_types_test_plan"><strong>Device Types Test Plan</strong></a>
<ul class="sectlevel1">
<li><a href="#_pics_definition_16">55. PICS Definition</a></li>
<li><a href="#_test_case_list_16">56. Test Case List</a></li>
<li><a href="#_test_cases_16">57. Test Cases</a>
<ul class="sectlevel2">
<li><a href="#_device_composition_tests_2">57.1. Device composition tests</a>
<ul class="sectlevel3">
<li><a href="#_tc_dt_1_1_base_device_type_dut_as_server">57.1.1. [TC-DT-1.1] Base Device Type [DUT as Server]</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_notice_of_use_and_disclosure"><a class="anchor" href="#_notice_of_use_and_disclosure"></a>Notice of Use and Disclosure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Copyright &#169; Connectivity Standards Alliance (2021). All rights reserved. This
information within this document is the property of the Connectivity Standards
Alliance and its use and disclosure are restricted.</p>
</div>
<div class="paragraph">
<p>Elements of Connectivity Standards Alliance specifications may be subject to third party intellectual property rights, including without limitation,
patent, copyright or trademark rights (such a third party may or may
not be a member of the Connectivity Standards Alliance). The Connectivity Standards Alliance is not responsible and shall not be held responsible in any manner for identifying or failing to identify any or all such third party
intellectual property rights.</p>
</div>
<div class="paragraph">
<p>This document and the information contained herein are provided on an
"AS IS" basis and the Connectivity Standards Alliance DISCLAIMS ALL WARRANTIES EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO (A) ANY WARRANTY THAT THE USE
OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OF THIRD
PARTIES (INCLUDING WITHOUT LIMITATION ANY INTELLECTUAL PROPERTY RIGHTS
INCLUDING PATENT, COPYRIGHT OR TRADEMARK RIGHTS) OR (B) ANY IMPLIED
WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE
OR NON-INFRINGEMENT. IN NO EVENT WILL THE CONNECTIVITY STANDARDS ALLIANCE BE LIABLE FOR ANY LOSS OF PROFITS, LOSS OF BUSINESS, LOSS OF USE OF DATA,
INTERRUPTION OF BUSINESS, OR FOR ANY OTHER DIRECT, INDIRECT, SPECIAL
OR EXEMPLARY, INCIDENTAL, PUNITIVE OR CONSEQUENTIAL DAMAGES OF ANY
KIND, IN CONTRACT OR IN TORT, IN CONNECTION WITH THIS DOCUMENT OR THE
INFORMATION CONTAINED HEREIN, EVEN IF ADVISED OF THE POSSIBILITY OF
SUCH LOSS OR DAMAGE.</p>
</div>
<div class="paragraph">
<p>All company, brand and product names may be trademarks that are the
sole property of their respective owners.</p>
</div>
<div class="paragraph">
<p>This legal notice must be included on all copies of this document that
are made.</p>
</div>
<div class="paragraph">
<p>Connectivity Standards Alliance<br>
508 Second Street, Suite 206<br>
Davis, CA 95616, USA</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_participants"><a class="anchor" href="#_participants"></a>Participants</h2>
<div class="sectionbody">
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Agner, Stefan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Alvarez, José</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ambalkar, Om</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ananthakrishnan, Krithika</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Andreola, Cristian</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Babu, Praveen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Balducci, Alex</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bansal, Chirag</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bartolome, Diego</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bauer-Schwan, Stefan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beach, Chris</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Beck, Austin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Becker, Markus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Berrios, Victor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bhat, Vikram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bodurka, Adam</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bultman, Rob</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C, Rajashree</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cao, Cindy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Carbonara, Amato</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Carmel-Veilleux, Tennessee</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Caronello, Paolo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chalmers, Andrew</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chen, Zedd</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chudinov, Anton</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Claes, Jan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cullen, Sam</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dakalia, Abhinav</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Decenzo, Chris</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deshpande, Prachi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ding, Li-An</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drake, Jeff</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dunham, Michael</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Freeman, Cecille</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fu, Kenneth</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Futane, Virupaksha</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fyall, Ian</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Galgalikar, Sailee</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Garg, Pankaj</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Garikipati, Shyam</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gaul, Dan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gonyea, Liam</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Guo, Jiacheng</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Guo, Song</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">H. G., Pramod</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Harvey, Gene</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Heide, Janus</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Heo, Joonhaeng</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hernandez Palomares, Martin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Honnakasturi, Priyanka</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hou, Winnie</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Houtepen, Rob</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hsiao, Alvin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hsu, Sid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hu, Yinyi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hussien, Emad</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jandhyala, Chaitanya</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Johns, Jerry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Josefsen, René</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kamp, Twan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kardous, Mathieu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Katira, Utsav</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kaur, Navjot</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Khayat, Joseph</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kim, Jeonghwan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kleszcz, Marcin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kneip, Daniel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Knörzer, Clemens</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kommareddi, Naveen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kohr, John</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kong, Lingshan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kontra, Andrew</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Kovacic, Lazar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Królik, Damian</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">KY, Suma</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Langewouters, Thomas</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lauric, Petru</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lazar, Alin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lepage, Marc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Li, James</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Li, Zeng</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Liang, Gerrard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lim, Kean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lissianoi, Sergei</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lv, Zhinan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lyall, Jim</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ma, Qiang</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maes, Timothy</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Makdissi, Shadi</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mamo, Fesseha</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matignon, Florent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">McAtee, Maxwell</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">McClain, Sean</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mégevand, Jonathan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mehta, Manav</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mohan, Kvs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Møller, Mikael</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Moreno, Alvaro</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N.K., Sethu</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nadathur, Anush</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nandyala, Ramakrishna</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Øbakke, Erik Eskjær</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ocasio, Eric</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">P, Ashwini</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">P, Aswathy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Palagummi, Raju</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pan, Shaofeng</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parausanu, Dragos</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Paugam, Luc</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Penven, Jean-Francois</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pérez, Agustin</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Petersen, Brian</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Powell, Ken</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Qixiang, Wang</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R A, Manjunath</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rahman, Mostafizur</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rhees, Jon</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rozendaal, Leo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rupp, Michael</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">S, Kowsalyadevi</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">S, Sowmya</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Salaun, Jean-Yves</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Samad, Abdul</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Schulze Struchtrup, Sebastian</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Seenivasan, Suraj</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Selvam, Sankar</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sena, Joe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">She, Chengqiang</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shi, Lucy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shin, Sungmok</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sivaram</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Somasundaram</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Son, Jae</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Szablowski, Michał</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Szewczyk, Robert</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tache, Marius</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Takebe, Yasuyuki</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thangaraj, Karthik</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trayer, Mark</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Turon, Martin</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vasiliev, Sergey</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Villasenor, Joshua</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wan, Lank</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wang, David</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wang, Haoran</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wang, Yunhan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Westadt, Caleb</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yang, Carol</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zbarsky, Boris</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zhang, Aimee</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zhang, Xili</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zhaoxuan, Zhai</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_document_control"><a class="anchor" href="#_document_control"></a>Document Control</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Matter Test Plan is made of different chapters from the Specification.</p>
</div>
<div class="paragraph">
<p><strong>Main Test Plans</strong></p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Discovery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./devicediscovery.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secure Channel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./securechannel.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Attestation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./deviceattestation.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Basic Information</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/basic_information.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Operational Credentials</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/node_operational_credentials.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Network Commissioning</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/network_commissioning.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interaction Data Model</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./interactiondatamodel.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiple Fabrics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./multiplefabrics.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bridge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./bridge.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA Software Update</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./softwareupdate.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bulk Data Exchange Protocol</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./bdx.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimal Resource Requirements</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./minimal_resource_reqs.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access Control Enforcement</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./AccessControlEnforcement.adoc">Document #</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Cluster Test Plans</strong></p>
</div>
<table class="tableblock frame-none grid-none stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OnOff Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/onoff.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Relative Humidity Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/relativehumiditymeasurement.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Temperature Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/temperaturemeasurement.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pump Configuration and Control Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/pump_configuration_and_control.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Media Cluster Library</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/media.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Level Control Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/levelcontrol.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Color Control Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/colorcontrol.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Occupancy Sensing Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/occupancysensing.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Window Covering Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/window_covering.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">On/Off Switch Configuration Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/onoffswitchconfiguration.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Software Diagnostics Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/software_diagnostics.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ethernet Network Diagnostics Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/ethernet_diagnostics.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Switch Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/switch.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Actions Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/actions.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scenes Management Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/scenes.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bridged Device Basic Information</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/bridged_device_basic_information.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Temperature Control Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/TemperatureControl.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Carbon Monoxide Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/carbon_monoxide_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Carbon Dioxide Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/carbon_dioxide_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ethylene Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/ethylene_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ethylene Oxide Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/ethylene_oxide_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hydrogen Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/hydrogen_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hydrogen Sulfide Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/hydrogen_sulfide_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nitric Oxide Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/nitric_oxide_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nitrogen Dioxide Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/nitrogen_dioxide_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oxygen Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/oxygen_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ozone Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/ozone_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sulfur Dioxide Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/sulfur_dioxide_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dissolved Oxygen Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/dissolved_oxygen_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bromate Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/bromate_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chloramines Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/chloramines_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chlorine Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/chlorine_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fecal coliform &amp; E. Coli Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/fecal_coliform_&amp;_e__coli_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fluoride Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/fluoride_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Haloacetic Acids Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/haloacetic_acids_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total Trihalomethanes Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/total_trihalomethanes_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total Coliform Bacteria Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/total_coliform_bacteria_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Turbidity Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/turbidity_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Copper Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/copper_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lead Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/lead_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manganese Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/manganese_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sulfate Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/sulfate_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bromodichloromethane Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/bromodichloromethane_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bromoform Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/bromoform_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chlorodibromomethane Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/chlorodibromomethane_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Chloroform Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/chloroform_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sodium Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/sodium_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PM2.5 Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/pm2_5_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Formaldehyde Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/formaldehyde_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PM1 Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/pm1_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PM10 Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/pm10_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Total Volatile Organic Compounds Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/total_volatile_organic_compounds_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Radon Concentration Measurement Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/concentration-measurement/radon_concentration_measurement_cluster.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Laundry Dryer Controls Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/LaundryDryerControls.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Laundry Washer Mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/mode_laundry_washer.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Laundry Washer Controls Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/LaundryWasherControls.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fan Control Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/FanControl.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time Synchronization</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/time_synchronization.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dishwasher Mode Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/mode_dishwasher.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dishwasher Alarm Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/dishwasher_alarm.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operational State Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/operationalstate.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Air Quality Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/air_quality.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HEPA Filter Monitoring Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/resource-monitoring/hepa_filter_monitoring.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activated Carbon Filter Monitoring Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/resource-monitoring/activated_carbon_filter_monitoring.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ceramic Filter Monitoring Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/resource-monitoring/ceramic_filter_monitoring.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Electrostatic Filter Monitoring Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/resource-monitoring/electrostatic_filter_monitoring.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UV Filter Monitoring Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/resource-monitoring/uv_filter_monitoring.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ionizing Filter Monitoring Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/resource-monitoring/ionizing_filter_monitoring.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zeolite Filter Monitoring Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/resource-monitoring/zeolite_filter_monitoring.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ozone Filter Monitoring Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/resource-monitoring/ozone_filter_monitoring.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Water Tank Monitoring Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/resource-monitoring/water_tank_monitoring.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fuel Tank Monitoring Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/resource-monitoring/fuel_tank_monitoring.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ink Cartridge Monitoring Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/resource-monitoring/ink_cartridge_monitoring.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Toner Cartridge Monitoring Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/resource-monitoring/toner_cartridge_monitoring.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mode Select Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/modeselect.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVC Run Mode Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/mode_rvc_run.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVC Clean Mode Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/mode_rvc_clean.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ICD Management</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/icdmanagement.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refrigerator Mode Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/mode_ref_tcc.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Refrigerator Alarm Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/refrigerator_alarm.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RVC Operational State Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/rvcoperationalstate.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Smoke and CO Alarm Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/smco.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Energy Management Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/device_energy_management.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oven Operational State Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/ovenoperationalstate.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean Sensor Configuration Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/boolean_sensor_configuration.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Microwave Oven Control Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/MicrowaveOvenControl.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Microwave Oven Mode Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/mode_MicrowaveOven.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean State Configuration Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/boolean_state_configuration.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valve Configuration and Control Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/valve_configuration_and_control.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Oven Mode Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/mode_oven.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Energy EVSE Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/energy_EVSE.adoc">Document #</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Messages Cluster Library</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="./cluster/messages.adoc">Document #</a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_document_history"><a class="anchor" href="#_document_history"></a>Document History</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Version</th>
<th class="tableblock halign-left valign-top">Date</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">r01</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">June 7, 2021</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial draft</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a><strong>Introduction</strong></h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_introduction_2"><a class="anchor" href="#_introduction_2"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_scope"><a class="anchor" href="#_scope"></a>1.1. Scope</h3>
<div class="paragraph">
<p>This test plan covers the tests for Matter 1.0.</p>
</div>
</div>
<div class="sect2">
<h3 id="_purpose"><a class="anchor" href="#_purpose"></a>1.2. Purpose</h3>
<div class="paragraph">
<p>Describe the tests to be performed for supported Matter 1.0 features.</p>
</div>
</div>
<div class="sect2">
<h3 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>1.3. Prerequisites</h3>
<div class="paragraph">
<p>A test plan may have prerequisites that should be met before the test plan can be executed with the expected results.  Examples of prerequisites include dependency certifications and security conformance.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Authority</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc No.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Plan Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Prerequisites</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_references"><a class="anchor" href="#_references"></a>2. References</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_matter_documents"><a class="anchor" href="#_matter_documents"></a>2.1. Matter Documents</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>Authority</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc No.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Specification Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Plan Name</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[C1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connectivity Standards Alliance / Matter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Github-Latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matter Specification - Section 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Secure Channel Test Plan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[C1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connectivity Standards Alliance / Matter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Github-Latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matter Specification - Section 5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Discovery Test Plan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[C1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connectivity Standards Alliance / Matter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Github-Latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matter Specification - Section 6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Attestation Test Plan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[C1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connectivity Standards Alliance / Matter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Github-Latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matter Specification - Section 11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Management Test Plan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[C1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connectivity Standards Alliance / Matter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Github-Latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matter Specification - Section 12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiple Administrators Test Plan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[C1]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Connectivity Standards Alliance / Matter</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Github-Latest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matter Specification - Section 9.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bridge Test Plan</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_dependency_certification_documents"><a class="anchor" href="#_dependency_certification_documents"></a>2.2. Dependency Certification Documents</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Authority</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc No.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Specification Name</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TBD</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_definitions"><a class="anchor" href="#_definitions"></a>3. Definitions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_acronyms"><a class="anchor" href="#_acronyms"></a>3.1. Acronyms</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Acronym or Abbreviation</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PICS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocol Implementation Conformance Statement(s).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocol Implementation eXtra Information for Testing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device under test</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAKE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password Authenticated Key Exchange</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PASE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passcode Authenticated Session Establishment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PBKDF</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password-Based Key Derivation Function</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MIC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Message integrity check</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CASE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Certificate Authenticated Session Establishment</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLV</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tag Length Value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Certificate Signing Request</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_glossary"><a class="anchor" href="#_glossary"></a>3.2. Glossary</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Term</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An addressable entity which supports the Matter protocol stack and (once
Commissioned) has its own operational Node ID and Operational Credential.
Example: Matter app(lication)s on a mobile phone are Nodes, the mobile phone
itself is a Device.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Controller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Role of a Node that has permissions to enable it to control one or more
Nodes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Controlee</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Role of a Node that has permissions defined to enable it to be controlled by
one or more Nodes.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_identificationsidentifiers"><a class="anchor" href="#_identificationsidentifiers"></a>3.3. Identifications/Identifiers</h3>
<div class="paragraph">
<p>Explanation of test case IDs, failure IDs, any other UUIDs</p>
</div>
</div>
<div class="sect2">
<h3 id="_conformance_levels"><a class="anchor" href="#_conformance_levels"></a>3.4. Conformance Levels</h3>
<div class="paragraph">
<p>Reference IETF RFC-2119</p>
</div>
<div class="paragraph">
<p>MUST   This word, or the terms "REQUIRED" or "SHALL", mean that the definition is an absolute requirement of the specification.</p>
</div>
<div class="paragraph">
<p>MUST NOT   This phrase, or the phrase "SHALL NOT", mean that the definition is an absolute prohibition of the specification.</p>
</div>
<div class="paragraph">
<p>SHOULD   This word, or the adjective "RECOMMENDED", mean that there may exist valid reasons in particular circumstances to ignore a particular item, but the full implications must be understood and carefully weighed before choosing a different course.</p>
</div>
<div class="paragraph">
<p>SHOULD NOT   This phrase, or the phrase "NOT RECOMMENDED" mean that there may exist valid reasons in particular circumstances when the particular behavior is acceptable or even useful, but the full implications should be understood and the case carefully weighed before implementing any behavior described with this label.</p>
</div>
</div>
<div class="sect2">
<h3 id="_diagram_definitions"><a class="anchor" href="#_diagram_definitions"></a>3.5. Diagram Definitions</h3>
<div class="paragraph">
<p>This section defines picture/symbol element meaning for diagrams used later in this document.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/template-3-5-1.png" alt="template 3 5 1">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/template-3-5-2.png" alt="template 3 5 2">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_test_setup"><a class="anchor" href="#_test_setup"></a>4. Test Setup</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section will define any required steps necessary to set up an environment that will be used for subsequent execution of test cases contained in this test plan.  Examples include the usage of particular certificates, internet/cloud connectivity setup.</p>
</div>
<div class="paragraph">
<p>Test harness setup will be covered in the test tools documentation.</p>
</div>
</div>
</div>
<h1 id="_mcore_pics_definition" class="sect0"><a class="anchor" href="#_mcore_pics_definition"></a><strong>MCORE PICS Definition</strong></h1>
<div class="openblock partintro">
<div class="content">
<div class="paragraph">
<p><strong>Document History</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Rev</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Date</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Author</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">26-Jun-2022</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Jonathan Megevand</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial draft</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_pics_definition"><a class="anchor" href="#_pics_definition"></a>5. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers a part of the MCORE related PICS items. MCORE PICS can be found and used among several clusters test cases.
Support for an item is considered as "true" for conditional statements within the test case steps.</p>
</div>
<div class="sect2">
<h3 id="_communicationtransport"><a class="anchor" href="#_communicationtransport"></a>5.1. Communication/Transport</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device support communication over Bluetooth Low Energy (BLE) ?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIFI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device support communication over Wi-Fi ?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.ETH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device support communication over Ethernet ?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.THR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device support communication over Thread ?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIRELESS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device support Wi-Fi or Thread interfaces communication ?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIFI, MCORE.COM.THR</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_role"><a class="anchor" href="#_role"></a>5.2. Role</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.ROLE.COMMISSIONER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement a Commissioner ?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.ROLE.COMMISSIONEE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement a Commissionee ?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.ROLE.CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement a Controller ?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_user_interface"><a class="anchor" href="#_user_interface"></a>5.3. User Interface</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.UI.FACTORYRESET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device support the Factory Reset Method?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<h1 id="_device_discovery_test_plan" class="sect0"><a class="anchor" href="#_device_discovery_test_plan"></a><strong>Device Discovery Test Plan</strong></h1>
<div class="sect1">
<h2 id="_pics_definition_2"><a class="anchor" href="#_pics_definition_2"></a>6. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Device Discovery related PICS items that are referenced in the following test cases.  Support for an item is considered as "true" for conditional statements within the test case steps.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Variable</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
<th class="tableblock halign-left valign-top"><strong>Mandatory/Optional</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes/Additional Constraints</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.CHIP_DEV</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device only function within a Matter network?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DEV_LOCK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the commissionee device a lock device?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DEV_BARRIER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the commissionee device a barrier access device?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.IE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device have a vendor specific information element (IE)?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_SOFTAP:O</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This should only be applicable for devices that support being discovered over Wi-Fi Soft-AP commissioning (MCORE.COM.WIFI is mandatory if the device supports MCORE.DD.IE).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.QR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device or device packaging have a QR code based onboarding payload?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.CONCATENATED_QR_CODE:M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.MANUAL_PC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device or device packaging have a Manual Pairing Code?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.NFC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device have a NFC tag containing the onboarding payload?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.QR and/or MCORE.DD.MANUAL_PC are mandatory if this item is supported/true.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.PASSCODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device support dynamic passcodes?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.UI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support user interface?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.COMM_DISCOVERY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support Commissioner Discovery?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the DUT a Controller?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.CONCATENATED_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device&#8217;s Onboarding Payload contain concatenated QR codes?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.QR is mandatory if this item is supported/true.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.CTRL_CONCATENATED_QR_CODE_1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissioner support scanning and processing concatenated QR codes?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.CTRL_CONCATENATED_QR_CODE_1_INORDER:M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.CTRL_CONCATENATED_QR_CODE_1_INORDER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissioner support processing devices in the order as indicated in the concatenated QR codes?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.CTRL_CONCATENATED_QR_CODE_1 is mandatory if this item is supported/true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.CTRL_CONCATENATED_QR_CODE_2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissioner support indicating to user the need to commission devices one by one for concatenated QR codes?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissioner support Discovery Capability over BLE?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.COMMISSIONER &amp; MCORE.COM.BLE</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissioner support Discovery Capability over IP Network?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.ROLE.COMMISSIONER:M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_SOFTAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissioner support Discovery Capability over SoftAP?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.STANDARD_COMM_FLOW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support Standard Commissioning Flow?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.11_MANUAL_PC:M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.NON_CONCURRENT_CONNECTION</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee require Non-concurrent Commissioning Flow?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.USER_INTENT_COMM_FLOW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support User-Intent Commissioning Flow?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.CUSTOM_COMM_FLOW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support Custom Commissioning Flow?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.MANUAL_PC_COMMISSIONING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissioner support accepting a Manual Pairing Code for commissioning?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.11_MANUAL_PC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissioner support accepting an 11-digit Manual Pairing Code for commissioning?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.STANDARD_COMM_FLOW is mandatory if MCORE.DD.11_MANUAL_PC is supported/true.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.21_MANUAL_PC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissioner support accepting a 21-digit Manual Pairing Code for commissioning?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.USER_INTENT_COMM_FLOW and/or MCORE.DD.CUSTOM_COMM_FLOW are mandatory if this item is supported/true.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.PHYSICAL_TAMPERING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is commissionee device subject to physical tampering (doorbell, camera, door lock, designed for outdoor usage)?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_NFC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissioner support scanning NFC tags containing the onboarding payload?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.QR_COMMISSIONING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissioner support accepting a QR code for commissioning?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissioner support scanning QR codes containing the onboarding payload?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.EXTENDED_DISCOVERY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device support Extended Discovery through DNS-SD advertisements when device is not in commissioning mode?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.COMMISSIONING_SUBTYPE_V</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device support advertising the Vendor ID Commissioning Subtype in Commissionable Node Discovery through DNS-SD advertisements?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.COMMISSIONING_SUBTYPE_T</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device support advertising the Device Type Commissioning Subtype in Commissionable Node Discovery through DNS-SD advertisements?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.TXT_KEY_VP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device support TXT Key 'VP' (Vendor ID / Product ID) in it&#8217;s DNS-SD TXT Records for Commissionable Node Discovery?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.TXT_KEY_DT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device support TXT Key 'DT' (Device Type) in it&#8217;s DNS-SD TXT Records for Commissionable Node Discovery?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.TXT_KEY_DN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device support TXT Key 'DN' (Device Name) in it&#8217;s DNS-SD TXT Records for Commissionable Node Discovery?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.TXT_KEY_RI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device support TXT Key 'RI' (Rotating Identifier) in it&#8217;s DNS-SD TXT Records for Commissionable Node Discovery?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.TXT_KEY_PH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device support TXT Key 'PH' (Pairing Hint) in it&#8217;s DNS-SD TXT Records for Commissionable Node Discovery?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If MCORE.DD.EXTENDED_DISCOVERY is true, then this record is required when not in Commissioning Mode (CM=0).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.TXT_KEY_PI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the commissionee device support TXT Key 'PI' (Pairing Instruction) in it&#8217;s DNS-SD TXT Records for Commissionable Node Discovery?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_case_list"><a class="anchor" href="#_test_case_list"></a>7. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>TC UUID</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Case Name</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code Onboarding Payload Verification [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual Pairing Code Payload Verification [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NFC Onboarding Payload Verification [DUT - Commissionee] - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Concatenation - QR Code Onboarding Payload Verification [DUT - Commissionee] - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-1.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NFC Rules of Advertisement and Onboarding [DUT - Commissionee] - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-1.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code Format and Label [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-1.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Setup Code Format and Label [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-1.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code Onboarding Payload Verification [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-1.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual Pairing Code Payload Verification [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-1.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NFC Onboarding Payload Verification [DUT - Commissioner] - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-1.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Concatenation - QR Code Onboarding Payload Verification [DUT - Commissioner] - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-1.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Onboarding Payload Verification - Custom Flow = 0 [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-1.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Onboarding Payload Verification - Custom Flow = 1 [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-1.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Onboarding Payload Verification - Custom Flow = 2 [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-1.15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Onboarding Payload Verification - Unique Discriminator and Passcode Values [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-2.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Announcement by Device Verification [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Discovery by Commissioner Verification [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - Concurrent [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - Non-concurrent [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Directed Commissioning [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Directed Commissioning [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - Concurrent [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - Non-concurrent [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - Concurrent - Negative Scenario [DUT - Commissioner] - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - Non-concurrent - Negative Scenario [DUT - Commissioner] - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - Custom Flow = 2 [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - Custom Flow = 2 [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow = 0 (Standard Flow) - QR Code [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow = 1 (User-Intent Flow) - QR Code [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow = 2 (Custom Flow) - QR Code [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - QR Code - Negative Scenario [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - Manual Pairing Code [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - 11-digit Manual Pairing Code - Negative Scenario [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - 21-digit Manual Pairing Code - Negative Scenario [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - Commissioning Multiple Devices [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - Commission, Unpair and Re-commission Device [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - Commission, Unpair and Re-commission Device [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DD-3.21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning Flow - Commission Multiple-Endpoint Device [DUT - Commissioner]</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases"><a class="anchor" href="#_test_cases"></a>8. Test Cases</h2>
<div class="sectionbody">
<hr>
<div class="sect2">
<h3 id="_onboarding_payload_test_cases"><a class="anchor" href="#_onboarding_payload_test_cases"></a>8.1. <strong>Onboarding Payload Test Cases</strong></h3>
<hr>
<div class="sect3">
<h4 id="_tc_dd_1_1_qr_code_onboarding_payload_verification_dut_commissionee"><a class="anchor" href="#_tc_dd_1_1_qr_code_onboarding_payload_verification_dut_commissionee"></a>8.1.1. [TC-DD-1.1] QR Code Onboarding Payload Verification [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category"><a class="anchor" href="#_category"></a>Category</h5>
<div class="paragraph">
<p>Functional Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_2"><a class="anchor" href="#_purpose_2"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the onboarding QR code contains the necessary information to onboard the device onto the Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics"><a class="anchor" href="#_pics"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.DD.QR</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions"><a class="anchor" href="#_preconditions"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices"><a class="anchor" href="#_required_devices"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a QR code reader device that can read and decode a QR code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Commissionee device with the QR code printed on it or contained in additional provided materials.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure"><a class="anchor" href="#_test_procedure"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the DUT&#8217;s QR code using a QR code reader</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code is scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3.1 Table 34</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code payload version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code payload version is '000'.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3.1 Table 34</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify Vendor ID and Product ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify Vendor ID and Product ID match the values submitted by manufacturer in Distributed Compliance Ledger</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3.1 Table 34</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the Custom Flow bit</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the Custom Flow bit has one of the following values: 0, 1 or 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3.1 Table 34</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify 8-bit Discovery Capabilities bit mask</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the onboarding payload contains an 8-bit Discovery Capabilities bit mask describing the transports which can be used for commissioning the DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3.1 Table 34</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the 12-bit discriminator bit mask</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the 12-bit discriminator matches the value which a device advertises during commissioning.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.f</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3.1 Table 34</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the onboarding payload contains a 27-bit Passcode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the 27-bit unsigned integer encodes an 8-digit decimal numeric value and shall be a value between 0x0000001 to 0x5f5e0fe (00000001 to 99999998)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.g</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.7.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify passcode is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify passcode does not use any trivial values:
00000000, 11111111, 22222222, 33333333, 44444444, 55555555, 66666666, 77777777, 88888888, 99999999, 12345678, 87654321</p>
<p class="tableblock">Verify Passcode is not derived from public information as serial number, manufacturer date, MAC address, region of origin etc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.h</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify QR code prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify QR code prefix is "MT:"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3.1 Table 34</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the packed binary data structure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the packed binary data structure  is padded with '0' bits at the end of the structure to the nearest byte boundary.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations"><a class="anchor" href="#_notestesting_considerations"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_1_2_manual_pairing_code_payload_verification_dut_commissionee"><a class="anchor" href="#_tc_dd_1_2_manual_pairing_code_payload_verification_dut_commissionee"></a>8.1.2. [TC-DD-1.2] Manual Pairing Code Payload Verification [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_2"><a class="anchor" href="#_category_2"></a>Category</h5>
<div class="paragraph">
<p>Functional Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_3"><a class="anchor" href="#_purpose_3"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the Manual Pairing Code contains the necessary information to onboard the device onto the Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_2"><a class="anchor" href="#_pics_2"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.DD.MANUAL_PC</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_2"><a class="anchor" href="#_preconditions_2"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual Pairing Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_2"><a class="anchor" href="#_required_devices_2"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Checksum script used to validate the check digit using the Verhoeff algorithm</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Commissionee device with the Manual Pairing Code printed on it or contained in additional provided materials.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_2"><a class="anchor" href="#_test_procedure_2"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1 Table 38</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the first digit of the Manual Pairing Code for the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The first digit must be between 0 and 7. If the digit is between 0 and 3, the code length must be 11 digits (VID_PID flag not set).</p>
<p class="tableblock">If the digit is between 4 and 7, the code length must be 21 digits (VID_PID flag set)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1 Table 38</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the Manual Pairing Code is 11 digits/the VID_PID flag is not set, verify the encoded elements.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Digits 2 through 6 must be between 00000 and 65535
Digits 7 through 10 must be between 0000 and 8191</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1 - Table 39</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the Manual Pairing Code is 21 digits/the VID_PID flag is set, verify the encoded elements.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Digits 2 through 6 must be between 00000 and 65535.
Digits 7 through 10 must be between 0000 and 8191.
Digits 11 through 15 must be between 00000 and 65535.
Digits 16 through 20 must be between 00000 and 65535.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1 Check Digit</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the Check Digit (last digit of the Manual Pairing Code) by entering the preceding digits into the checksum script/Test Harness</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the final digit, the Check Digit, of the Manual Pairing Code printed on the DUT matches the generated digit by the script/Test Harness.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_2"><a class="anchor" href="#_notestesting_considerations_2"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_1_3_nfc_onboarding_payload_verification_dut_commissionee_removed"><a class="anchor" href="#_tc_dd_1_3_nfc_onboarding_payload_verification_dut_commissionee_removed"></a>8.1.3. [TC-DD-1.3] NFC Onboarding Payload Verification [DUT - Commissionee] - REMOVED</h4>
<div class="sect4">
<h5 id="_category_3"><a class="anchor" href="#_category_3"></a>Category</h5>
<div class="paragraph">
<p>Functional Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_4"><a class="anchor" href="#_purpose_4"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the NFC tag&#8217;s onboarding payload contains the necessary information to onboard the device onto the Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_3"><a class="anchor" href="#_pics_3"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.DD.NFC</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_3"><a class="anchor" href="#_preconditions_3"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NFC Tag is on the device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- The data contained in the NFC tag SHALL be the same as specified in QR Code Format.</p>
<p class="tableblock">- The NFC tag SHALL be one of the types as defined by NFC Forum.</p>
<p class="tableblock">- The NFC tag SHALL use the NFC Data Exchange Format (NDEF) as defined by NFC NDEF 1.0.</p>
<p class="tableblock">- The NFC tag SHALL use NDEF messages as defined by NFC RTD 1.0.</p>
<p class="tableblock">- The Onboarding Payload for the NFC tag SHALL use NDEF URI Record Type Definition as defined by NFC RTD URI 1.0 and as specified in the Table 41.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_3"><a class="anchor" href="#_required_devices_3"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as an NFC code reader device that can read and decode a NFC code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Commissionee device with the NFC tag containing an onboarding payload</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_3"><a class="anchor" href="#_test_procedure_3"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power up the DUT and put the DUT in pairing mode</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bring the NFC code reader close to the DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3.1 Table 33/34</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the NFC&#8217;s onboarding payload code version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the NFC&#8217;s onboarding payload code version is '000'.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3.1 Table 34/35</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify 8-bit Discovery Capabilities bit mask</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the onboarding payload contains an 8-bit Discovery Capabilities bit mask describing the transports which can be used for commissioning the DUT. Refer to spec 5.1.3 Table 35 for specifics of the bit mask.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.c</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the 12-bit discriminator bit mask</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the 12-bit discriminator matches the value which a device advertises during commissioning.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.d</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the onboarding payload contains a 27-bit Passcode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the 27-bit unsigned integer encodes an 8-digit decimal numeric value and shall be a value between 0x0000001 to 0x5f5e0fe (00000001 to 99999998)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.e</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify passcode is valid</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify passcode does not use any trivial values:
00000000, 11111111, 22222222, 33333333, 44444444, 55555555, 66666666, 77777777, 88888888, 99999999, 12345678, 87654321</p>
<p class="tableblock">Verify Passcode is not derived from public information as serial number, manufacturer date, MAC address, region of origin etc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.f</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify NFC&#8217;s onboarding payload code prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify NFC&#8217;s onboarding payload code prefix is "MT:"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.g</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify Vendor ID and Product ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify Vendor ID and Product ID match the values submitted by manufacturer in Distributed Compliance Ledger</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3 Table 33</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the packed binary data structure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the packed binary data structure  is padded with '0' bits at the end of the structure to the nearest byte boundary.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify Custom payload support</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the custom payload is a 2 bit field and the Values supported are 0, 1 and 2.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_3"><a class="anchor" href="#_notestesting_considerations_3"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_1_4_concatenation_qr_code_onboarding_payload_verification_dut_commissionee_removed"><a class="anchor" href="#_tc_dd_1_4_concatenation_qr_code_onboarding_payload_verification_dut_commissionee_removed"></a>8.1.4. [TC-DD-1.4] Concatenation - QR Code Onboarding Payload Verification [DUT - Commissionee] - REMOVED</h4>
<div class="sect4">
<h5 id="_category_4"><a class="anchor" href="#_category_4"></a>Category</h5>
<div class="paragraph">
<p>Physical Conformance, Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_5"><a class="anchor" href="#_purpose_5"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the onboarding QR code contains information on the onboarding of multiple DUT.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_4"><a class="anchor" href="#_pics_4"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.DD.CONCATENATED_QR_CODE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_4"><a class="anchor" href="#_required_devices_4"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a QR code reader device that can read and decode a QR code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Commissionee device with the QR code printed on it or contained in additional provided materials.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_setup_2"><a class="anchor" href="#_test_setup_2"></a>Test Setup</h5>
<div class="paragraph">
<p>The DUT may include in its packaging a combined QR code containing a concatenation of all the devices that will be available for commissioning.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_4"><a class="anchor" href="#_test_procedure_4"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan larger QR code that will support the commissioning of all the DUTs in the packaging using the QR code scanner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that each DUT onboarding payload is delimited with a * depending on the number of DUTs that will be onboarded.</p>
<p class="tableblock">Example: MT:&lt;onboarding-base-38-content_bulb1&gt;*&lt;onboarding-base-38-content_bulb2&gt;*&lt;onboarding-base-38-content_bulb3&gt;*&lt;onboarding-base-38-content_bulb4&gt;</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_4"><a class="anchor" href="#_notestesting_considerations_4"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_1_5_nfc_rules_of_advertisement_and_onboarding_dut_commissionee_removed"><a class="anchor" href="#_tc_dd_1_5_nfc_rules_of_advertisement_and_onboarding_dut_commissionee_removed"></a>8.1.5. [TC-DD-1.5] NFC Rules of Advertisement and Onboarding [DUT - Commissionee] - REMOVED</h4>
<div class="sect4">
<h5 id="_category_5"><a class="anchor" href="#_category_5"></a>Category</h5>
<div class="paragraph">
<p>Conformance - protocol and device setup.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_6"><a class="anchor" href="#_purpose_6"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the NFC Tag setup experience follows guidance in section 5.1.8</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_5"><a class="anchor" href="#_pics_5"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.DD.NFC</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_4"><a class="anchor" href="#_preconditions_4"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NFC Spec Requirements: NFC tags SHALL use the NFC Data Exchange Format (NDEF) as defined by NFC ForumTM in [NDEF 1.0 NFCForum-TS-NDEF 1.0]</p>
<p class="tableblock">An NDEF message is defined as a group of individual NDEF records as defined by NFC ForumTM in NFC Record Type Definition (RTD) RTD 1.0 [NFCForum-TS-RTD 1.0]</p>
<p class="tableblock">Onboarding Payload for NFC tags SHALL use NDEF URI Record Type Definition as defined by NFC ForumTM in URI Record Type Definition RTD-URI 1.0 [NFCForum-TS-RTD URI 1.0]. The URI for defined in section 3.3 Format</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_5"><a class="anchor" href="#_required_devices_5"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as an NFC scanner device that can read and decode a NFC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Commissionee device with the NFC tag containing an onboarding payload</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology"><a class="anchor" href="#_device_topology"></a>Device Topology</h5>
<div class="paragraph">
<p>Diagram of device communication and, if applicable, respective ranges.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_3"><a class="anchor" href="#_test_setup_3"></a>Test Setup</h5>
<div class="paragraph">
<p>This will describe how to set up for testing.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_5"><a class="anchor" href="#_test_procedure_5"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Keep the DUT in packaging and bring in TH NFC scanner close to the DUT packaging.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bring in the TH NFC scanner close to the DUT packaging and verify the DUT&#8217;s NFC tag containing Onboarding Payload is not scannable and readable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unpack DUT from its packaging, make sure DUT is not powered on and do not put the DUT in pairing mode. Bring in TH NFC scanner close to the DUT&#8217;s NFC tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the programmable tag does not advertise the Onboarding Payload and cannot be modified over the air.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.PHYSICAL_TAMPERING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power on DUT and do not put the DUT in pairing mode. Bring in TH NFC scanner close to the DUT&#8217;s NFC tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify programmable tag when not in pairing mode, does not advertise the Onboarding Payload and cannot be modified over the air.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.PHYSICAL_TAMPERING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must have an explicit trigger of the the NFC pairing mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the DUT has an explicit trigger (a physical action that enables the NFC pairing flow)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">13.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.PHYSICAL_TAMPERING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power on DUT and put the DUT in pairing mode. Bring in TH NFC scanner close to NFC tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the complete onboarding payload is presented</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">!(MCORE.DD.PHYSICAL_TAMPERING)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power on DUT. Bring in NFC scanner close to NFC tag</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify
the complete onboarding payload is presented</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.f</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the pairing mode to expire on device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the DUT terminates the advertising upon termination of pairing mode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For Read only Tags, try to write using NFC tool a payload to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it is rejected and payload can&#8217;t be written to tag</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For Programmable Tag, NFC tag must be read only OTA. Try to write a payload to DUT using NFC tool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the write is rejected and payload can&#8217;t be written to tag</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional&#8201;&#8212;&#8201;For Programmable Tag, NFC tag may be reconfigured using wired means</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify payload can be written through wired means</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using TH NFC scanner - read NFC tag Reader type</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the NFC tag on a device is Type 2 or greater</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_5"><a class="anchor" href="#_notestesting_considerations_5"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_1_6_qr_code_format_and_label_dut_commissionee"><a class="anchor" href="#_tc_dd_1_6_qr_code_format_and_label_dut_commissionee"></a>8.1.6. [TC-DD-1.6] QR Code Format and Label [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_6"><a class="anchor" href="#_category_6"></a>Category</h5>
<div class="paragraph">
<p>Physical Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_7"><a class="anchor" href="#_purpose_7"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the onboarding QR code is of scannable size.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_6"><a class="anchor" href="#_pics_6"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.DD.QR</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_6"><a class="anchor" href="#_required_devices_6"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a QR code reader device that can read and decode a QR code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Commissionee device with the QR code printed on it or contained in additional provided materials.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_setup_4"><a class="anchor" href="#_test_setup_4"></a>Test Setup</h5>
<div class="paragraph">
<p>Final label of DUT is ready to be scanned</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_6"><a class="anchor" href="#_test_procedure_6"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the DUT&#8217;s QR code using the TH QR code reader</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code gets scanned successfully.
Verify The QR code must be of sufficient size and contrast respective to surface material as to be readable with standard readers such as smartphones in normal lighting conditions. Refer to spec 5.1.3.3 <em>“Example”</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify QR code version</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR code version must be of Version 1 or higher.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_6"><a class="anchor" href="#_notestesting_considerations_6"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_1_7_setup_code_format_and_label_dut_commissionee"><a class="anchor" href="#_tc_dd_1_7_setup_code_format_and_label_dut_commissionee"></a>8.1.7. [TC-DD-1.7] Setup Code Format and Label [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_7"><a class="anchor" href="#_category_7"></a>Category</h5>
<div class="paragraph">
<p>Physical Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_8"><a class="anchor" href="#_purpose_8"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the Manual Pairing Code size meets the minimum requirements.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_7"><a class="anchor" href="#_pics_7"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.DD.MANUAL_PC</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_5"><a class="anchor" href="#_preconditions_5"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual Pairing Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_7"><a class="anchor" href="#_required_devices_7"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ruler/Measuring Device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Used to validate the size of the Manual Pairing Code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Commissionee device with the Manual Pairing Code printed on it or contained in additional provided materials.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_setup_5"><a class="anchor" href="#_test_setup_5"></a>Test Setup</h5>
<div class="paragraph">
<p>Final label of DUT is ready to be scanned</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_7"><a class="anchor" href="#_test_procedure_7"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4, 1.6.1, 5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify using instruments</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Manual Pairing Code shall meet the following requirements:</p>
<p class="tableblock">- Printed using a minimum font size of 6 points, typically producing a typeface height of 2.1 mm (6/72 inches)</p>
<p class="tableblock">- Include dashes between the groups of Manual Pairing Code digits with the following spacing:</p>
<p class="tableblock">- For 11 or 21-digit codes, the first row spacing is 4-3-4 (First Row: "1234-567-8901")</p>
<p class="tableblock">- For 21-digit codes, the second row spacing is 4-3-2-1 (Second Row:"9876-543-21-0")</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_7"><a class="anchor" href="#_notestesting_considerations_7"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_1_8_qr_code_onboarding_payload_verification_dut_commissioner"><a class="anchor" href="#_tc_dd_1_8_qr_code_onboarding_payload_verification_dut_commissioner"></a>8.1.8. [TC-DD-1.8] QR Code Onboarding Payload Verification [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_8"><a class="anchor" href="#_category_8"></a>Category</h5>
<div class="paragraph">
<p>Functional Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_9"><a class="anchor" href="#_purpose_9"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the Commissioner is able to scan and parse the QR code to onboard the device onto the Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_8"><a class="anchor" href="#_pics_8"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.QR_COMMISSIONING</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_6"><a class="anchor" href="#_preconditions_6"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 60%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3, 5.1.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service). Device also has additional TLV data with a non-zero length appended to the end of the QR code.</p>
<p class="tableblock">An example onboarding QR code could be "MT:-24J029Q00KA064IJ3P0IXZB0DK5N1K8SQ1RYCU1-A40" (following 5.1.3 "QR Code", Table 34 "Packed Binary Data Structure for Onboarding Payload") which includes:</p>
<p class="tableblock">- 3-bit Version String=000</p>
<p class="tableblock">- 16-bit Vendor ID=0xFFF1 (as defined in section 2.5.2. "Vendor Identifier")</p>
<p class="tableblock">- 16-bit Product ID=0x8001 (as defined in section 2.5.3. "Product Identifier")</p>
<p class="tableblock">- 2-bit Custom Flow=10 (Custom Commissioning Flow = 2)</p>
<p class="tableblock">- 8-bit Discovery Capabilities Bitmask=00000100 (OnNetwork)</p>
<p class="tableblock">- 12-bit Discriminator=0xF00</p>
<p class="tableblock">- 27-bit Passcode=20202021</p>
<p class="tableblock">- 4-bit Padding=0000</p>
<p class="tableblock">- TLV Data=0x152C000A3132333435363738393018 included (as defined in section 5.1.3.1. "Payload", subsection "TLV Data")</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_8"><a class="anchor" href="#_required_devices_8"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissioner device that can read and decode a QR code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device with the QR code printed on it or contained in additional provided materials.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_8"><a class="anchor" href="#_test_procedure_8"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 50%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the TH Device&#8217;s QR code using DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the DUT, parse the TH&#8217;s QR code to onboard the TH Device onto the Matter network.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the TH&#8217;s QR code was parsed successfully by the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the TH Device&#8217;s QR code (that includes the additional TLV data) using DUT.</p>
<p class="tableblock">Using the example provided above, the payload would be "MT:-24J029Q00KA064IJ3P0IXZB0DK5N1K8SQ1RYCU1-A40".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the DUT, parse the TH&#8217;s QR code to onboard the TH Device onto the Matter network.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the TH&#8217;s QR code with the appended TLV data was parsed successfully by the DUT (where the DUT may ignore the TLV contents)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the TH Device&#8217;s QR code using the DUT. The number of alphanumeric characters in the QR code is 255 characters. Using the example provided above, the payload would be "MT:-24J029Q00KA064IJ3P082W94DK5N1K8SQ1RYCU1&#8212;&#8203;ZL15PKP1CD5T1VFSK1S3DO1ZTZR1UNMJ1DK5N1K8SQ1RYCU1&#8212;&#8203;ZL15PKP1CD5T1VFSK1S3DO1ZTZR1UNMJ1DK5N1K8SQ1RYCU1&#8212;&#8203;ZL15PKP1CD5T1VFSK1S3DO1ZTZR1UNMJ1DK5N1K8SQ1RYCU1&#8212;&#8203;ZL15PKP1CD5T1VFSK1S3DO1ZTZR1UNMJ1DK5N1K8SQ1RYCU1&#8212;&#8203;ZL15PKP1O0"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the DUT, parse the TH&#8217;s QR code to onboard the TH Device onto the Matter network.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the TH&#8217;s QR code with the appended TLV data was parsed successfully by the DUT (where the DUT may ignore the TLV contents)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_8"><a class="anchor" href="#_notestesting_considerations_8"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_1_9_manual_pairing_code_payload_verification_dut_commissioner"><a class="anchor" href="#_tc_dd_1_9_manual_pairing_code_payload_verification_dut_commissioner"></a>8.1.9. [TC-DD-1.9] Manual Pairing Code Payload Verification [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_9"><a class="anchor" href="#_category_9"></a>Category</h5>
<div class="paragraph">
<p>Functional Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_10"><a class="anchor" href="#_purpose_10"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the Manual Pairing Code can be provided to the Commissioner and parsed to onboard the device onto the Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_9"><a class="anchor" href="#_pics_9"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.MANUAL_PC_COMMISSIONING</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_7"><a class="anchor" href="#_preconditions_7"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual Pairing Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_9"><a class="anchor" href="#_required_devices_9"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissioner device that can read and decode a Manual Pairing Code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a device used to validate the check digit using the Verhoeff algorithm</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_9"><a class="anchor" href="#_test_procedure_9"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide the 11-digit/21-digit Manual Pairing Code from the TH Device in text, speech or any format supported by DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Manual Pairing Code can be provided to DUT and parsed to onboard the device onto the Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_9"><a class="anchor" href="#_notestesting_considerations_9"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_1_10_nfc_onboarding_payload_verification_dut_commissioner_removed"><a class="anchor" href="#_tc_dd_1_10_nfc_onboarding_payload_verification_dut_commissioner_removed"></a>8.1.10. [TC-DD-1.10] NFC Onboarding Payload Verification [DUT - Commissioner] - REMOVED</h4>
<div class="sect4">
<h5 id="_category_10"><a class="anchor" href="#_category_10"></a>Category</h5>
<div class="paragraph">
<p>Functional Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_11"><a class="anchor" href="#_purpose_11"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the Commissioner is able to read and decode the NFC code to onboard the device onto the Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_10"><a class="anchor" href="#_pics_10"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.SCAN_NFC</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_8"><a class="anchor" href="#_preconditions_8"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 60%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NFC tag follows guidelines set in section 5.1.8 of spec.</p>
<p class="tableblock">An example onboarding payload could be "MT:-24J029Q00KA0648G00" (following Table 34 "Packed Binary Data Structure for Onboarding Payload") which includes:</p>
<p class="tableblock">- 3-bit Version String=000</p>
<p class="tableblock">- 16-bit Vendor ID=0xFFF1 (as defined in section 2.5.2. "Vendor Identifier")</p>
<p class="tableblock">- 16-bit Product ID=0x8001 (as defined in section 2.5.3. "Product Identifier")</p>
<p class="tableblock">- 2-bit Custom Flow=10 (Custom Commissioning Flow = 2)</p>
<p class="tableblock">- 8-bit Discovery Capabilities Bitmask=00000100 (OnNetwork)</p>
<p class="tableblock">- 12-bit Discriminator=0xF00</p>
<p class="tableblock">- 27-bit Passcode=20202021</p>
<p class="tableblock">- 4-bit Padding=0000</p>
<p class="tableblock">- no variable-length TLV Data included (as defined in section 5.1.3.1. "Payload", subsection "TLV Data")</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_10"><a class="anchor" href="#_required_devices_10"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissioner device that can read and decode an NFC tag containing an Onboarding Payload.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device with NFC tag/ Reference NFC tag</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_10"><a class="anchor" href="#_test_procedure_10"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power up the TH Device and put the TH Device in commissioning mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is in a state to be commissioned by the DUT Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bring the DUT close to the NFC tag for the TH Device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the DUT is able to read and decode the NFC tag&#8217;s onboarding payload successfully to onboard the TH Device onto the Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_10"><a class="anchor" href="#_notestesting_considerations_10"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_1_11_concatenation_qr_code_onboarding_payload_verification_dut_commissioner_removed"><a class="anchor" href="#_tc_dd_1_11_concatenation_qr_code_onboarding_payload_verification_dut_commissioner_removed"></a>8.1.11. [TC-DD-1.11] Concatenation - QR Code Onboarding Payload Verification [DUT - Commissioner] - REMOVED</h4>
<div class="sect4">
<h5 id="_category_11"><a class="anchor" href="#_category_11"></a>Category</h5>
<div class="paragraph">
<p>Physical Conformance, Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_12"><a class="anchor" href="#_purpose_12"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the onboarding QR code contains information on the onboarding of multiple DUT.</p>
</div>
<div class="paragraph">
<p>This test case verifies that the Commissioner is able to scan and parse a concatenated QR code to onboard multiple devices in order onto the Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_11"><a class="anchor" href="#_pics_11"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.QR_COMMISSIONING</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_11"><a class="anchor" href="#_required_devices_11"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissioner device that can read and decode a QR code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as Multiple Devices that are Commissionees with a concatenated QR code</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_11"><a class="anchor" href="#_test_procedure_11"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.CTRL_CONCATENATED_QR_CODE_1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan QR code using concatenation (which supports the commissioning of all the TH devices)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the DUT is able to scan and parse the concatenated QR code successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.CTRL_CONCATENATED_QR_CODE_1_INORDER</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the DUT follows the correct order of onboarding the TH devices which must be from first to last starting from left to right.</p>
<p class="tableblock">Example: MT:&lt;onboarding-base-38-content_bulb1&gt;*&lt;onboarding-base-38-content_bulb2&gt;*&lt;onboarding-base-38-content_bulb3&gt;*&lt;onboarding-base-38-content_bulb4&gt;</p>
<p class="tableblock">content_bulb1 gets onboarded first, content_bulb2 gets onboarded second and so forth.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">!(MCORE.DD.CTRL_CONCATENATED_QR_CODE_1) &amp; MCORE.DD.CTRL_CONCATENATED_QR_CODE_2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the DUT indicates to the user the need to commission TH devices one by one by scanning their individual QR codes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">!(MCORE.DD.CTRL_CONCATENATED_QR_CODE_1) &amp; !(MCORE.DD.CTRL_CONCATENATED_QR_CODE_2)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the DUT does NOT indicate to the user the need to commission TH devices one by one by scanning their individual QR codes, but instead warns the user (in a way described by the provider of the DUT) that the QR code cannot be processed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan QR code using concatenation (which supports the commissioning of all the TH devices)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the DUT recognizes the * separator from the QR code as an indication concatenation is used by parsing the QR code successfully as multiple TH QR codes.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_11"><a class="anchor" href="#_notestesting_considerations_11"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_1_12_onboarding_payload_verification_custom_flow_0_dut_commissionee"><a class="anchor" href="#_tc_dd_1_12_onboarding_payload_verification_custom_flow_0_dut_commissionee"></a>8.1.12. [TC-DD-1.12] Onboarding Payload Verification - Custom Flow = 0 [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_12"><a class="anchor" href="#_category_12"></a>Category</h5>
<div class="paragraph">
<p>Functional Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_13"><a class="anchor" href="#_purpose_13"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the interactions defined by the Custom Flow field are reflected by the DUT supporting Standard Commissioning Flow</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_12"><a class="anchor" href="#_pics_12"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.DD.QR</p>
</li>
<li>
<p>MCORE.DD.STANDARD_COMM_FLOW</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_9"><a class="anchor" href="#_preconditions_9"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code/ Manual Pairing Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_12"><a class="anchor" href="#_required_devices_12"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a QR code reader device that can read and decode a QR code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Commissionee device with the QR code printed on it or contained in additional provided materials. DUT supports Standard Commissioning Flow.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_12"><a class="anchor" href="#_test_procedure_12"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the DUT&#8217;s QR code using the TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code is scanned successfully and that the TH parses QR code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reboot the DUT device.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Upon power up, verify the DUT Commissionee is advertising to be commissioned to a Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_12"><a class="anchor" href="#_notestesting_considerations_12"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_1_13_onboarding_payload_verification_custom_flow_1_dut_commissionee"><a class="anchor" href="#_tc_dd_1_13_onboarding_payload_verification_custom_flow_1_dut_commissionee"></a>8.1.13. [TC-DD-1.13] Onboarding Payload Verification - Custom Flow = 1 [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_13"><a class="anchor" href="#_category_13"></a>Category</h5>
<div class="paragraph">
<p>Functional Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_14"><a class="anchor" href="#_purpose_14"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the interactions defined by the Custom Flow field are reflected by the DUT supporting User-Intent Commissioning Flow</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_13"><a class="anchor" href="#_pics_13"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.DD.QR</p>
</li>
<li>
<p>MCORE.DD.USER_INTENT_COMM_FLOW</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_10"><a class="anchor" href="#_preconditions_10"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code/ Manual Pairing Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_13"><a class="anchor" href="#_required_devices_13"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a QR code reader device that can read and decode a QR code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Commissionee device with the QR code printed on it or contained in additional provided materials. DUT supports User-Intent Commissioning Flow.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_13"><a class="anchor" href="#_test_procedure_13"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power on the DUT device.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT Commissionee is NOT in commissioning mode. User has a QR code to pass into DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the DUT&#8217;s QR code from the previous step using the TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code is scanned successfully and that the TH parses QR code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Follow any DUT-specific steps for putting the DUT Commissionee into commissioning mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the DUT Commissionee is advertising to be commissioned to a Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_13"><a class="anchor" href="#_notestesting_considerations_13"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_1_14_onboarding_payload_verification_custom_flow_2_dut_commissionee"><a class="anchor" href="#_tc_dd_1_14_onboarding_payload_verification_custom_flow_2_dut_commissionee"></a>8.1.14. [TC-DD-1.14] Onboarding Payload Verification - Custom Flow = 2 [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_14"><a class="anchor" href="#_category_14"></a>Category</h5>
<div class="paragraph">
<p>Functional Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_15"><a class="anchor" href="#_purpose_15"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the interactions defined by the Custom Flow field are reflected by the DUT supporting Custom Commissioning Flow</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_14"><a class="anchor" href="#_pics_14"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.DD.QR</p>
</li>
<li>
<p>MCORE.DD.CUSTOM_COMM_FLOW</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_11"><a class="anchor" href="#_preconditions_11"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code/ Manual Pairing Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_14"><a class="anchor" href="#_required_devices_14"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a QR code reader device that can read and decode a QR code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Commissionee device with the QR code printed on it or contained in additional provided materials. DUT supports Custom Commissioning Flow.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_14"><a class="anchor" href="#_test_procedure_14"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power on the DUT device.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT Commissionee is NOT in commissioning mode. User has a QR code to pass into DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the DUT&#8217;s QR code from the previous step using the TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code is scanned successfully and that the TH parses QR code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Follow any DUT-specific steps, guided by a service provided by the DUT&#8217;s manufacturer for initial device setup, then place the DUT Commissionee into commissioning mode.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the DUT Commissionee is advertising to be commissioned to a Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_14"><a class="anchor" href="#_notestesting_considerations_14"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_1_15_onboarding_payload_verification_unique_discriminator_and_passcode_values_dut_commissionee"><a class="anchor" href="#_tc_dd_1_15_onboarding_payload_verification_unique_discriminator_and_passcode_values_dut_commissionee"></a>8.1.15. [TC-DD-1.15] Onboarding Payload Verification - Unique Discriminator and Passcode Values [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_15"><a class="anchor" href="#_category_15"></a>Category</h5>
<div class="paragraph">
<p>Functional Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_16"><a class="anchor" href="#_purpose_16"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the Discriminator and Passcode values are unique across two different hardware units of the same product coming for certification testing.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_15"><a class="anchor" href="#_pics_15"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_12"><a class="anchor" href="#_preconditions_12"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Onboarding payload is printed on the device or in additional provided materials (ex: manual, companion app, web service) through a QR Code, a Manual Pairing Code or as content in an NFC tag.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_15"><a class="anchor" href="#_required_devices_15"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as an Onboarding payload reader - A device that can read and decode an Onboarding payload. (ex: Scanning a QR code, accepting a Manual Pairing Code, or scanning an NFC tag)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT 1 as a Commissionee device with the Onboarding payload printed on the device or in additional provided materials (ex: manual) through a QR Code, a manually entered code or as content in an NFC tag.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT 2 as a Commissionee device with the Onboarding payload printed on the device or in additional provided materials (ex: manual) through a QR Code, a manually entered code or as content in an NFC tag.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_15"><a class="anchor" href="#_test_procedure_15"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the TH Onboarding payload reader, scan or read the Onboarding payload from DUT1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the Onboarding payload is scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the TH, parse the Onboarding payload from previous step and verify that the Discriminator and Passcode for DUT1 are present.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Note down the Discriminator and Passcode values of the parsed payload.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the TH Onboarding payload reader, scan or read the Onboarding payload from DUT2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the Onboarding payload is scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the TH, parse the Onboarding payload from previous step and verify that the Discriminator and Passcode for DUT2 are present.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Note down the Discriminator and Passcode values of the parsed payload.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.1.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compare the Discriminator values for DUT1 (Step 1.b) and DUT2 (Step 2.b)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT1&#8217;s Discriminator value is different than DUT2&#8217;s Discriminator value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.1.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compare the Passcode values for DUT1 (Step 1.b) and DUT2 (Step 2.b)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT1&#8217;s Passcode value is different than DUT2&#8217;s Passcode value.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_15"><a class="anchor" href="#_notestesting_considerations_15"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pre_commissioning_discovery_test_cases"><a class="anchor" href="#_pre_commissioning_discovery_test_cases"></a>8.2. <strong>Pre-Commissioning Discovery Test Cases</strong></h3>
<hr>
<div class="sect3">
<h4 id="_tc_dd_2_1_announcement_by_device_verification_dut_commissionee"><a class="anchor" href="#_tc_dd_2_1_announcement_by_device_verification_dut_commissionee"></a>8.2.1. [TC-DD-2.1] Announcement by Device Verification [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_16"><a class="anchor" href="#_category_16"></a>Category</h5>
<div class="paragraph">
<p>Functional Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_17"><a class="anchor" href="#_purpose_17"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of this test case is to verify if the DUT properly announces its uncommissioned state to allow a Matter Commissioner to discover the DUT to be commissioned.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_16"><a class="anchor" href="#_pics_16"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_13"><a class="anchor" href="#_preconditions_13"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The DUT is switched on and the DUT is transport-connected (BLE, Wi-Fi or Ethernet)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_16"><a class="anchor" href="#_required_devices_16"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Matter Commissioner that is already joined in a Matter network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissionee device that is in an uncommissioned state</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_16"><a class="anchor" href="#_test_procedure_16"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If TH is aware of the DUT&#8217;s Discovery Capability Bitmask, it SHALL initiate Device Discovery in any order of priority on all the networking technologies that are supported by both the TH and the DUT</p>
<p class="tableblock">If TH is unaware of the DUT&#8217;s Discovery Capability Bitmask, it SHALL initiate Device Discovery in any order on all the networking technologies it supports out of Wi-Fi Soft-AP, BLE, and on IP network discovery.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT selects a transport in any order of priority.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.CHIP_DEV |</p>
<p class="tableblock">!(MCORE.DD.CHIP_DEV) |</p>
<p class="tableblock">MCORE.DD.DEV_LOCK |</p>
<p class="tableblock">MCORE.DD.DEV_BARRIER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If (MCORE.DD.CHIP_DEV) then</p>
<p class="tableblock">If !(MCORE.DD.CHIP_DEV) then</p>
<p class="tableblock">If (MCORE.DD.DEV_LOCK) then</p>
<p class="tableblock">If (MCORE.DD.DEV_BARRIER) then</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT starts announcing automatically</p>
<p class="tableblock">DUT does not start announcing</p>
<p class="tableblock">DUT does not start announcing</p>
<p class="tableblock">DUT does not start announcing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT begins sending ADVs. TH does not respond to these DUT ADVs so that the DUT can keep sending ADVs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The following Advertising PDU payload fields shall comply with section 5.4.2.5.6. "Advertising Data".
DUT contains in the ADV:</p>
<p class="tableblock">12-bit "Discriminator" field (Byte 8-9, Bits[11:0])</p>
<p class="tableblock">DUT may contain in the ADV:</p>
<p class="tableblock">16-bit "Vendor ID" field (Byte 10-11, Set to 0, if elided)</p>
<p class="tableblock">16-bit "Product ID" field (Byte 12-13, Set to 0, if elided)</p>
<p class="tableblock">Variable length "Extended Data" field (Byte 14, Bit[0], Set to 0, if elided)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH does not respond to DUT and DUT keeps sending ADVs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The ADV contains a GAP peripheral and uses the GAP General Discoverable mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH does not respond to DUT and DUT keeps sending ADVs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Between T0 and 30s, DUT should send ADVs each 20ms to 60ms</p>
<p class="tableblock">Between 30s and 15min, DUT should send ADVs each 150ms to 1200ms</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH does not respond to DUT. User power cycles the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT restarts the ADV sending process upon reboot and uses a new address (the previous address must be stored by TH in the previous step).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH does not respond to DUT and DUT keeps sending ADVs. TH waits at least 15 minutes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT stops sending ADV no later than 15 minutes and no sooner than 3 minutes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIFI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH scans and finds the DUT SSID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT SSID is not hidden and has the format: MATTER-ddd-vvvv-pppp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIFI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH scans and finds the DUT SSID</p>
<p class="tableblock">TH sends to DUT a 1st power cycle command (or reset manually)</p>
<p class="tableblock">TH sends to DUT a 2nd power cycle command (or reset manually)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT BSSID is random on each boot. DUT BSSID has the value X</p>
<p class="tableblock">After 1st power cycle, DUT BSSID is random with respect X (is not X, X+1, X-1, X*2, X/2, etc.)</p>
<p class="tableblock">After 2nd power cycle, DUT BSSID is random with respect X (is not X, X+1, X-1, X*2, X/2, etc.)</p>
<p class="tableblock">DUT bcast bit is set.</p>
<p class="tableblock">DUT locally-administered bit is set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIFI &amp; MCORE.DD.IE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH scans and finds the DUT SSID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT IE is carried in the Wi-Fi Soft-AP Beacon and Probe response frames</p>
<p class="tableblock">AND</p>
<p class="tableblock">DUT includes in that IE the following fields:</p>
<p class="tableblock">0x00 (Reserved)</p>
<p class="tableblock">0x01 (Device State)</p>
<p class="tableblock">0x02 (Device Information)</p>
<p class="tableblock">0x03 (Rotating Device Id)</p>
<p class="tableblock">0x04 - 0xFF (Reserved)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.1, 4.3.1.5., 4.3.1.7., 4.3.1.11.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH and DUT are connected to the same network through vendor-unique means or by commissioning the DUT onto the Matter network and opening a commissioning window. The DUT is sending mandatory Commissionable Node Discovery service records over DNS-SD.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to be discovered over DNS-SD.</p>
<p class="tableblock">For each of the following required TXT record keys for DNS-SD based discovery, validate that the DUT&#8217;s TXT records contain a valid key/value pair corresponding to the rules for each TXT key listed:</p>
<p class="tableblock">D: Full 12-bit discriminator for the Commissionable Node (Spec. 4.3.1.5.). The discriminator value SHALL be encoded as a variable-length decimal number in ASCII text, with up to four digits, omitting any leading zeroes. For example, value D=840 would indicate that this Commissionable Node has a decimal long discriminator=840.</p>
<p class="tableblock">CM: Commissioning Mode,
The absence of key CM SHALL imply a value of 0 (CM=0).
CM=0 SHALL indicate that the publisher is not currently in Commissioning Mode.
CM=1 SHALL indicate that the publisher is currently in Commissioning Mode and requires use of a passcode for commissioning provided by the Commissionee
CM=2 SHALL indicate that the publisher is currently in Commissioning Mode and requires use of a dynamically generated passcode for commissioning corresponding to the verifier that was passed to the device using the Open Commissioning Window command.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1.6.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.TXT_KEY_VP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH and DUT are connected to the same network and the DUT is sending optional Commissionable Node Discovery service records over DNS-SD.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validate that the following TXT key record is compliant:</p>
<p class="tableblock">VP: Vendor ID and Product ID (Spec 4.3.1.6.) SHALL both be expressed as variable-length decimal numbers, encoded as ASCII text, omitting any leading zeroes, and of maximum length of 5 characters each to fit their 16-bit numerical range. For example,
If the Product ID is present, it SHALL be separated from the Vendor ID using a '' character.
If the VP key is present without a Product ID, the value SHALL contain only the Vendor ID alone, with no '' character.</p>
<p class="tableblock">For example,
(1) VP=123 gives Vendor ID.
(2) VP=123+456 gives Vendor ID=123 + Product ID=456.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1.8.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.TXT_KEY_DT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH and DUT are connected to the same network and the DUT is sending optional Commissionable Node Discovery service records over DNS-SD.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validate that the following TXT key record is compliant:</p>
<p class="tableblock">DT: Device Type (Spec 4.3.1.8.) MAY provide the publisher&#8217;s primary device type (see Section 11.22.5.3, “DeviceTypeID”). In case the device combines multiple device types, the manufacturer SHOULD choose the device type identifier of the primary function of the device for which the device wishes to be discoverable. If present, it SHALL be encoded as a variable-length decimal number in ASCII text, omitting any leading zeroes.</p>
<p class="tableblock">For example, the DT=10 key/value pair would indicate that the primary device type is 10 (0x000a), which is the device type identifier for a Door Lock.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1.9.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.TXT_KEY_DN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH and DUT are connected to the same network and the DUT is sending optional Commissionable Node Discovery service records over DNS-SD.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validate that the following TXT key record is compliant:</p>
<p class="tableblock">DN: Device Name (Spec 4.3.1.9.) MAY provide a device advertisement name. If present, it SHALL be encoded as a valid UTF-8 string with a maximum length of 32 bytes (matching the maximum length of the NodeLabel string in the Basic Information Cluster).</p>
<p class="tableblock">For example, the DN=Living Room key/value pair indicates that the advertisement name specified by the user is 'Living Room'.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1.10.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.TXT_KEY_RI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH and DUT are connected to the same network and the DUT is sending optional Commissionable Node Discovery service records over DNS-SD.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validate that the following TXT key record is compliant:</p>
<p class="tableblock">RI: Rotating Identifier (Spec 4.3.1.10.) MAY provide a Rotating Device Identifier. If present, the value associated with the RI key SHALL contain the octets of the Rotating Device Identifier octet string encoded as the concatenation of each octet&#8217;s value as a 2-digit uppercase hexadecimal number.
The resulting ASCII string SHALL NOT be longer than 100 characters, which implies a Rotating Device Identifier of at most 50 octets.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1.11.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.TXT_KEY_PH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH and DUT are connected to the same network and the DUT is sending optional Commissionable Node Discovery service records over DNS-SD.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validate that the following TXT key record is compliant:</p>
<p class="tableblock">PH: Pairing Hint (Spec 4.3.1.11.) MAY provide a pairing hint. If present, it SHALL be encoded as a variable-length decimal number in ASCII text, omitting any leading zeroes.
The pairing hint represents a base-10 numeric value for a bitmap of methods supported by the Commissionee in its current state for putting it in Commissioning Mode.</p>
<p class="tableblock">For example, the PH=5 key/value pair represents a hint value with bits 0 and 2 are set.</p>
<p class="tableblock">For the Pairing Hint TXT key, verify the following bits are set according to the requirement listed for the bit:</p>
<p class="tableblock">Bit 0: This bit SHALL be set to 1 for devices using Standard Commissioning Flow , and set to 0 otherwise.</p>
<p class="tableblock">Bit 1: This SHALL be set to 1 for devices requiring Custom Commissioning Flow before they can be available for Commissioning by any Commissioner.</p>
<p class="tableblock">Bits 8, 10, 12, 15, 17, 19: If the following bits are set to 1 in the PH, verify that the PI key is set with a value N representing a value the PH key needs to indicate action for the user to take (i.e. PH Bit 8: hold reset button for N seconds, PH Bit 12: press reset button N times)</p>
<p class="tableblock">If the DUT=Commissionee has enabled Extended Discovery, then the PH record is required when not in Commissioning Mode (CM=0).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.f</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1.12.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.TXT_KEY_PI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH and DUT are connected to the same network and the DUT is sending optional Commissionable Node Discovery service records over DNS-SD.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validate that the following TXT key record is compliant:</p>
<p class="tableblock">PI: Pairing Instruction (Spec 4.3.1.12.) MAY give the pairing instruction. If present, the value SHALL be encoded as a valid UTF-8 string with a maximum length of 128 bytes.
The meaning of this key is dependent upon the PH key value, see Table 6, “Pairing Hint Values”.
This key/value pair SHALL only be returned in the DNS-SD TXT record if the PH bitmap value has a bit set which has PI Dependency = True, see Table 6, “Pairing Hint Values”. The PH key SHALL NOT have more than one bit set which has a dependency on the PI key (PI Dependency = True) to avoid ambiguity in PI key usage.</p>
<p class="tableblock">For example, given PH=256, bit 8 is set which indicates "Press Reset Button for N seconds". Therefore, a value of PI=10 would indicate that N is 10 in that context.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1.2., 4.3.1.3.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.EXTENDED_DISCOVERY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Place the DUT device into a non-commissionable state</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT is not able to be commissioned over DNS-SD.</p>
<p class="tableblock">Verify that Commissioning Subtype='_CM' is NOT being published in the DUT&#8217;s Commissionable Node Discovery service record over DNS-SD.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1.3.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH and DUT are connected to the same network and the DUT is sending a Commissionable Node Discovery service record over DNS-SD.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to be discovered over DNS-SD.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1.3.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mandatory Commissioning Subtypes: Send a browse request for '_services._dns-sd._udp' using a DNS-SD records command-line test tool (i.e. 'dns-sd -B _services._dns-sd._udp' or 'avahi-browse _services._dns-sd._udp -r')</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify each of the following Commissioning Subtypes, published in the DUT&#8217;s Commissionable Node Discovery service record over DNS-SD, matches one of the following valid subtypes:</p>
<p class="tableblock">1. _L&lt;dddd&gt;, where &lt;dddd&gt; provides the full 12-bit discriminator, encoded as a variable-length decimal number in ASCII text, omitting any leading zeroes.</p>
<p class="tableblock">2. _S&lt;dd&gt;, where &lt;dd&gt; provides the upper 4 bits of the discriminator, encoded as a variable-length decimal number in ASCII text, omitting any leading zeroes.</p>
<p class="tableblock">3. _CM, which represents "currently in Commissioning Mode" (due to any method, for example, a factory new device that has just been put into commissioning mode by the user, or an already- commissioned device which has just received the Open Commissioning Window command).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1.3.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.COMMISSIONING_SUBTYPE_V | MCORE.DD.COMMISSIONING_SUBTYPE_T</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional Commissioning Subtypes: Send a browse request for '_services._dns-sd._udp' using a DNS-SD records command-line test tool (i.e. 'dns-sd -B _services._dns-sd._udp' or 'avahi-browse _services._dns-sd._udp -r')</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify each of the following Commissioning Subtypes, published in the DUT&#8217;s Commissionable Node Discovery service record over DNS-SD, matches one of the following valid subtypes:</p>
<p class="tableblock">1. _V&lt;ddddd&gt;, where &lt;ddddd&gt; provides the 16-bit Vendor ID, encoded as a variable-length decimal number in ASCII text, omitting any leading zeroes.</p>
<p class="tableblock">2. _T&lt;ddd&gt;, where &lt;ddd&gt; provides the device type identifier for the device, encoded as a variable- length decimal number in ASCII (UTF-8) text, omitting any leading zeroes. In case the device combines multiple device types, the manufacturer SHOULD choose the device type identifier of the primary function of the device for which the device wishes to be discoverable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Place the DUT device into Commissioning mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to be discovered over DNS-SD.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1.3., 4.3.1.13.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send a browse request for '_matterc._udp' using a DNS-SD records command-line test tool (i.e. 'dns-sd -B _matterc._udp' or 'avahi-browse _matterc._udp -r')</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT responds to the '_matterc._udp' browse request from the TH. Verify TH is able to read the Matter pointer records for the DUT</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_16"><a class="anchor" href="#_notestesting_considerations_16"></a>Notes/Testing considerations</h5>
<div class="paragraph">
<p>Test Steps 8, 9, 10: Out of Scope for V1.0 as they use Wi-Fi Soft-AP commissioning.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_2_2_discovery_by_commissioner_verification_dut_commissioner"><a class="anchor" href="#_tc_dd_2_2_discovery_by_commissioner_verification_dut_commissioner"></a>8.2.2. [TC-DD-2.2] Discovery by Commissioner Verification [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_17"><a class="anchor" href="#_category_17"></a>Category</h5>
<div class="paragraph">
<p>Functional Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_18"><a class="anchor" href="#_purpose_18"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of the test case is to verify that a device acting as Commissioner is able to properly discover an uncommissioned matter device that wants to join the network using all discovery transport technologies specified.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_17"><a class="anchor" href="#_pics_17"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_14"><a class="anchor" href="#_preconditions_14"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.3. Discovery by Commissioner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports BLE (central role), Wi-Fi and IP connectivity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wi-Fi certified n client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness must support all discovery transport technologies as the DUT (i.e. BLE, Wi-Fi and IP connectivity)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_17"><a class="anchor" href="#_required_devices_17"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device acting as a joiner that supports all discovery transports (i.e. BLE, Wi-Fi and IP connectivity)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Commissioner device that is joined already in a Matter network</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_17"><a class="anchor" href="#_test_procedure_17"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH starts matter announcement procedure using BLE transport</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH must start sending BLE advertisements.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT starts BLE scan across all three advertising channels with a sufficient dwell time, interval, and overall duration of scan</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must find TH and provide onboarding data to for validation.</p>
<p class="tableblock">Pass Criteria: DUT is able to report the Onboarding payload as set on TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT starts scan in background using BLE transport</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH starts matter announcement using BLE transport</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH must start sending BLE advertisements.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must find TH and provide onboarding data for validation.</p>
<p class="tableblock">Pass Criteria: DUT is able to report the Onboarding payload as set on TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_SOFTAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH starts SoftAP and begin matter announcement procedure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH must start SoftAP using Wi-Fi transport</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_SOFTAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT starts Wi-Fi scan of all 2.4 GHz Wi-Fi channels allowed per its operational regulatory domain (channels 1, 6, and 11 are preferred)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must find TH and provide onboarding data for validation.</p>
<p class="tableblock">Pass Criteria: DUT is able to report the Onboarding payload as set on TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_SOFTAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT scans using Wi-Fi in background</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_SOFTAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH starts SoftAP and begin matter announcement procedure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH must start SoftAP using Wi-Fi transport</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_SOFTAP</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must find TH and provide onboarding data for validation.</p>
<p class="tableblock">Pass Criteria: DUT is able to report the Onboarding payload as set on TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.3.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">With DUT and TH connected to the same network over IP, DUT performs service discovery using DNS-SD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must find TH and provide onboarding data for validation.</p>
<p class="tableblock">Pass Criteria: DUT is able to report the Onboarding payload as set on TH</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_17"><a class="anchor" href="#_notestesting_considerations_17"></a>Notes/Testing considerations</h5>
<div class="paragraph">
<p>Test Steps 3.a/b, 4.a/b/c: Out of Scope for V1.0 as they use Wi-Fi Soft-AP commissioning.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_commissioning_flows_test_cases"><a class="anchor" href="#_commissioning_flows_test_cases"></a>8.3. <strong>Commissioning Flows Test Cases</strong></h3>
<hr>
<div class="sect3">
<h4 id="_tc_dd_3_1_commissioning_flow_concurrent_dut_commissionee"><a class="anchor" href="#_tc_dd_3_1_commissioning_flow_concurrent_dut_commissionee"></a>8.3.1. [TC-DD-3.1] Commissioning Flow - Concurrent [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_18"><a class="anchor" href="#_category_18"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_19"><a class="anchor" href="#_purpose_19"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of the following test cases is to verify the End to End Concurrent Commissioning Flow of a device that is
commissioned into a Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_18"><a class="anchor" href="#_pics_18"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>!MCORE.DD.NON_CONCURRENT_CONNECTION</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_15"><a class="anchor" href="#_preconditions_15"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner is on a network.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The network can either be IP-based(Ethernet or Wi-Fi) or Thread.
Commissioner can either be a Matter device which is already on a network or the test harness connected to the network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_18"><a class="anchor" href="#_required_devices_18"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissioner can either be a Matter device which is already on a network or the test harness connected to the network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Commissionee device that is connected to an operational network(i.e. BLE, Wi-Fi, or Ethernet) and is prepared for commissioning</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_18"><a class="anchor" href="#_test_procedure_18"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner and Commissionee discover each other and connect via the discovery mode applicable for the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner and Commissionee can discover each other and connect to each other by establishing a commissioning channel between each other.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Establish encryption keys with Password Authenticated Session Establishment on the commissioning channel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to establish encryption keys using PASE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner SHALL re-arm Fail-safe timer on Commissionee within 60s (the autonomously Fail-safe timer length set by Commissionee)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT arms the Fail-safe timer with success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIRELESS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner SHALL configure regulatory information in the Commissionee.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sets the regulatory values configured by the Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner requests operational CSR from Commissionee with OperationalCSRRequest command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT generate a new operational key pair</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures operational credentials on DUT if not previously installed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to install Trusted Root Certificate if needed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures itself as administrator in ACL on DUT if needed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT configures the ACL with success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures operational network on DUT if DUT both supports and requires</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT configure the correct operational network credentials</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner instructs Commissionee to connect to operational network if not already connected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT successfully connect to operational network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner starts discovery of DUT using Operational Discovery</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 14</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner opens a CASE session with DUT over operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to open the CASE session with TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 15</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner sends CommissioningComplete command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT responds with success at CommissioningComplete command sent by TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning channel between the Commissioner and Commissionee is terminated.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_18"><a class="anchor" href="#_notestesting_considerations_18"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_2_commissioning_flow_non_concurrent_dut_commissionee"><a class="anchor" href="#_tc_dd_3_2_commissioning_flow_non_concurrent_dut_commissionee"></a>8.3.2. [TC-DD-3.2] Commissioning Flow - Non-concurrent [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_19"><a class="anchor" href="#_category_19"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_20"><a class="anchor" href="#_purpose_20"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of the following test cases is to verify the End to End Non-Concurrent Commissioning Flow of a device that is commissioned into a Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_19"><a class="anchor" href="#_pics_19"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.DD.NON_CONCURRENT_CONNECTION</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_16"><a class="anchor" href="#_preconditions_16"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner is on a network.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The network can either be IP-based(Ethernet or Wi-Fi) or Thread.
Commissioner can either be a Matter device which is already on a network or the test harness connected to the network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_19"><a class="anchor" href="#_required_devices_19"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissioner can either be a Matter device which is already on a network or the test harness connected to the network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Commissionee device that is not connected to an operational network(i.e. BLE, Wi-Fi, or Ethernet) and is prepared for commissioning</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_19"><a class="anchor" href="#_test_procedure_19"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner and Commissionee discover each other and connect via the discovery mode applicable for the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner and Commissionee can discover each other and connect to each other.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Establish encryption keys with Password Authenticated Session Establishment on the commissioning channel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to establish encryption keys using PASE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner reads commissioning information, including SupportsConcurrentConnection attribute from General Commissioning cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify SupportsConcurrentConnection is false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner SHALL re-arm Fail-safe timer on Commissionee within 60s (the autonomously Fail-safe timer length set by Commissionee)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT arms the Fail-safe timer with success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIRELESS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner SHALL configure regulatory information in the Commissionee.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sets the values configured by the Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner requests operational CSR from Commissionee with OperationalCSRRequest command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT generates a new operational key pair</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures operational credentials on DUT if not previously installed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to install Trusted Root Certificate if needed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures itself as administrator in ACL on DUT if needed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT configures the ACL with success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures operational network on DUT if DUT both supports and requires</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT configures the correct operational network credentials</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 12, 11.8.7.9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner instructs Commissionee to connect to operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT does not send ConnectNetworkResponse on commissioning channel</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning channel between the Commissioner and Commissionee is terminated.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner starts discovery of DUT using Operational Discovery</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 14</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner opens a CASE session with DUT over operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to open the CASE session with TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 15</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner sends CommissioningComplete command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT respond with success at CommissioningComplete command sent by TH</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_19"><a class="anchor" href="#_notestesting_considerations_19"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_3_user_directed_commissioning_dut_commissionee"><a class="anchor" href="#_tc_dd_3_3_user_directed_commissioning_dut_commissionee"></a>8.3.3. [TC-DD-3.3] User Directed Commissioning [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_20"><a class="anchor" href="#_category_20"></a>Category</h5>
<div class="paragraph">
<p>Functional Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_21"><a class="anchor" href="#_purpose_21"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that a Commissionee is able to initiate the commissioning procedure using User Directed Commissioning.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_20"><a class="anchor" href="#_pics_20"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.DD.UI</p>
</li>
<li>
<p>MCORE.DD.COMM_DISCOVERY</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_17"><a class="anchor" href="#_preconditions_17"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User must indicate the intention for commissioning using a display or other UI elements.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is not advertising Commissioner Discovery Service at start</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_20"><a class="anchor" href="#_required_devices_20"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Matter Commissioner that supports Commissioner Discovery and is already in network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissionee device that is in an uncommissioned state, supports Commissioner Discovery and has UI</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_20"><a class="anchor" href="#_test_procedure_20"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT starts scanning for available commissioners using Commissioner Discovery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should make 4 retries and each retry should be delayed by 100ms from the previous transmission</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is instructed to advertise Commissioner Discovery service</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT starts scanning for available commissioners using Commissioner Discovery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must find the TH Commissioner Discovery DNS-SD service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is instructed to start the commissioning procedure with the TH found at Step 3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should send an Identification Declaration message to selected Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH verifies the Identification Declaration message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identification Declaration message should have:</p>
<p class="tableblock">- protocol ID 0x0003</p>
<p class="tableblock">- protocol opcode 0x00</p>
<p class="tableblock">- Session ID field must be set to 0</p>
<p class="tableblock">- Session Type bits from Security Flags and Session ID must be set to 0</p>
<p class="tableblock">- S bit and DSIZ bits from Message Flags must be set to 0</p>
<p class="tableblock">- R bit from Exchange Flags must be set to 0</p>
<p class="tableblock">- I bit from Exchange Flags must be set to 1</p>
<p class="tableblock">- Content should be the DUT DNS-SD service instance name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH starts the commissioning procedure with DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning procedure ends with success</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_20"><a class="anchor" href="#_notestesting_considerations_20"></a>Notes/Testing considerations</h5>
<div class="paragraph">
<p>Test Steps 4, 5: Out of Scope for V1.0</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_4_user_directed_commissioning_dut_commissioner"><a class="anchor" href="#_tc_dd_3_4_user_directed_commissioning_dut_commissioner"></a>8.3.4. [TC-DD-3.4] User Directed Commissioning [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_21"><a class="anchor" href="#_category_21"></a>Category</h5>
<div class="paragraph">
<p>Functional Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_22"><a class="anchor" href="#_purpose_22"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that a Commissioner is able to handle the commissioning procedure initiated by a commissionee using User Directed Commissioning.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_21"><a class="anchor" href="#_pics_21"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.UI</p>
</li>
<li>
<p>MCORE.DD.COMM_DISCOVERY</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_18"><a class="anchor" href="#_preconditions_18"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User must indicate the intention for commissioning using a display or other UI elements.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_21"><a class="anchor" href="#_required_devices_21"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Matter Commissioner that supports Commissioner Discovery and is already in network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device that is in an uncommissioned state and supports Commissioner Discovery</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_21"><a class="anchor" href="#_test_procedure_21"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is instructed to advertise Commissioner Discovery service</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH starts scanning for available commissioners using Commissioner Discovery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH must find the DUT Commissioner Discovery DNS-SD advertising using service type _matterd._udp</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is instructed to start the commissioning procedure with the DUT found at Step 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH should send an Identification Declaration message to DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT verifies the Identification Declaration message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identification Declaration message should have:</p>
<p class="tableblock">- protocol ID 0x0003</p>
<p class="tableblock">- protocol opcode 0x00</p>
<p class="tableblock">- Session ID field must be set to 0</p>
<p class="tableblock">- Session Type bits from Security Flags and Session ID must be set to 0</p>
<p class="tableblock">- S bit and DSIZ bits from Message Flags must be set to 0</p>
<p class="tableblock">- R bit from Exchange Flags must be set to 0</p>
<p class="tableblock">- I bit from Exchange Flags must be set to 1</p>
<p class="tableblock">- Content should be the DUT DNS-SD service instance name</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By any means, DUT prompts user for onboarding payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must request onboarding payload</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT starts the commissioning procedure with TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning procedure ends with success</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_21"><a class="anchor" href="#_notestesting_considerations_21"></a>Notes/Testing considerations</h5>
<div class="paragraph">
<p>Test Steps 3, 4: Out of Scope for V1.0</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_5_commissioning_flow_concurrent_dut_commissioner"><a class="anchor" href="#_tc_dd_3_5_commissioning_flow_concurrent_dut_commissioner"></a>8.3.5. [TC-DD-3.5] Commissioning Flow - Concurrent [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_22"><a class="anchor" href="#_category_22"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_23"><a class="anchor" href="#_purpose_23"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of the following test cases is to verify the End to End Concurrent Commissioning Flow of commissioner that can discover and commission a device in the Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_22"><a class="anchor" href="#_pics_22"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_19"><a class="anchor" href="#_preconditions_19"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner is on a network.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The network can either be Wi-Fi or Thread.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee can either be a Matter device which is already on a network or the test harness connected to the network.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_22"><a class="anchor" href="#_required_devices_22"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a device that has Commissioner role</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device that is connected to an operational network(i.e. BLE, Wi-Fi, or Ethernet) and is prepared for commissioning</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_22"><a class="anchor" href="#_test_procedure_22"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner has regulatory and fabric information available and has accurate date, time and timezone</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check time, date and timezone on DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 2, 5.4.3.3, 5.4.2.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner and Commissionee discover each other and connect via the discovery mode applicable for the DUT.</p>
<p class="tableblock">If (MCORE.DD.DISCOVERY_IP), TH device is advertising over IP Network using DNS-based Service Discovery (DNS-SD)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner and Commissionee can discover each other and connect to each other.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Establish encryption keys with Password Authenticated Session Establishment on the commissioning channel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to establish encryption keys using PASE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner SHALL re-arm Fail-safe timer on Commissionee within 60s (the autonomously Fail-safe timer length set by Commissionee)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH arm the Fail-safe timer with success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIRELESS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner SHALL configure regulatory information in the Commissionee.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH set the values configured by the Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner requests operational CSR from Commissionee with OperationalCSRRequest command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH generate a new operational key pair</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures operational credentials on DUT if not previously installed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is able to install Trusted Root Certificate if needed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures itself as administrator in ACL on TH if needed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH configure the ACL with success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures operational network on TH if TH both supports and requires</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH configure the correct operational network credentials</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner instructs Commissionee to connect to operational network if not already connected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH successfully connect to operational network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner starts discovery of TH using Operational Discovery</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 14</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner opens a CASE session with TH over operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is able to open the CASE session with DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 15</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner sends CommissioningComplete command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH respond with success at CommissioningComplete command sent by DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning channel between the Commissioner and Commissionee is terminated.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_22"><a class="anchor" href="#_notestesting_considerations_22"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_6_commissioning_flow_non_concurrent_dut_commissioner"><a class="anchor" href="#_tc_dd_3_6_commissioning_flow_non_concurrent_dut_commissioner"></a>8.3.6. [TC-DD-3.6] Commissioning Flow - Non-concurrent [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_23"><a class="anchor" href="#_category_23"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_24"><a class="anchor" href="#_purpose_24"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of the following test cases is to verify the End to End Non-Concurrent Commissioning Flow of commissioner that can commission a device
in the Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_23"><a class="anchor" href="#_pics_23"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_20"><a class="anchor" href="#_preconditions_20"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner is on a network.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The network can either be Wi-Fi or Thread.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee is not connected to an operational network</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_23"><a class="anchor" href="#_required_devices_23"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a device that has Commissioner role</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device that is not connected to an operational network(i.e. BLE, Wi-Fi, or Ethernet) and is prepared for commissioning as a Non-concurrent device</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_23"><a class="anchor" href="#_test_procedure_23"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner has regulatory and fabric information available and has accurate date, time and timezone</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check time, date and timezone on DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner and Commissionee discover each other and connect via the discovery mode applicable for the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner and Commissionee can discover each other and connect to each other.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Establish encryption keys with Password Authenticated Session Establishment on the commissioning channel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to establish encryption keys using PASE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner reads commissioning information, including SupportsConcurrentConnection attribute from General Commissioning cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify SupportsConcurrentConnection is false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner SHALL re-arm Fail-safe timer on Commissionee within 60s (the autonomously Fail-safe timer length set by Commissionee)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH arm the Fail-safe timer with success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIRELESS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner SHALL configure regulatory information in the Commissionee.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH set the values configured by the Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner requests operational CSR from Commissionee with OperationalCSRRequest command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH generate a new operational key pair</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures operational credentials on DUT if not previously installed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is able to install Trusted Root Certificate if needed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures itself as administrator in ACL on TH if needed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH configure the ACL with success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures operational network on TH if TH both supports and requires</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH configure the correct operational network credentials</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 12, 11.8.7.9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner instructs Commissionee to connect to operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT does not wait for ConnectNetworkResponse on commissioning channel and moves onto next step</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning channel between the Commissioner and Commissionee is terminated.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner starts discovery of TH using Operational Discovery</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 14</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner opens a CASE session with TH over operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is able to open the CASE session with DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 15</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner sends CommissioningComplete command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH respond with success at CommissioningComplete command sent by DUT</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_23"><a class="anchor" href="#_notestesting_considerations_23"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_7_commissioning_flow_concurrent_negative_scenario_dut_commissioner_removed"><a class="anchor" href="#_tc_dd_3_7_commissioning_flow_concurrent_negative_scenario_dut_commissioner_removed"></a>8.3.7. [TC-DD-3.7] Commissioning Flow - Concurrent - Negative Scenario [DUT - Commissioner] - REMOVED</h4>
<div class="sect4">
<h5 id="_category_24"><a class="anchor" href="#_category_24"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_25"><a class="anchor" href="#_purpose_25"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of the following test cases is to verify the End to End Concurrent Commissioning Flow of commissioner that can commission a device in the Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_24"><a class="anchor" href="#_pics_24"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_21"><a class="anchor" href="#_preconditions_21"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner is on a network.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The network can either be Wi-Fi or Thread.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee can either be a Matter device which is already on a network or the test harness connected to the network.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_24"><a class="anchor" href="#_required_devices_24"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Matter Commissioner device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device that is connected to an operational network(i.e. BLE, Wi-Fi, or Ethernet) and is prepared for commissioning</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_24"><a class="anchor" href="#_test_procedure_24"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner has regulatory and fabric information available and has accurate date, time and timezone</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check time, date and timezone on DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner and Commissionee discover each other and connect via the discovery mode applicable for the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner and Commissionee can discover each other and connect to each other.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Establish encryption keys with Password Authenticated Session Establishment on the commissioning channel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to establish encryption keys using PASE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner SHALL re-arm Fail-safe timer on Commissionee within 60s (the autonomously Fail-safe timer length set by Commissionee)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH arm the Fail-safe timer with success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reboot TH and prepare for commissioning</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner should return to step 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner and Commissionee can discover each other and connect to each other.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Establish encryption keys with Password Authenticated Session Establishment on the commissioning channel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to establish encryption keys using PASE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner SHALL re-arm Fail-safe timer on Commissionee within 60s (the autonomously Fail-safe timer length set by Commissionee)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH arm the Fail-safe timer with success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIRELESS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner SHALL configure regulatory information in the Commissionee.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH set the values configured by the Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner requests operational CSR from Commissionee with OperationalCSRRequest command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH generate a new operational key pair</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures operational credentials on DUT if not previously installed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is able to install Trusted Root Certificate if needed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures itself as administrator in ACL on TH if needed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH configure the ACL with success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures operational network on TH if TH both supports and requires</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH configure the correct operational network credentials</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner instructs Commissionee to connect to operational network if not already connected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH successfully connect to operational network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reboot TH</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner should return to the same state as step 13 to continue commissioning (i.e. Commissioner configure operational network on TH if TH both supports and requires)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configure operational network on TH if needed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner instructs Commissionee to connect to operational network if not already connected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH successfully connect to operational network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner starts discovery of TH using Operational Discovery</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 14</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner opens a CASE session with TH over operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is able to open the CASE session with DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 15</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner sends CommissioningComplete command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH respond with success at CommissioningComplete command sent by DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning channel between the Commissioner and Commissionee is terminated.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_24"><a class="anchor" href="#_notestesting_considerations_24"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_8_commissioning_flow_non_concurrent_negative_scenario_dut_commissioner_removed"><a class="anchor" href="#_tc_dd_3_8_commissioning_flow_non_concurrent_negative_scenario_dut_commissioner_removed"></a>8.3.8. [TC-DD-3.8] Commissioning Flow - Non-concurrent - Negative Scenario [DUT - Commissioner] - REMOVED</h4>
<div class="sect4">
<h5 id="_category_25"><a class="anchor" href="#_category_25"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_26"><a class="anchor" href="#_purpose_26"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of the following test cases is to verify the End to End Non-Concurrent Commissioning Flow of commissioner that can commission a device in the Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_25"><a class="anchor" href="#_pics_25"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_22"><a class="anchor" href="#_preconditions_22"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner is on a network.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The network can either be Wi-Fi or Thread.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee is not connected to an operational network</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_25"><a class="anchor" href="#_required_devices_25"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Matter Commissioner device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device that is not connected to an operational network(i.e. BLE, Wi-Fi, or Ethernet) and is prepared for commissioning</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_25"><a class="anchor" href="#_test_procedure_25"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner has regulatory and fabric information available and has accurate date, time and timezone</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check time, date and timezone on DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner and Commissionee discover each other and connect via the discovery mode applicable for the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner and Commissionee can discover each other and connect to each other.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Establish encryption keys with Password Authenticated Session Establishment on the commissioning channel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to establish encryption keys using PASE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner reads commissioning information, including SupportsConcurrentConnection attribute from General Commissioning cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify SupportsConcurrentConnection is false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner SHALL re-arm Fail-safe timer on Commissionee within 60s (the autonomously Fail-safe timer length set by Commissionee)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH arm the Fail-safe timer with success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIRELESS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner SHALL configure regulatory information in the Commissionee.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH set the values configured by the Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner requests operational CSR from Commissionee with OperationalCSRRequest command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH generate a new operational key pair</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures operational credentials on DUT if not previously installed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is able to install Trusted Root Certificate if needed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures itself as administrator in ACL on TH if needed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH configure the ACL with success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures operational network on TH if TH both supports and requires</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH configure the correct operational network credentials</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 12, 11.8.7.9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner instructs Commissionee to connect to operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT does not wait for ConnectNetworkResponse on commissioning channel and moves onto next step</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning channel between the Commissioner and Commissionee is terminated.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reboot TH and prepare for commissioning</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner should go to step 2. Commissioner and Commissionee should discover and connect to each other.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Establish encryption keys with Password Authenticated Session Establishment on the commissioning channel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to establish encryption keys using PASE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner re-arms Fail-safe timer on Commissionee within 60s (the autonomously Fail-safe timer length set by Commissionee)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH arm the Fail-safe timer with success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIRELESS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner SHALL configure regulatory information in the Commissionee.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH set the values configured by the Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner requests operational CSR from Commissionee with OperationalCSRRequest command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH generate a new operational key pair</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures operational credentials on DUT if not previously installed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is able to install Trusted Root Certificate if needed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures itself as administrator in ACL on TH if needed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH configure the ACL with success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner configures operational network on TH if TH both supports and requires</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH configure the correct operational network credentials</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner instructs Commissionee to connect to operational network if not already connected</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH successfully connect to operational network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning channel between the Commissioner and Commissionee is terminated.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner starts discovery of TH using Operational Discovery</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 14</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner opens a CASE session with TH over operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is able to open the CASE session with DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 15</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner sends CommissioningComplete command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH respond with success at CommissioningComplete command sent by DUT</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_25"><a class="anchor" href="#_notestesting_considerations_25"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_9_commissioning_flow_custom_flow_2_dut_commissionee"><a class="anchor" href="#_tc_dd_3_9_commissioning_flow_custom_flow_2_dut_commissionee"></a>8.3.9. [TC-DD-3.9] Commissioning Flow - Custom Flow = 2 [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_26"><a class="anchor" href="#_category_26"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_27"><a class="anchor" href="#_purpose_27"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of this test case is to verify if a device that is not a commissioner and has a custom commissioning flow is
able to complete the commissioning procedure with success.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_26"><a class="anchor" href="#_pics_26"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.DD.CUSTOM_COMM_FLOW</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_23"><a class="anchor" href="#_preconditions_23"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner is on an operational network and has accurate date, time, timezone, regulatory, and fabric information available.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_26"><a class="anchor" href="#_required_devices_26"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissioner device acting as the Matter commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissionee device acting as a commissionee to join a Matter network that has a custom commissioning flow.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_2"><a class="anchor" href="#_device_topology_2"></a>Device Topology</h5>
<div class="paragraph">
<p>Commissioner (TH) &#8592;&#8594; DUT</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_26"><a class="anchor" href="#_test_procedure_26"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH receives Onboarding Payload from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom Flow field from Onboarding Payload must be set to value 2.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Follow any custom steps, guided by a service provided by the DUT&#8217;s manufacturer for initial device setup, then place the DUT Commissionee into commissioning mode.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the DUT Commissionee is advertising to be commissioned to a Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned by the TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The commissioning procedure ends with success</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_26"><a class="anchor" href="#_notestesting_considerations_26"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_10_commissioning_flow_custom_flow_2_dut_commissioner"><a class="anchor" href="#_tc_dd_3_10_commissioning_flow_custom_flow_2_dut_commissioner"></a>8.3.10. [TC-DD-3.10] Commissioning Flow - Custom Flow = 2 [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_27"><a class="anchor" href="#_category_27"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_28"><a class="anchor" href="#_purpose_28"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of this test case is to verify if a node that acts as a commissioner is able to properly use custom commissioning
data that a commissionee may require in order to complete the commissioning procedure with success.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_27"><a class="anchor" href="#_pics_27"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.CUSTOM_COMM_FLOW</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_24"><a class="anchor" href="#_preconditions_24"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is on an operational network and has accurate date, time, timezone, regulatory, and fabric information available.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_27"><a class="anchor" href="#_required_devices_27"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissioner device acting as the Matter commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness Commissionee device acting as a commissionee to join a Matter network that has a custom commissioning flow.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_3"><a class="anchor" href="#_device_topology_3"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT &#8592;&#8594; Commissionee</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_27"><a class="anchor" href="#_test_procedure_27"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT receives Onboarding Payload from the TH with Custom Flow field set to value 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is triggered to enter the Custom Commissioning Flow</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User follows any TH-specific steps to place the TH Commissionee into commissioning mode.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the TH Commissionee is advertising to be commissioned to a Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT commissions TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning of TH ends with success</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_27"><a class="anchor" href="#_notestesting_considerations_27"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_11_commissioning_flow_0_standard_flow_qr_code_dut_commissioner"><a class="anchor" href="#_tc_dd_3_11_commissioning_flow_0_standard_flow_qr_code_dut_commissioner"></a>8.3.11. [TC-DD-3.11] Commissioning Flow = 0 (Standard Flow) - QR Code [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_28"><a class="anchor" href="#_category_28"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_29"><a class="anchor" href="#_purpose_29"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the Commissioner can scan a device onboarding QR code, successfully parse the QR code and successfully complete the commissioning procedure using Standard commissioning flow.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_28"><a class="anchor" href="#_pics_28"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.QR_COMMISSIONING</p>
</li>
<li>
<p>MCORE.DD.STANDARD_COMM_FLOW</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_25"><a class="anchor" href="#_preconditions_25"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 60%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is on an operational network and has accurate date, time, timezone, regulatory, and fabric information available.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p>
<p class="tableblock">An example onboarding QR code could be "MT:-24J029Q00KA0648G00" (following 5.1.3 "QR Code", Table 34 "Packed Binary Data Structure for Onboarding Payload") which includes:</p>
<p class="tableblock">- 3-bit Version String=000</p>
<p class="tableblock">- 16-bit Vendor ID=0xFFF1 (as defined in section 2.5.2. "Vendor Identifier")</p>
<p class="tableblock">- 16-bit Product ID=0x8001 (as defined in section 2.5.3. "Product Identifier")</p>
<p class="tableblock">- 2-bit Custom Flow=10 (Custom Commissioning Flow = 2)</p>
<p class="tableblock">- 8-bit Discovery Capabilities Bitmask=00000100 (OnNetwork)</p>
<p class="tableblock">- 12-bit Discriminator=0xF00</p>
<p class="tableblock">- 27-bit Passcode=20202021</p>
<p class="tableblock">- 4-bit Padding=0000</p>
<p class="tableblock">- no variable-length TLV Data included (as defined in section 5.1.3.1. "Payload", subsection "TLV Data")</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_28"><a class="anchor" href="#_required_devices_28"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissioner device acting as the Matter commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device acting as a commissionee to join a Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_4"><a class="anchor" href="#_device_topology_4"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT &#8592;&#8594; Commissionee</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_28"><a class="anchor" href="#_test_procedure_28"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Commissioning Flow: Use a Commissionee with a QR code that has the Custom Flow field set to 0 and supports BLE for its Discovery Capability. Ensure the Version bit string follows the current Matter spec. documentation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a QR code to pass into DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the QR code from the previous step using the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the DUT, parse the TH&#8217;s QR code and follow any steps needed for the Commissioner/Commissionee to complete the commissioning process using BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses QR code and DUT commissions TH to the Matter network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Commissioning Flow: Use a Commissionee with a QR code that has the Custom Flow field set to 0, supports IP Network for its Discovery Capability and is already on the same IP network as the DUT commissioner. Ensure the Version bit string follows the current Matter spec. documentation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a QR code to pass into DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the QR code from the previous step using the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the DUT, parse the TH&#8217;s QR code and follow any steps needed for the Commissioner/Commissionee to complete the commissioning process using IP Network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses QR code and DUT commissions TH to the Matter network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_SOFTAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Standard Commissioning Flow: Use a Commissionee with a QR code that has the Custom Flow field set to 0 and supports SoftAP for its Discovery Capability. Ensure the Version bit string follows the current Matter spec. documentation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a QR code to pass into DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the QR code from the previous step using the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_SOFTAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the DUT, parse the TH&#8217;s QR code and follow any steps needed for the Commissioner/Commissionee to complete the commissioning process using SoftAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses QR code and DUT commissions TH to the Matter network</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_28"><a class="anchor" href="#_notestesting_considerations_28"></a>Notes/Testing considerations</h5>
<div class="paragraph">
<p>Test Steps 3.a, 3.b, 3.c: Out of Scope for V1.0 as they use Wi-Fi Soft-AP Commissioning.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_12_commissioning_flow_1_user_intent_flow_qr_code_dut_commissioner"><a class="anchor" href="#_tc_dd_3_12_commissioning_flow_1_user_intent_flow_qr_code_dut_commissioner"></a>8.3.12. [TC-DD-3.12] Commissioning Flow = 1 (User-Intent Flow) - QR Code [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_29"><a class="anchor" href="#_category_29"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_30"><a class="anchor" href="#_purpose_30"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the Commissioner can scan a device onboarding QR code, successfully parse the QR code and successfully complete the commissioning procedure using User-Intent commissioning flow.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_29"><a class="anchor" href="#_pics_29"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.QR_COMMISSIONING</p>
</li>
<li>
<p>MCORE.DD.USER_INTENT_COMM_FLOW</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_26"><a class="anchor" href="#_preconditions_26"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 60%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is on an operational network and has accurate date, time, timezone, regulatory, and fabric information available.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p>
<p class="tableblock">An example onboarding QR code could be "MT:-24J029Q00KA0648G00" (following 5.1.3 "QR Code", Table 34 "Packed Binary Data Structure for Onboarding Payload") which includes:</p>
<p class="tableblock">- 3-bit Version String=000</p>
<p class="tableblock">- 16-bit Vendor ID=0xFFF1 (as defined in section 2.5.2. "Vendor Identifier")</p>
<p class="tableblock">- 16-bit Product ID=0x8001 (as defined in section 2.5.3. "Product Identifier")</p>
<p class="tableblock">- 2-bit Custom Flow=10 (Custom Commissioning Flow = 2)</p>
<p class="tableblock">- 8-bit Discovery Capabilities Bitmask=00000100 (OnNetwork)</p>
<p class="tableblock">- 12-bit Discriminator=0xF00</p>
<p class="tableblock">- 27-bit Passcode=20202021</p>
<p class="tableblock">- 4-bit Padding=0000</p>
<p class="tableblock">- no variable-length TLV Data included (as defined in section 5.1.3.1. "Payload", subsection "TLV Data")</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_29"><a class="anchor" href="#_required_devices_29"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissioner device acting as the Matter commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device acting as a commissionee to join a Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_5"><a class="anchor" href="#_device_topology_5"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT &#8592;&#8594; Commissionee</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_29"><a class="anchor" href="#_test_procedure_29"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User-Intent Commissioning Flow: Use a Commissionee with a QR code that has the Custom Flow field set to 1 and supports BLE for its Discovery Capability. Commissionee is NOT in commissioning mode. Ensure the Version bit string follows the current Matter spec. documentation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a QR code to pass into DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the QR code from the previous step using the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses QR code.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT has parsed the QR code. Verify TH has not been commissioned to the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User should follow any TH-specific steps for putting the TH Commissionee device into commissioning mode and to complete the commissioning process using BLE.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT commissions TH to the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User-Intent Commissioning Flow: Use a Commissionee with a QR code that has the Custom Flow field set to 1 and supports IP Network for its Discovery Capability. Commissionee is NOT in commissioning mode. Ensure the Version bit string follows the current Matter spec. documentation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a QR code to pass into DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the QR code from the previous step using the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses QR code.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT has parsed the QR code. Verify TH has not been commissioned to the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User should follow any TH-specific steps for putting the TH Commissionee device into commissioning mode and to complete the commissioning process using IP Network.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT commissions TH to the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_SOFTAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User-Intent Commissioning Flow: Use a Commissionee with a QR code that has the Custom Flow field set to 1 and supports SoftAP for its Discovery Capability. Commissionee is NOT in commissioning mode. Ensure the Version bit string follows the current Matter spec. documentation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a QR code to pass into DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the QR code from the previous step using the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_SOFTAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses QR code.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT has parsed the QR code. Verify TH has not been commissioned to the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_SOFTAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User should follow any TH-specific steps for putting the TH Commissionee device into commissioning mode and to complete the commissioning process using SoftAP.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT commissions TH to the Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_29"><a class="anchor" href="#_notestesting_considerations_29"></a>Notes/Testing considerations</h5>
<div class="paragraph">
<p>Test Steps 3.a, 3.b, 3.c, 3.d: Out of Scope for V1.0 as they use Soft-AP Commissioning.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_13_commissioning_flow_2_custom_flow_qr_code_dut_commissioner"><a class="anchor" href="#_tc_dd_3_13_commissioning_flow_2_custom_flow_qr_code_dut_commissioner"></a>8.3.13. [TC-DD-3.13] Commissioning Flow = 2 (Custom Flow) - QR Code [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_30"><a class="anchor" href="#_category_30"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_31"><a class="anchor" href="#_purpose_31"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the Commissioner can scan a device onboarding QR code, successfully parse the QR code and successfully complete the commissioning procedure using Custom commissioning flow.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_30"><a class="anchor" href="#_pics_30"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.QR_COMMISSIONING</p>
</li>
<li>
<p>MCORE.DD.CUSTOM_COMM_FLOW</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_27"><a class="anchor" href="#_preconditions_27"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 60%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is on an operational network and has accurate date, time, timezone, regulatory, and fabric information available.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p>
<p class="tableblock">An example onboarding QR code could be "MT:-24J029Q00KA0648G00" (following 5.1.3 "QR Code", Table 34 "Packed Binary Data Structure for Onboarding Payload") which includes:</p>
<p class="tableblock">- 3-bit Version String=000</p>
<p class="tableblock">- 16-bit Vendor ID=0xFFF1 (as defined in section 2.5.2. "Vendor Identifier")</p>
<p class="tableblock">- 16-bit Product ID=0x8001 (as defined in section 2.5.3. "Product Identifier")</p>
<p class="tableblock">- 2-bit Custom Flow=10 (Custom Commissioning Flow = 2)</p>
<p class="tableblock">- 8-bit Discovery Capabilities Bitmask=00000100 (OnNetwork)</p>
<p class="tableblock">- 12-bit Discriminator=0xF00</p>
<p class="tableblock">- 27-bit Passcode=20202021</p>
<p class="tableblock">- 4-bit Padding=0000</p>
<p class="tableblock">- no variable-length TLV Data included (as defined in section 5.1.3.1. "Payload", subsection "TLV Data")</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_30"><a class="anchor" href="#_required_devices_30"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissioner device acting as the Matter commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device acting as a commissionee to join a Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_6"><a class="anchor" href="#_device_topology_6"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT &#8592;&#8594; Commissionee</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_30"><a class="anchor" href="#_test_procedure_30"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom Commissioning Flow: Use a Commissionee with a QR code that has the Custom Flow field set to 2 and supports BLE for its Discovery Capability. Commissionee is NOT in commissioning mode. Ensure the Version bit string follows the current Matter spec. documentation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a QR code to pass into DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the QR code from the previous step using the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses QR code.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT has parsed the QR code. Verify TH has not been commissioned to the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User should follow any TH-specific steps, unless the DUT has alternative means to guide the user to successful commissioning, for putting the TH Commissionee into commissioning mode, for triggering the DUT Commissioner for commissioning, and for completing the commissioning process using BLE.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT commissions TH to the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom Commissioning Flow: Use a Commissionee with a QR code that has the Custom Flow field set to 2 and supports IP Network for its Discovery Capability. Commissionee is NOT in commissioning mode. Ensure the Version bit string follows the current Matter spec. documentation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a QR code to pass into DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the QR code from the previous step using the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses QR code.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT has parsed the QR code. Verify TH has not been commissioned to the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_IP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User should follow any TH-specific steps, unless the DUT has alternative means to guide the user to successful commissioning, for putting the TH Commissionee into commissioning mode, for triggering the DUT Commissioner for commissioning, and for completing the commissioning process using IP Network.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT commissions TH to the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_SOFTAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom Commissioning Flow: Use a Commissionee with a QR code that has the Custom Flow field set to 2 and supports SoftAP for its Discovery Capability. Commissionee is NOT in commissioning mode. Ensure the Version bit string follows the current Matter spec. documentation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a QR code to pass into DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan the QR code from the previous step using the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_SOFTAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses QR code.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT has parsed the QR code. Verify TH has not been commissioned to the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_SOFTAP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User should follow any TH-specific steps, unless the DUT has alternative means to guide the user to successful commissioning, for putting the TH Commissionee into commissioning mode, for triggering the DUT Commissioner for commissioning, and for completing the commissioning process using SoftAP.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT commissions TH to the Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_30"><a class="anchor" href="#_notestesting_considerations_30"></a>Notes/Testing considerations</h5>
<div class="paragraph">
<p>Test Steps 3.a, 3.b, 3.c, 3.d: Out of Scope for V1.0 as they use Soft-AP Commissioning.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_14_commissioning_flow_qr_code_negative_scenario_dut_commissioner"><a class="anchor" href="#_tc_dd_3_14_commissioning_flow_qr_code_negative_scenario_dut_commissioner"></a>8.3.14. [TC-DD-3.14] Commissioning Flow - QR Code - Negative Scenario [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_31"><a class="anchor" href="#_category_31"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_32"><a class="anchor" href="#_purpose_32"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies End to End Commissioning Flows and ensures that the Commissioner can scan a device onboarding QR code, successfully parse the QR code and prevent the commissioning of any devices when scanning an invalid QR code.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_31"><a class="anchor" href="#_pics_31"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.QR_COMMISSIONING</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_28"><a class="anchor" href="#_preconditions_28"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 60%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is on an operational network and has accurate date, time, timezone, regulatory, and fabric information available.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p>
<p class="tableblock">An example onboarding QR code could be "MT:-24J029Q00KA0648G00" (following 5.1.3 "QR Code", Table 34 "Packed Binary Data Structure for Onboarding Payload") which includes:</p>
<p class="tableblock">- 3-bit Version String=000</p>
<p class="tableblock">- 16-bit Vendor ID=0xFFF1 (as defined in section 2.5.2. "Vendor Identifier")</p>
<p class="tableblock">- 16-bit Product ID=0x8001 (as defined in section 2.5.3. "Product Identifier")</p>
<p class="tableblock">- 2-bit Custom Flow=10 (Custom Commissioning Flow = 2)</p>
<p class="tableblock">- 8-bit Discovery Capabilities Bitmask=00000100 (OnNetwork)</p>
<p class="tableblock">- 12-bit Discriminator=0xF00</p>
<p class="tableblock">- 27-bit Passcode=20202021</p>
<p class="tableblock">- 4-bit Padding=0000</p>
<p class="tableblock">- no variable-length TLV Data included (as defined in section 5.1.3.1. "Payload", subsection "TLV Data")</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_31"><a class="anchor" href="#_required_devices_31"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissioner device acting as the Matter commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device acting as a commissionee to join a Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_7"><a class="anchor" href="#_device_topology_7"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT &#8592;&#8594; Commissionee</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_31"><a class="anchor" href="#_test_procedure_31"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Locate and scan/read the Commissionee&#8217;s QR code using DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the DUT is able to scan/read the QR code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Version String: Using the QR code from Step 1, generate a new QR code but substituting out the current Version String with an invalid Version String (i.e. '010' or any non-zero 3-bit value)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a QR code generated to pass into DUT. Using the example provided above, the payload would be "MT:034J029Q00KA0648G00".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan/read the QR code, generated in the previous step, using the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses QR code and DUT terminates the commissioning process in a DUT-specific manner according to the DUT manufacturer&#8217;s instructions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using the QR code from Step 1, ensure the TH&#8217;s Discovery Capability bit string is NOT set to BLE for discovery (i.e. set to OnNetwork discovery capability)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a QR code generated to pass into DUT. Using the example provided above, the payload would be "MT:-24J029Q00KA0648G00".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.DISCOVERY_BLE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan/read the QR code of the TH device using the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If TH Commissionee&#8217;s Discovery Capabilities do not support BLE, ensure that the DUT commissions the TH onto the Matter network over a capability that is NOT BLE. In this example, over OnNetwork.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.7.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passcode: Using the QR code from Step 1, generate a new QR code using all the same Onboarding Payload components except for the Passcode. For each passcode in the following list, set the Passcode component to one of the invalid Passcodes and generate a new QR code using all the same Onboarding Payload components and one Passcode from the list: 00000000, 11111111, 22222222, 33333333, 44444444, 55555555, 66666666, 77777777, 88888888, 99999999, 12345678, 87654321</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has 12 QR codes (one for each passcode in the list of invalid passcodes) generated to pass into DUT</p>
<p class="tableblock">Using the example provided above, the payloads would be:
"MT:-24J029Q00OC0000000" (00000000),
"MT:-24J029Q00KMSP0Z800" (11111111),
"MT:-24J029Q00GWID1WH00" (22222222),
"MT:-24J029Q00C4912TQ00" (33333333),
"MT:-24J029Q008E.Q2QZ00" (44444444),
"MT:-24J029Q004ORE3N610" (55555555),
"MT:-24J029Q000YH24KF10" (66666666),
"MT:-24J029Q00Y58S4HO10" (77777777),
"MT:-24J029Q00UF-F5EX10" (88888888),
"MT:-24J029Q00QPQ36B420" (99999999),
"MT:-24J029Q004QG46Y900" (12345678),
"MT:-24J029Q00YX018EW10" (87654321)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan each of the generated QR codes from the previous step using DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses QR code and DUT terminates the commissioning process in a DUT-specific manner according to the DUT manufacturer&#8217;s instructions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prefix: Using the QR code from Step 1, generate a new QR code but substituting out the current Prefix with an invalid Prefix that is not 'MT:' (i.e. Prefix='AB:')</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a QR code generated to pass into DUT. Using the example provided above, the payload would be "AB:-24J029Q00KA0648G00".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan/read the QR code, generated in the previous step, using the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT commissioner does not react successfully to scanning the QR code and DUT terminates the commissioning process in a DUT-specific manner according to the DUT manufacturer&#8217;s instructions.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_31"><a class="anchor" href="#_notestesting_considerations_31"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_15_commissioning_flow_manual_pairing_code_dut_commissioner"><a class="anchor" href="#_tc_dd_3_15_commissioning_flow_manual_pairing_code_dut_commissioner"></a>8.3.15. [TC-DD-3.15] Commissioning Flow - Manual Pairing Code [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_32"><a class="anchor" href="#_category_32"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_33"><a class="anchor" href="#_purpose_33"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies End to End Commissioning Flows and ensures that the Commissioner can use a Manual Pairing Code, successfully parse the Manual Pairing Code and complete the commissioning procedure with success.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_32"><a class="anchor" href="#_pics_32"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.MANUAL_PC_COMMISSIONING</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_29"><a class="anchor" href="#_preconditions_29"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 60%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is on an operational network and has accurate date, time, timezone, regulatory, and fabric information available.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual Pairing Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p>
<p class="tableblock">An example onboarding payload could be "34970112332" (11-digit) or could be "749701123365521327694" (21-digit) (following 5.1.4. Table 37. "Manual Pairing Code Elements") which each include:</p>
<p class="tableblock">- 1-bit VID_PID_PRESENT = 0 (11-digit) or = 1 (21-digit)</p>
<p class="tableblock">- 1-bit VERSION=0</p>
<p class="tableblock">- 4-bit SHORT DISCRIMINATOR=0xF00 (4 Most-significant bits of the 12-bits Discriminator value)</p>
<p class="tableblock">- 27-bit PASSCODE=20202021 (see section 5.1.6. Generation of the Passcode)</p>
<p class="tableblock">- 16-bit VENDOR_ID=0xFFF1 (as defined in section 2.5.2. "Vendor Identifier", for 21-digit Manual Pairing Code only)</p>
<p class="tableblock">- 16-bit PRODUCT_ID=0x8001 (as defined in section 2.5.3. "Product Identifier", present if and only if VID is present)</p>
<p class="tableblock">- A generated CHECK_DIGIT (see section 5.1.4. Manual Pairing Code, subsection "Check Digit")</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_32"><a class="anchor" href="#_required_devices_32"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissioner device acting as the Matter commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device acting as a commissionee to join a Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_8"><a class="anchor" href="#_device_topology_8"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT &#8592;&#8594; Commissionee</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_32"><a class="anchor" href="#_test_procedure_32"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.11_MANUAL_PC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the TH&#8217;s 11-digit Manual Pairing Code meets the following criteria:</p>
<p class="tableblock">- VERSION bit string string up to date with the current Matter spec. documentation</p>
<p class="tableblock">- VID_PID_PRESENT bit string set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has the TH&#8217;s 11-digit Manual Pairing Code to pass into DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.11_MANUAL_PC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide the Manual Pairing Code, generated in the previous step, to the DUT in any format supported by the DUT. Follow any steps needed for the Commissioner/Commissionee to complete the commissioning process.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses Manual Pairing Code and DUT commissions TH to the Matter network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.21_MANUAL_PC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the TH&#8217;s 21-digit Manual Pairing Code meets the following criteria:</p>
<p class="tableblock"> - A VERSION bit string string up-to-date with the current Matter spec. documentation</p>
<p class="tableblock"> - A VID_PID_PRESENT bit string set to 1</p>
<p class="tableblock"> - A VENDOR_ID present (as defined in section 2.5.2. "Vendor Identifier")</p>
<p class="tableblock"> - A PRODUCT_ID present (as defined in section 2.5.3. "Product Identifier")</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a Manual Pairing Code to pass into DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.21_MANUAL_PC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide the Manual Pairing Code, generated in the previous step, to the DUT in any format supported by the DUT. Follow any steps needed for the Commissioner/Commissionee to complete the commissioning process.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses Manual Pairing Code and DUT commissions TH to the Matter network</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_32"><a class="anchor" href="#_notestesting_considerations_32"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_16_commissioning_flow_11_digit_manual_pairing_code_negative_scenario_dut_commissioner"><a class="anchor" href="#_tc_dd_3_16_commissioning_flow_11_digit_manual_pairing_code_negative_scenario_dut_commissioner"></a>8.3.16. [TC-DD-3.16] Commissioning Flow - 11-digit Manual Pairing Code - Negative Scenario [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_33"><a class="anchor" href="#_category_33"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_34"><a class="anchor" href="#_purpose_34"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies End to End Commissioning Flows and ensures that the Commissioner can take an 11-digit Manual Pairing Code, successfully parse the Manual Pairing Code and prevent the commissioning of any devices when the Manual Pairing Code is invalid.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_33"><a class="anchor" href="#_pics_33"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.11_MANUAL_PC</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_30"><a class="anchor" href="#_preconditions_30"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 60%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is on an operational network and has accurate date, time, timezone, regulatory, and fabric information available.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11-digit Manual Pairing Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p>
<p class="tableblock">An example onboarding payload could be "34970112332" (following 5.1.4. Table 37. "Manual Pairing Code Elements") which each include:</p>
<p class="tableblock">- 1-bit VID_PID_PRESENT = 0 (11-digit only)</p>
<p class="tableblock">- 1-bit VERSION=0</p>
<p class="tableblock">- 4-bit SHORT DISCRIMINATOR=0xF00 (4 Most-significant bits of the 12-bits Discriminator value)</p>
<p class="tableblock">- 27-bit PASSCODE=20202021 (see section 5.1.6. Generation of the Passcode)</p>
<p class="tableblock">- 16-bit VENDOR_ID=0xFFF1 (as defined in section 2.5.2. "Vendor Identifier", for 21-digit Manual Pairing Code only)</p>
<p class="tableblock">- 16-bit PRODUCT_ID=0x8001 (as defined in section 2.5.3. "Product Identifier", present if and only if VID is present)</p>
<p class="tableblock">- A generated CHECK_DIGIT (see section 5.1.4. Manual Pairing Code, subsection "Check Digit")</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_33"><a class="anchor" href="#_required_devices_33"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissioner device acting as the Matter commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device acting as a commissionee to join a Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_9"><a class="anchor" href="#_device_topology_9"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT &#8592;&#8594; Commissionee</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_33"><a class="anchor" href="#_test_procedure_33"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide the 11-digit Manual Pairing Code from the Commissionee to the DUT in any format supported by DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Manual Pairing Code can be provided to DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VERSION: Using the manual code from Step 1, generate a new manual code but substituting out the current VERSION with an invalid VERSION: 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a manual code generated to pass into DUT. The generated Manual Pairing Code follows all guidelines laid out in the Preconditions #2, above, with special attention to the CHECK_DIGIT using the Verhoeff algorithm. Using the example provided above, the payload would be "84970112331".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide the Manual Pairing Code, generated in the previous step, to the DUT in any format supported by the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT attempts to parse the Manual Pairing Code and DUT terminates the commissioning process in a DUT-specific manner according to the DUT manufacturer&#8217;s instructions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VID_PID_PRESENT: Using the manual code from Step 1, generate a new manual code but substituting out the current VID_PID_PRESENT with an invalid VID_PID_PRESENT set to 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a manual code generated to pass into DUT. The generated Manual Pairing Code follows all guidelines laid out in the Preconditions #2, above, with special attention to the CHECK_DIGIT using the Verhoeff algorithm. Using the example provided above, the payload would be "74970112334".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide the Manual Pairing Code, generated in the previous step, to the DUT in any format supported by the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT attempts to parse the Manual Pairing Code and DUT terminates the commissioning process in a DUT-specific manner according to the DUT manufacturer&#8217;s instructions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SHORT DISCRIMINATOR: Using the manual code from Step 1, generate a new manual code but substituting out the current SHORT DISCRIMINATOR string with a discriminator value that makes the generated manual code differ from Step 1&#8217;s manual code (i.e. Choose a discriminator value that changes any of the 4 most-significant bits of Step 1&#8217;s 12-bit discriminator value and adheres to rules of section 5.1.1.5. "Discriminator value")</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a manual code generated to pass into DUT. The generated Manual Pairing Code follows all guidelines laid out in the Preconditions #2, above, with special attention to the CHECK_DIGIT using the Verhoeff algorithm. Using the example provided above, for a SHORT DISCRIMINATOR=0xE00, the payload would be "33331712336".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide the Manual Pairing Code, generated in the previous step, to the DUT in any format supported by the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT attempts to parse the Manual Pairing Code and DUT terminates the commissioning process in a DUT-specific manner according to the DUT manufacturer&#8217;s instructions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.7.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passcode: Using the manual code from Step 1, generate a new manual code using all the same Onboarding Payload components except for the Passcode. For each Passcode in the following list, set the Passcode component to one of the invalid Passcode and generate a new manual code using all the same Onboarding Payload components and one Passcode from the list: 00000000, 11111111, 22222222, 33333333, 44444444, 55555555, 66666666, 77777777, 88888888, 99999999, 12345678, 87654321</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has 12 manual codes (one for each passcode in the list of invalid passcodes) generated to pass into DUT. The generated Manual Pairing Code follows all guidelines laid out in the Preconditions #2, above, with special attention to the CHECK_DIGIT using the Verhoeff algorithm.</p>
<p class="tableblock">Using the example provided above, the payloads would be:
"34915200008" (00000000),
"35191106788" (11111111),
"35467013565" (22222222),
"35742920344" (33333333),
"36018827124" (44444444),
"36294733900" (55555555),
"34932240691" (66666666),
"35208147474" (77777777),
"35484054250" (88888888),
"35759961037" (99999999),
"35767807533" (12345678),
"36545753496" (87654321)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide each of the Manual Pairing Codes, generated in the previous step, to the DUT in any format supported by the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT attempts to parse the Manual Pairing Code and DUT terminates the commissioning process in a DUT-specific manner according to the DUT manufacturer&#8217;s instructions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CHECK_DIGIT: Using the manual code from Step 1, generate a new manual code but substituting out the current CHECK_DIGIT with an invalid CHECK_DIGIT (i.e. Any different CHECK_DIGIT than the commissionee&#8217;s CHECK_DIGIT while following Table 38. Encoding Method without Vendor and Product ID&#8217;s (VID_PID_Present == 0))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a manual code generated to pass into DUT. The generated Manual Pairing Code follows all guidelines laid out in the Preconditions #2, above, with special attention to the CHECK_DIGIT using the Verhoeff algorithm. Using the example provided above, the payload would be "34970112331".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide the Manual Pairing Code, generated in the previous step, to the DUT in any format supported by the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT attempts to parse the Manual Pairing Code and DUT terminates the commissioning process in a DUT-specific manner according to the DUT manufacturer&#8217;s instructions.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_33"><a class="anchor" href="#_notestesting_considerations_33"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_17_commissioning_flow_21_digit_manual_pairing_code_negative_scenario_dut_commissioner"><a class="anchor" href="#_tc_dd_3_17_commissioning_flow_21_digit_manual_pairing_code_negative_scenario_dut_commissioner"></a>8.3.17. [TC-DD-3.17] Commissioning Flow - 21-digit Manual Pairing Code - Negative Scenario [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_34"><a class="anchor" href="#_category_34"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_35"><a class="anchor" href="#_purpose_35"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies End to End Commissioning Flows and ensures that the Commissioner can take a 21-digit Manual Pairing Code, successfully parse the Manual Pairing Code and prevent the commissioning of any devices when the Manual Pairing Code is invalid.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_34"><a class="anchor" href="#_pics_34"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.21_MANUAL_PC</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_31"><a class="anchor" href="#_preconditions_31"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 60%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is on an operational network and has accurate date, time, timezone, regulatory, and fabric information available.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">21-digit Manual Pairing Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p>
<p class="tableblock">An example onboarding payload could be "749701123365521327694" (21-digit) (following 5.1.4. Table 37. "Manual Pairing Code Elements") which each include:</p>
<p class="tableblock">- 1-bit VID_PID_PRESENT = 1 (21-digit only)</p>
<p class="tableblock">- 1-bit VERSION=0</p>
<p class="tableblock">- 4-bit SHORT DISCRIMINATOR=0xF00 (4 Most-significant bits of the 12-bits Discriminator value)</p>
<p class="tableblock">- 27-bit PASSCODE=20202021 (see section 5.1.6. Generation of the Passcode)</p>
<p class="tableblock">- 16-bit VENDOR_ID=0xFFF1 (as defined in section 2.5.2. "Vendor Identifier", for 21-digit Manual Pairing Code only)</p>
<p class="tableblock">- 16-bit PRODUCT_ID=0x8001 (as defined in section 2.5.3. "Product Identifier", present if and only if VID is present)</p>
<p class="tableblock">- A generated CHECK_DIGIT (see section 5.1.4. Manual Pairing Code, subsection "Check Digit")</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_34"><a class="anchor" href="#_required_devices_34"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissioner device acting as the Matter commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device acting as a commissionee to join a Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_10"><a class="anchor" href="#_device_topology_10"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT &#8592;&#8594; Commissionee</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_34"><a class="anchor" href="#_test_procedure_34"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide the 21-digit Manual Pairing Code from the Commissionee to the DUT in any format supported by DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Manual Pairing Code can be provided to DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VERSION: Using the manual code from Step 1, generate a new manual code but substituting out the current VERSION with an invalid VERSION: 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a manual code generated to pass into DUT. The generated Manual Pairing Code follows all guidelines laid out in the Preconditions #2, above, with special attention to the CHECK_DIGIT using the Verhoeff algorithm. Using the example provided above, the payload would be "849701123365521327693".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide the Manual Pairing Code, generated in the previous step, to the DUT in any format supported by the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT attempts to parse the Manual Pairing Code and DUT terminates the commissioning process in a DUT-specific manner according to the DUT manufacturer&#8217;s instructions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VID_PID_PRESENT: Using the manual code from Step 1, generate a new manual code but substituting out the current VID_PID_PRESENT with an invalid VID_PID_PRESENT set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a manual code generated to pass into DUT. The generated Manual Pairing Code follows all guidelines laid out in the Preconditions #2, above, with special attention to the CHECK_DIGIT using the Verhoeff algorithm. Using the example provided above, the payload would be "349701123365521327696".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide the Manual Pairing Code, generated in the previous step, to the DUT in any format supported by the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT attempts to parse the Manual Pairing Code and DUT terminates the commissioning process in a DUT-specific manner according to the DUT manufacturer&#8217;s instructions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SHORT DISCRIMINATOR: Using the manual code from Step 1, generate a new manual code but substituting out the current SHORT DISCRIMINATOR string with a discriminator value that makes the generated manual code differ from Step 1&#8217;s manual code (i.e. Choose a discriminator value that changes any of the 4 most-significant bits of Step 1&#8217;s 12-bit discriminator value and adheres to rules of section 5.1.1.5. "Discriminator value")</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a manual code generated to pass into DUT. The generated Manual Pairing Code follows all guidelines laid out in the Preconditions #2, above, with special attention to the CHECK_DIGIT using the Verhoeff algorithm. Using the example provided above, for a SHORT DISCRIMINATOR=0xE00, the payload would be "733317123365521327692".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide the Manual Pairing Code, generated in the previous step, to the DUT in any format supported by the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT attempts to parse the Manual Pairing Code and DUT terminates the commissioning process in a DUT-specific manner according to the DUT manufacturer&#8217;s instructions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.7.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Passcode: Using the manual code from Step 1, generate a new manual code using all the same Onboarding Payload components except for the Passcode. For each Passcode in the following list, set the Passcode component to one of the invalid Passcode and generate a new manual code using all the same Onboarding Payload components and one Passcode from the list: 00000000, 11111111, 22222222, 33333333, 44444444, 55555555, 66666666, 77777777, 88888888, 99999999, 12345678, 87654321</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has 12 manual codes (one for each passcode in the list of invalid passcodes) generated to pass into DUT. The generated Manual Pairing Code follows all guidelines laid out in the Preconditions #2, above, with special attention to the CHECK_DIGIT using the Verhoeff algorithm.</p>
<p class="tableblock">Using the example provided above, the payloads would be:
"749152000065521327698" (00000000),
"751911067865521327698" (11111111),
"754670135665521327694" (22222222),
"757429203465521327699" (33333333),
"760188271265521327697" (44444444),
"762947339065521327695" (55555555),
"749322406965521327695" (66666666),
"752081474765521327697" (77777777),
"754840542565521327693" (88888888),
"757599610365521327695" (99999999),
"757678075365521327695" (12345678),
"765457534965521327696" (87654321)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide each of the Manual Pairing Codes, generated in the previous step, to the DUT in any format supported by the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT attempts to parse the Manual Pairing Code and DUT terminates the commissioning process in a DUT-specific manner according to the DUT manufacturer&#8217;s instructions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">VENDOR_ID: Using the manual code from Step 1, generate a new manual code using all the same Onboarding Payload components except for the VENDOR_ID. For each VENDOR_ID in the following list, set the VENDOR_ID component to one of the invalid Test VENDOR_IDs and generate a new manual code using all the same Onboarding Payload components and one Test VENDOR_ID from the list: 0xFFF1, 0xFFF2, 0xFFF3, 0xFFF4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has 4 manual codes (one for each VENDOR_ID in the list of invalid VENDOR_IDs) generated to pass into DUT. The generated Manual Pairing Codes follows all guidelines laid out in the Preconditions #2, above, with special attention to the CHECK_DIGIT using the Verhoeff algorithm.</p>
<p class="tableblock">Using the example provided above, the payloads would be :</p>
<p class="tableblock">"749701123365521327694" (0xFFF1),
"749701123365522327692" (0xFFF2),
"749701123365523327697" (0xFFF3),
"749701123365524327693" (0xFFF4),</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide each of the Manual Pairing Codes, generated in the previous step, to the DUT in any format supported by the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the TH&#8217;s Vendor ID is an invalid Test Vendor ID, DUT attempts to parse the Manual Pairing Code and DUT terminates the commissioning process in a DUT-specific manner according to the DUT manufacturer&#8217;s instructions, unless the user is made fully aware of the security risks of providing an uncertified device with operational and networking credentials.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PRODUCT_ID: Using the manual code from Step 1, generate a new manual code but substituting out the current PRODUCT_ID with an invalid PRODUCT_ID of 0x0000(i.e. While following section 2.5.3. "Product Identifier")</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a manual code generated to pass into DUT. The generated Manual Pairing Code follows all guidelines laid out in the Preconditions #2, above, with special attention to the CHECK_DIGIT using the Verhoeff algorithm. Using the example provided above, the payload would be "749701123365521000006".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide the Manual Pairing Code, generated in the previous step, to the DUT in any format supported by the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT attempts to parse the Manual Pairing Code and DUT terminates the commissioning process in a DUT-specific manner according to the DUT manufacturer&#8217;s instructions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.4.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check Digit: Using the manual code from Step 1, generate a new manual code but substituting out the current CHECK_DIGIT with an invalid CHECK_DIGIT (i.e. Any different CHECK_DIGIT than the commissionee&#8217;s CHECK_DIGIT while following Table 39. Encoding Method with Vendor and Product ID&#8217;s included (VID_PID_Present == 1))</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User has a manual code generated to pass into DUT. The generated Manual Pairing Code follows all guidelines laid out in the Preconditions #2, above, with special attention to the CHECK_DIGIT using the Verhoeff algorithm. Using the example provided above, the payload would be "749701123365521327693".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.7.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide the Manual Pairing Code, generated in the previous step, to the DUT in any format supported by the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT attempts to parse the Manual Pairing Code and DUT terminates the commissioning process in a DUT-specific manner according to the DUT manufacturer&#8217;s instructions.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_34"><a class="anchor" href="#_notestesting_considerations_34"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_18_commissioning_flow_commissioning_multiple_devices_dut_commissioner"><a class="anchor" href="#_tc_dd_3_18_commissioning_flow_commissioning_multiple_devices_dut_commissioner"></a>8.3.18. [TC-DD-3.18] Commissioning Flow - Commissioning Multiple Devices [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_35"><a class="anchor" href="#_category_35"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_36"><a class="anchor" href="#_purpose_36"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies End to End Commissioning Flows and ensures that the Commissioner can successfully commission multiple devices onto a Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_35"><a class="anchor" href="#_pics_35"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.QR_COMMISSIONING</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_32"><a class="anchor" href="#_preconditions_32"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is on an operational network and has accurate date, time, timezone, regulatory, and fabric information available.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_35"><a class="anchor" href="#_required_devices_35"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissioner device acting as the Matter commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness 1 as a Commissionee device with its Onboarding payload QR code printed on the device or in additional provided materials (ex: manual)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness 2 as a Commissionee device with its Onboarding payload QR code printed on the device or in additional provided materials (ex: manual)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_11"><a class="anchor" href="#_device_topology_11"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT &#8592;&#8594; Commissionee</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_35"><a class="anchor" href="#_test_procedure_35"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Place TH1 into commissioning mode using the TH manufacturer&#8217;s means to be discovered by a commissioner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH1 is advertising and able to be discovered by a commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Place TH2 into commissioning mode using the TH manufacturer&#8217;s means to be discovered by a commissioner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH2 is advertising and able to be discovered by a commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan TH1&#8217;s QR code using the DUT Commissioner.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses TH1&#8217;s QR code. Follow any steps needed for the Commissioner/Commissionee to complete the commissioning process over the TH Commissionee&#8217;s method of device discovery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses TH1&#8217;s QR code and DUT commissions TH1 onto the Matter network.</p>
<p class="tableblock">- Verify that only TH1 has been commissioned onto the Matter network and that TH2 has not been commissioned.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan TH2&#8217;s QR code using the DUT Commissioner.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses TH2&#8217;s QR code.  Follow any steps needed for the Commissioner/Commissionee to complete the commissioning process over the TH Commissionee&#8217;s method of device discovery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses TH2&#8217;s QR code and DUT commissions TH2 onto the Matter network.</p>
<p class="tableblock">- Verify that only TH2 has been commissioned onto the Matter network in this step.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the Commissioner can still interact with TH1 (ex: Read any cluster&#8217;s attribute from TH1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH1 remains commissioned onto the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the Commissioner can still interact with TH2 (ex: Read any cluster&#8217;s attribute from TH2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH2 remains commissioned onto the Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_35"><a class="anchor" href="#_notestesting_considerations_35"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_19_commissioning_flow_commission_unpair_and_re_commission_device_dut_commissionee"><a class="anchor" href="#_tc_dd_3_19_commissioning_flow_commission_unpair_and_re_commission_device_dut_commissionee"></a>8.3.19. [TC-DD-3.19] Commissioning Flow - Commission, Unpair and Re-commission Device [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_36"><a class="anchor" href="#_category_36"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_37"><a class="anchor" href="#_purpose_37"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies End to End Commissioning Flows and ensures that the Commissionee can successfully be commissioned onto a Matter network, unpaired from that Matter network and re-commissioned back onto a Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_36"><a class="anchor" href="#_pics_36"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.DD.QR</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_33"><a class="anchor" href="#_preconditions_33"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner is on an operational network and has accurate date, time, timezone, regulatory, and fabric information available.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_36"><a class="anchor" href="#_required_devices_36"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissionee device with its Onboarding payload QR code printed on the device or in additional provided materials (ex: manual)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissioner device acting as the Matter commissioner.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_12"><a class="anchor" href="#_device_topology_12"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT &#8592;&#8594; Commissioner</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_36"><a class="anchor" href="#_test_procedure_36"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Place DUT into commissioning mode using the DUT&#8217;s manufacturer&#8217;s means to be discovered by the TH Commissioner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT is advertising and able to be discovered by a commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan DUT&#8217;s QR code using the TH Commissioner. Follow any steps needed for the Commissioner/Commissionee to complete the commissioning process over the DUT Commissionee&#8217;s method of device discovery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH parses DUT&#8217;s QR code and TH commissions DUT to the Matter network.</p>
<p class="tableblock">- Verify that the DUT has been commissioned onto the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using TH Commissioner, unpair the DUT Commissionee from the Matter network.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the DUT is no longer on the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Place DUT Commissionee back into commissioning mode using the DUT manufacturer&#8217;s means to be discovered by the TH Commissioner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT is advertising and able to be discovered by a commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan DUT&#8217;s QR code using the TH Commissioner. Follow any steps needed for the Commissioner/Commissionee to complete the commissioning process over the DUT Commissionee&#8217;s method of device discovery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH parses DUT&#8217;s QR code and TH commissions DUT to the Matter network.</p>
<p class="tableblock">- Verify that the DUT has been commissioned onto the Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_36"><a class="anchor" href="#_notestesting_considerations_36"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_20_commissioning_flow_commission_unpair_and_re_commission_device_dut_commissioner"><a class="anchor" href="#_tc_dd_3_20_commissioning_flow_commission_unpair_and_re_commission_device_dut_commissioner"></a>8.3.20. [TC-DD-3.20] Commissioning Flow - Commission, Unpair and Re-commission Device [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_37"><a class="anchor" href="#_category_37"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_38"><a class="anchor" href="#_purpose_38"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies End to End Commissioning Flows and ensures that the Commissioner can successfully commission a device onto a Matter network, unpair the device from the Matter network and re-commission the device onto a Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_37"><a class="anchor" href="#_pics_37"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.QR_COMMISSIONING</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_34"><a class="anchor" href="#_preconditions_34"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is on an operational network and has accurate date, time, timezone, regulatory, and fabric information available.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_37"><a class="anchor" href="#_required_devices_37"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissioner device acting as the Matter commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee device with its Onboarding payload QR code printed on the device or in additional provided materials (ex: manual)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_13"><a class="anchor" href="#_device_topology_13"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT &#8592;&#8594; Commissionee</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_37"><a class="anchor" href="#_test_procedure_37"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Place TH into commissioning mode using the TH manufacturer&#8217;s means to be discovered by the DUT Commissioner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH is advertising and able to be discovered by a commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan TH&#8217;s QR code using the DUT Commissioner.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses TH&#8217;s QR code. Follow any steps needed for the Commissioner/Commissionee to complete the commissioning process over the TH Commissionee&#8217;s method of device discovery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses TH&#8217;s QR code and DUT commissions TH to the Matter network.</p>
<p class="tableblock">- Verify that the TH has been commissioned onto the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using DUT Commissioner, unpair the TH Commissionee from the Matter network.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the TH is no longer on the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Place TH Commissionee back into commissioning mode using the TH manufacturer&#8217;s means to be discovered by the DUT Commissioner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH is advertising and able to be discovered by a commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan TH&#8217;s QR code using the DUT Commissioner.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses TH&#8217;s QR code. Follow any steps needed for the Commissioner/Commissionee to complete the commissioning process over the TH Commissionee&#8217;s method of device discovery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses TH&#8217;s QR code and DUT commissions TH to the Matter network.</p>
<p class="tableblock">- Verify that the TH has been commissioned onto the Matter network.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_37"><a class="anchor" href="#_notestesting_considerations_37"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_dd_3_21_commissioning_flow_commission_multiple_endpoint_device_dut_commissioner"><a class="anchor" href="#_tc_dd_3_21_commissioning_flow_commission_multiple_endpoint_device_dut_commissioner"></a>8.3.21. [TC-DD-3.21] Commissioning Flow - Commission Multiple-Endpoint Device [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_38"><a class="anchor" href="#_category_38"></a>Category</h5>
<div class="paragraph">
<p>End to End Conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_39"><a class="anchor" href="#_purpose_39"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies End to End Commissioning Flows and ensures that the Commissioner can successfully commission a device with multiple endpoints onto a Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_38"><a class="anchor" href="#_pics_38"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.QR_COMMISSIONING</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_35"><a class="anchor" href="#_preconditions_35"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is on an operational network and has accurate date, time, timezone, regulatory, and fabric information available.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QR Code is printed on the Commissionee device or in additional provided materials (ex: manual, companion app, web service).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_38"><a class="anchor" href="#_required_devices_38"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 15%;">
<col style="width: 15%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as a Commissioner device acting as the Matter commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as a Commissionee with its Onboarding payload QR code printed on the device or in additional provided materials (ex: manual). Commissionee implements the On/Off light device type on at least 2 (non-zero) endpoints. For example, TH implements the On/Off light device type on endpoints 2 and 4.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_14"><a class="anchor" href="#_device_topology_14"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT &#8592;&#8594; Commissionee</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_38"><a class="anchor" href="#_test_procedure_38"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Place TH into commissioning mode using the TH manufacturer&#8217;s means to be discovered by the DUT Commissioner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH is advertising and able to be discovered by the DUT commissioner.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.SCAN_QR_CODE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan TH&#8217;s QR code using the DUT Commissioner.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the QR code has been scanned successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses TH&#8217;s QR code. Follow any steps needed for the Commissioner/Commissionee to complete the commissioning process over the TH Commissionee&#8217;s method of device discovery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT parses TH&#8217;s QR code and DUT commissions TH to the Matter network.</p>
<p class="tableblock">- Verify that the TH has been commissioned onto the Matter network.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each TH Endpoint that implements the On/Off light device, verify that the DUT acknowledges the existence of the Endpoint through DUT issuing an On command to the respective Endpoint (e.g. through some user action to trigger such command).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH verifies that the DUT has successfully sent the On command to each of the endpoints which expose an On/Off light device type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_38"><a class="anchor" href="#_notestesting_considerations_38"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
</div>
</div>
</div>
<h1 id="_basic_information_test_plan" class="sect0"><a class="anchor" href="#_basic_information_test_plan"></a><strong>Basic Information Test Plan</strong></h1>
<div class="sect1">
<h2 id="_pics_definition_3"><a class="anchor" href="#_pics_definition_3"></a>9. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Device Management related PICS items that are referenced in the following test cases.
Support for an item is considered as "true" for conditional statements within the test case steps.</p>
</div>
<div class="sect2">
<h3 id="_role_2"><a class="anchor" href="#_role_2"></a>9.1. Role</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the Basic Information Cluster  as a server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_server"><a class="anchor" href="#_server"></a>9.2. Server</h3>
<div class="sect3">
<h4 id="_attributes"><a class="anchor" href="#_attributes"></a>9.2.1. Attributes</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0000(DataModelRevision)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the DataModelRevision attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0001(VendorName)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the VendorName attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0002(VendorID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the VendorID attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0003(ProductName)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the ProductName attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0004(ProductID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the ProductID attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the NodeLabel attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0006(Location)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the Location attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0007(HardwareVersion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the HardwareVersion attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0008(HardwareVersionString)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the HardwareVersionString attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0009(SoftwareVersion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the SoftwareVersion attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000a(SoftwareVersionString)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the SoftwareVersionString attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000b(ManufacturingDate)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the ManufacturingDate attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000c(PartNumber)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the PartNumber attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000d(ProductURL)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the ProductURL attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000e(ProductLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the ProductLabel attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000f(SerialNumber)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the SerialNumber attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0010(LocalConfigDisabled)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the LocalConfigDisabled attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0011(Reachable)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the Reachable attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0012(UniqueID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the UniqueID attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0013(CapabilityMinima)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the CapabilityMinima attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0014(ProductAppearance)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the ProductAppearance attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0015(SpecificationVersion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the SpecificationVersion attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0016(MaxPathsPerInvoke)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the MaxPathsPerInvoke attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_events"><a class="anchor" href="#_events"></a>9.2.2. Events</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.E00(StartUp)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the StartUp event?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.E01(ShutDown)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the ShutDown event?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.E02(Leave)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the Leave event?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.E03(ReachableChanged)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the ReachableChanged event?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0011(Reachable)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pixit_definition"><a class="anchor" href="#_pixit_definition"></a>10. PIXIT Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Basic Information Cluster&#8217;s Test Plan related PIXIT items that might be required in the following test cases.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.BINFO.PrimaryColor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProductAppearance.PrimaryColor should reflect the product&#8217;s color</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0014(ProductAppearance)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.BINFO.Finish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProductAppearance.Finish should reflect the product&#8217;s finish</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0014(ProductAppearance)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_case_list_2"><a class="anchor" href="#_test_case_list_2"></a>11. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>TC UUID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case Name</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BINFO-1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Global Attributes with DUT as Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BINFO-2.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attributes [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BINFO-2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Events [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BINFO-3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Appearance Attribute DUT as Server</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases_2"><a class="anchor" href="#_test_cases_2"></a>12. Test Cases</h2>
<div class="sectionbody">
<hr>
<div class="sect2">
<h3 id="_generic_test_cases"><a class="anchor" href="#_generic_test_cases"></a>12.1. Generic Test Cases</h3>
<hr>
<div class="sect3">
<h4 id="_tc_binfo_1_1_global_attributes_with_dut_as_server"><a class="anchor" href="#_tc_binfo_1_1_global_attributes_with_dut_as_server"></a>12.1.1. [TC-BINFO-1.1] Global Attributes with DUT as Server</h4>
<div class="sect4">
<h5 id="_category_39"><a class="anchor" href="#_category_39"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_40"><a class="anchor" href="#_purpose_40"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the behavior of the global attributes of the cluster server.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_39"><a class="anchor" href="#_pics_39"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>BINFO.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_39"><a class="anchor" href="#_required_devices_39"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_39"><a class="anchor" href="#_test_procedure_39"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission DUT to TH (can be skipped if done in a preceding test).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>ClusterRevision</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>ClusterRevision</em> attribute and has the value 3.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>FeatureMap</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>FeatureMap</em> attribute and has the value 0.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>AttributeList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>AttributeList</em> attribute and have the list of supported attributes:</p>
<p class="tableblock">The list SHALL include all the mandatory entries:<br>
0x0000, 0x0001, 0x0002, 0x0003, 0x0004, 0x0005, 0x0006, 0x0007, 0x0008, 0x0009, 0x000a, 0x0013,
0xfff8, 0xfff9, 0xfffb, 0xfffc and 0xfffd.</p>
<p class="tableblock">The list MAY include these optional entries:<br>
- 0x000b: SHALL be included if and only if BINFO.S.A000b(ManufacturingDate)</p>
<p class="tableblock">- 0x000c: SHALL be included if and only if BINFO.S.A000c(PartNumber)</p>
<p class="tableblock">- 0x000d: SHALL be included if and only if BINFO.S.A000d(ProductURL)</p>
<p class="tableblock">- 0x000e: SHALL be included if and only if BINFO.S.A000e(ProductLabel)</p>
<p class="tableblock">- 0x000f: SHALL be included if and only if BINFO.S.A000f(SerialNumber)</p>
<p class="tableblock">- 0x0010: SHALL be included if and only if BINFO.S.A0010(LocalConfigDisabled)</p>
<p class="tableblock">- 0x0011: SHALL be included if and only if BINFO.S.A0011(Reachable)</p>
<p class="tableblock">- 0x0012: SHALL be included if and only if BINFO.S.A0012(UniqueID)</p>
<p class="tableblock">- 0x0014: SHALL be included if and only if BINFO.S.A0014(ProductAppearance)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5<sup>*</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>EventList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>EventList</em> attribute and have the list of supported events:</p>
<p class="tableblock">The list SHALL include all the mandatory entries:<br>
0x00.</p>
<p class="tableblock">The list MAY include these optional entries:<br>
- 0x01: SHALL be included if and only if BINFO.S.E01(ShutDown)</p>
<p class="tableblock">- 0x02: SHALL be included if and only if BINFO.S.E02(Leave)</p>
<p class="tableblock">The list includes entries based on attribute support:<br>
- 0x03: SHALL be included if and only if BINFO.S.A0011(Reachable)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>AcceptedCommandList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>AcceptedCommandList</em> attribute and have the list of Accepted Command:</p>
<p class="tableblock">This cluster has no entries in the standard or scoped range.<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>GeneratedCommandList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>GeneratedCommandList</em> attribute and have the list of Generated Command:</p>
<p class="tableblock">This cluster has no entries in the standard or scoped range.<br></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_39"><a class="anchor" href="#_notestesting_considerations_39"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p><sup>*</sup> Step 5 is currently not supported and SHALL be skipped.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dut_as_server"><a class="anchor" href="#_dut_as_server"></a>12.2. DUT as Server</h3>
<hr>
<div class="sect3">
<h4 id="_tc_binfo_2_1_attributes_dut_server"><a class="anchor" href="#_tc_binfo_2_1_attributes_dut_server"></a>12.2.1. [TC-BINFO-2.1] Attributes [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_40"><a class="anchor" href="#_category_40"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_41"><a class="anchor" href="#_purpose_41"></a>Purpose</h5>
<div class="paragraph">
<p>Verify if all the server attributes have been implemented correctly on the DUT.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_40"><a class="anchor" href="#_pics_40"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>BINFO.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_precondition"><a class="anchor" href="#_precondition"></a>Precondition</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.5238%;">
<col style="width: 14.2857%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission DUT to TH</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_40"><a class="anchor" href="#_required_devices_40"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.6923%;">
<col style="width: 30.7692%;">
<col style="width: 61.5385%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness that will query/modify for Basic Information cluster attributes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT which will be queried.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_15"><a class="anchor" href="#_device_topology_15"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_6"><a class="anchor" href="#_test_setup_6"></a>Test Setup</h5>
<div class="paragraph">
<p>This will describe how to set up for testing.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_40"><a class="anchor" href="#_test_procedure_40"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">During Commissioning, TH Saves the CountryCode Information from SetRegulatoryConfig command</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-0, 7.18.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0000(DataModelRevision)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">After Commissioning, TH reads DataModelRevision from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the value is 17 (for Matter 1.2)</p>
</li>
<li>
<p>Note: For Matter 1.0 or Matter 1.1 the DataModelRevision should be 1 or 16</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0000(DataModelRevision)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes DataModelRevision as "0x1124"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0000(DataModelRevision)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads DataModelRevision from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DataModelRevision remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0001(VendorName)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads VendorName from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it is of type string.</p>
<p class="tableblock">Verify it is less than or equal to 32 bytes and meaningful name matching the manufacturer of the product.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0001(VendorName)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes VendorName as "sample"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0001(VendorName)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads VendorName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the VendorName remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-2, 2.5.2, 6.1.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0002(VendorID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads VendorID from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that value is not 0x0000</p>
<p class="tableblock">Verify that the value is in the range of 0x0001 to 0xFFF0, and matches the value assigned to this manufacturer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0002(VendorID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes VendorID as "0x0011"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0002(VendorID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads VendorID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the VendorID remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0003(ProductName)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ProductName from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it is a human readable string.</p>
<p class="tableblock">Verify that the length is less than or equal to 32 bytes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0003(ProductName)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes ProductName as "newproduct"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0003(ProductName)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ProductName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the ProductName remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-4, 7.18.1.3, 6.1.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0004(ProductID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ProductID from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the value is in the inclusive range of 1 to 65534</p>
<p class="tableblock">Verify that value is not 0 (0x0000).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0004(ProductID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes ProductID as "0x4521"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0004(ProductID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ProductID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the ProductID remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads NodeLabel from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it is of type string.</p>
<p class="tableblock">Verify that the current value has a length between 0 and 32 bytes inclusive.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes "newnode" to NodeLabel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends success response</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads NodeLabel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the NodeLabel is changed as "newnode"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0006(Location)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Location from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it is of type string.</p>
<p class="tableblock">Verify length is less than or equal to 2 bytes.</p>
<p class="tableblock">Verify that the Location is same as CountryCode value saved from step1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0006(Location)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH selects a country code value that is different from the CountryCode saved from step1 and known to be supported on the DUT. TH writes this value to Location</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends success response</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20c</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0006(Location)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Location</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Location is changed to the value from step 20b</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-7, 7.18.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0007(HardwareVersion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads HardwareVersion from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the value is in range of 0 to 65534</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0007(HardwareVersion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes HardwareVersion as "0x4531"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0007(HardwareVersion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads HardwareVersion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the HardwareVersion remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0008(HardwareVersionString)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads HardwareVersionString from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it is of type string.</p>
<p class="tableblock">Verify it has a length in the inclusive range of 1 to 64 bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0008(HardwareVersionString)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes HardwareVersionString as "newhardwareversion"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0008(HardwareVersionString)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads HardwareVersionString</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the HardwareVersionString remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-9, 7.18.1.3, 11.1.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0009(SoftwareVersion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads SoftwareVersion from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the value is the range of 0 to 4294967294</p>
<p class="tableblock">Verify that the SoftwareVersion is not displayed to the end-user through any device specific means (ex: screen, audio)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">28</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0009(SoftwareVersion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH  writes SoftwareVersion as "0x8213"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">29</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0009(SoftwareVersion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads SoftwareVersion</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the SoftwareVersion remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000a(SoftwareVersionString)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads SoftwareVersionString from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it is of type string.</p>
<p class="tableblock">Verify that it has a length of 1 to 64 bytes of UTF-8 characters.</p>
<p class="tableblock">Verify that it uses 7-bit ASCII alphanumeric and punctuation characters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">31</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000a(SoftwareVersionString)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes SoftwareVersionString as "1.0"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000a(SoftwareVersionString)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads SoftwareVersionString</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the SoftwareVersionString remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000b(ManufacturingDate)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ManufacturingDate from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it is of type string.</p>
<p class="tableblock">Verify it has length in the inclusive range of 8 to 16 bytes.</p>
<p class="tableblock">Verify if the first 8 characters specify date according to ISO 8601, i.e, YYYYMMDD.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">34</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000b(ManufacturingDate)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes ManufacturingDate as "20210814789452IN"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">35</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000b(ManufacturingDate)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ManufacturingDate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the ManufacturingDate remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000c(PartNumber)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads PartNumber from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it is a human readable string.</p>
<p class="tableblock">Verify that the string has a maximum length of 32 bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">37</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000c(PartNumber)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes PartNumber as "newpart"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">38</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000c(PartNumber)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads PartNumber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the PartNumber remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">39</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000d(ProductURL)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ProductURL from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it is of type string.</p>
<p class="tableblock">Verify it is less than or equal to 256 ASCII characters.</p>
<p class="tableblock">Verify that it specifies a link to a specific web page.</p>
<p class="tableblock">Verify that it follows the syntax rules specified in RFC 3986.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">40</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000d(ProductURL)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes ProductURL as "https://www.example.com"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">41</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000d(ProductURL)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ProductURL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the ProductURL remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000e(ProductLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ProductLabel from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it is of type string.</p>
<p class="tableblock">Verify it is less than or equal to 64 bytes.</p>
<p class="tableblock">Verify that it does not include the name of the vendor as defined within the VendorName attribute</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">43</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000e(ProductLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes ProductLabel as "newproductlabel"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify  DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">44</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000e(ProductLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ProductLabel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the ProductLabel remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">45</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000f(SerialNumber)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads SerialNumber from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it is of type string.</p>
<p class="tableblock">Verify it is less than or equal to 32 bytes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">46</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000f(SerialNumber)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes SerialNumber_test as "newserialnumber"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">47</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A000f(SerialNumber)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads SerialNumber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the SerialNumber remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-16, 7.18.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0010(LocalConfigDisabled)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads LocalConfigDisabled from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the value is false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">49</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0010(LocalConfigDisabled)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sets LocalConfigDisabled to True</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends success response</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">50</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0010(LocalConfigDisabled)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH Reads LocalConfigDisabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that LocalConfigDisabled is set to True</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-17,7.18.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0011(Reachable)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Reachable from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it is of type bool</p>
<p class="tableblock">Verify that the value is true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">52</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0011(Reachable)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Write request message to DUT to change value of Reachable to "false".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">52b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0011(Reachable)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Reachable from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Reachable flag remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0012(UniqueID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads UniqueID from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it is of type string</p>
<p class="tableblock">Verify that the value is not be identical to SerialNumber attribute</p>
<p class="tableblock">Verify that the value is not be printed on the product or on any included materials.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">54</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0012(UniqueID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes UniqueID as "newid"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">55</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0012(UniqueID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads UniqueID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the UniqueID remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">56</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.1-19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0013(CapabilityMinima)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads CapabilityMinima attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the CaseSessionsPerFabric is in the inclusive range of 3 to 65535</p>
</li>
<li>
<p>Verify that the SubscriptionsPerFabric is in the inclusive range of 3 to 65535</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">57</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0013(CapabilityMinima)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes the CapabilityMinima value with CaseSessionsPerFabric set to 4 and SubscriptionsPerFabric set to 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">58</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0013(CapabilityMinima)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads CapabilityMinima attribute from DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the CapabilityMinima remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">59</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0014(ProductAppearance)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads  ProductAppearance from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it is of type ProductAppearanceStruct.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">60</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0014(ProductAppearance)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes ProductAppearance to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">61</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0014(ProductAppearance)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads  ProductAppearance from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the ProductAppearance remains unchanged</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">62</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0015(SpecificationVersion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads  SpecificationVersion from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>If the SpecificationVersion value is absent or zero this step cannot be verified, move on to the next step.</p>
</li>
<li>
<p>else the value should in the inclusive range of (0 to 4294967295) and the initial 7 bits are set to zero.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">63</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0015(SpecificationVersion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Write request message to DUT to change the value of SpecificationVersion to '0x0103AAF1'.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify DUT responds with UNSUPPORTED_WRITE.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0015(SpecificationVersion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads SpecificationVersion attribute from DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that SpecificationVersion remains unchanged.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">65</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0016(MaxPathsPerInvoke)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads MaxPathsPerInvoke from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the MaxPathsPerInvoke value is in the inclusive range of 1 to 65535.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">66</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0016(MaxPathsPerInvoke)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Write request message to DUT to change MaxPathsPerInvoke to a different value.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify DUT responds with UNSUPPORTED_WRITE.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">67</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0016(MaxPathsPerInvoke)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads MaxPathsPerInvoke attribute from DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that MaxPathsPerInvoke remains unchanged.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_binfo_2_2_events_dut_server"><a class="anchor" href="#_tc_binfo_2_2_events_dut_server"></a>12.2.2. [TC-BINFO-2.2] Events [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_41"><a class="anchor" href="#_category_41"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_42"><a class="anchor" href="#_purpose_42"></a>Purpose</h5>
<div class="paragraph">
<p>Verify if all the events have been implemented correctly on the DUT.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_41"><a class="anchor" href="#_pics_41"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>BINFO.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_precondition_2"><a class="anchor" href="#_precondition_2"></a>Precondition</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 15%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT and TH can interact with each other. DUT is commissioned.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0009(SoftwareVersion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads SoftwareVersion attribute from DUT and saves for future use</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0011(Reachable)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Reachable attribute from DUT and saves for future use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Should be True</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.E00(StartUp) | BINFO.S.E01(ShutDown) | BINFO.S.E02(Leave)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH subscribes to StartUp, ShutDown, Leave and ReachableChanged events on the Basic Information cluster of the DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH saves the FabricIndex during commissioning</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_41"><a class="anchor" href="#_required_devices_41"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 28.5714%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness which will be used to send and receive events and messages to the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT which will send events to the TH</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_16"><a class="anchor" href="#_device_topology_16"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT and TH are on the same fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_41"><a class="anchor" href="#_test_procedure_41"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.2-0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.E00(StartUp)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Reboot the DUT</p>
</li>
<li>
<p>TH reads the StartUp event from DUT</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT sends the StartUp event before other events to TH</p>
</li>
<li>
<p>Verify that the SoftwareVersion field in the event data is equivalent to the precondition</p>
</li>
<li>
<p>Verify that StartUp event has priority set as CRITICAL</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.1.6.2-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.E01(ShutDown)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH subscribes to the ShutDown event on the DUT. Shutdown DUT.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that ShutDown event is received from DUT and has priority set as CRITICAL</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_binfo_3_1_appearance_attribute_dut_as_server"><a class="anchor" href="#_tc_binfo_3_1_appearance_attribute_dut_as_server"></a>12.2.3. [TC-BINFO-3.1] Appearance Attribute DUT as Server</h4>
<div class="sect4">
<h5 id="_category_42"><a class="anchor" href="#_category_42"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_43"><a class="anchor" href="#_purpose_43"></a>Purpose</h5>
<div class="paragraph">
<p>Verify if the appearance is correctly set within the allowed ranges.
Finish and PrimaryColor should reasonably reflect the appearance of the product.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_42"><a class="anchor" href="#_pics_42"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>BINFO.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_precondition_3"><a class="anchor" href="#_precondition_3"></a>Precondition</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.5238%;">
<col style="width: 14.2857%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_42"><a class="anchor" href="#_required_devices_42"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_17"><a class="anchor" href="#_device_topology_17"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_42"><a class="anchor" href="#_test_procedure_42"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0014(ProductAppearance)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ProductAppearance from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProductAppearance.Finish       Value has to be between a range of [min=Other(0), max=Fabric(5)]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0014(ProductAppearance)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ProductAppearance from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProductAppearance.PrimaryColor Value has to be between a range of [min=Black(0),         max=Gold(20)        ]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0014(ProductAppearance)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ProductAppearance from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProductAppearance.Finish       Value has to be equal to PIXIT.BINFO.Finish</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0014(ProductAppearance)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ProductAppearance from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProductAppearance.PrimaryColor Value has to be equal to PIXIT.BINFO.PrimaryColor</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<h1 id="_node_operational_credentials_test_plan" class="sect0"><a class="anchor" href="#_node_operational_credentials_test_plan"></a><strong>Node Operational Credentials Test Plan</strong></h1>
<div class="sect1">
<h2 id="_pics_definition_4"><a class="anchor" href="#_pics_definition_4"></a>13. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Node Operational Credentials Cluster  related PICS items that are referenced in the following test cases.</p>
</div>
<div class="sect2">
<h3 id="_role_3"><a class="anchor" href="#_role_3"></a>13.1. Role</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the Node Operational Credentials Cluster  as a server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the Node Operational Credentials Cluster  as a client?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_server_2"><a class="anchor" href="#_server_2"></a>13.2. Server</h3>
<div class="sect3">
<h4 id="_attributes_2"><a class="anchor" href="#_attributes_2"></a>13.2.1. Attributes</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0000(NOCs)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the NOCs list attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the Fabrics list attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0002(SupportedFabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the SupportedFabrics attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0003(CommissionedFabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the CommissionedFabrics attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0004(TrustedRootCertificates)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the TrustedRootCertificates attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0005(CurrentFabricIndex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support the CurrentFabricIndex attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.EXTENDED_DISCOVERY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(server) support Extended Discovery through DNS-SD advertisements when device is not in commissioning mode?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_commands_received"><a class="anchor" href="#_commands_received"></a>13.2.2. Commands received</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C00.Rsp(AttestationRequest)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) implement receiving the AttestationRequest command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C02.Rsp(CertificateChainRequest)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) implement receiving the CertificateChainRequest command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C04.Rsp(CSRRequest)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) implement receiving the CSRRequest command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C06.Rsp(AddNOC)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) implement receiving the AddNOC command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C07.Rsp(UpdateNOC)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) implement receiving the UpdateNOC command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C09.Rsp(UpdateFabricLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) implement receiving the UpdateFabricLabel command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C0a.Rsp(RemoveFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) implement receiving the RemoveFabric command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C0b.Rsp(AddTrustedRootCertificate)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) implement receiving the AddTrustedRootCertificate command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_commands_generated"><a class="anchor" href="#_commands_generated"></a>13.2.3. Commands generated</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C01.Tx(AttestationResponse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) invoking/generating the AttestationResponse command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C03.Tx(CertificateChainResponse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) invoking/generating the CertificateChainResponse command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C05.Tx(CSRResponse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) invoking/generating the CSRResponse command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C08.Tx(NOCResponse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) invoking/generating the NOCResponse command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_client"><a class="anchor" href="#_client"></a>13.3. Client</h3>
<div class="sect3">
<h4 id="_attributes_3"><a class="anchor" href="#_attributes_3"></a>13.3.1. Attributes</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0000(NOCs)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) have access privileges for the NOC list attribute implemented on the server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0002(SupportedFabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) have access privileges for the SupportedFabrics attribute implemented on the server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0003(CommissionedFabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) have access privileges for the CommissionedFabrics attribute implemented on the server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0004(TrustedRootCertificates)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) have access privileges for the TrustedRootCertificates attribute implemented on the server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0005(CurrentFabricIndex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) have access privileges for the CurrentFabricIndex attribute implemented on the server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_commands_received_2"><a class="anchor" href="#_commands_received_2"></a>13.3.2. Commands received</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C01.Rsp(AttestationResponse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Client) invoking/generating the AttestationResponse command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C03.Rsp(CertificateChainResponse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Client) invoking/generating the CertificateChainResponse command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C05.Rsp(CSRResponse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Client) invoking/generating the CSRResponse command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C08.Rsp(NOCResponse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Client) invoking/generating the NOCResponse command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_commands_generated_2"><a class="anchor" href="#_commands_generated_2"></a>13.3.3. Commands generated</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C00.Tx(AttestationRequest)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) support transmitting of AttestationRequest command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C02.Tx(CertificateChainRequest)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) support transmitting of CertificateChainRequest command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C04.Tx(CSRRequest)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) support transmitting of CSRRequest command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C06.Tx(AddNOC)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) support transmitting of AddNOC command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C07.Tx(UpdateNOC)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) support transmitting of UpdateNOC command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C09.Tx(UpdateFabricLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) support transmitting of UpdateFabricLabel command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C0a.Tx(RemoveFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) support transmitting of RemoveFabric command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C0b.Tx(AddTrustedRootCertificate)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) support transmitting of AddTrustedRootCertificate command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_test_case_list_3"><a class="anchor" href="#_test_case_list_3"></a>14. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>TC UUID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case Name</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-OPCREDS-1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Global Attributes with DUT as Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-OPCREDS-3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attribute-NOCs,TrustedRootCertificates list validation [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-OPCREDS-3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attribute-CurrentFabricIndex validation [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-OPCREDS-3.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attribute-NOCs,Commands[DUT-Client]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-OPCREDS-3.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">UpdateNOC-Error Condition [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-OPCREDS-3.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOC Check for UpdateNOC [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-OPCREDS-3.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Last Fabric removal validation [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-OPCREDS-3.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add Second Fabric over CASE [DUT-Server]</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases_3"><a class="anchor" href="#_test_cases_3"></a>15. Test Cases</h2>
<div class="sectionbody">
<hr>
<div class="sect2">
<h3 id="_generic_test_cases_2"><a class="anchor" href="#_generic_test_cases_2"></a>15.1. Generic Test Cases</h3>
<hr>
<div class="sect3">
<h4 id="_tc_opcreds_1_2_global_attributes_with_dut_as_server"><a class="anchor" href="#_tc_opcreds_1_2_global_attributes_with_dut_as_server"></a>15.1.1. [TC-OPCREDS-1.2] Global Attributes with DUT as Server</h4>
<div class="sect4">
<h5 id="_category_43"><a class="anchor" href="#_category_43"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_44"><a class="anchor" href="#_purpose_44"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the behavior of the global attributes of the cluster server.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_43"><a class="anchor" href="#_pics_43"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>OPCREDS.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_43"><a class="anchor" href="#_required_devices_43"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_43"><a class="anchor" href="#_test_procedure_43"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission DUT to TH (can be skipped if done in a preceding test).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>ClusterRevision</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>ClusterRevision</em> attribute and has the value 1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>FeatureMap</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>FeatureMap</em> attribute and has the value 0.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>AttributeList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>AttributeList</em> attribute and have the list of supported attributes:</p>
<p class="tableblock">The list SHALL include all the mandatory entries:<br>
0x0000, 0x0001, 0x0002, 0x0003, 0x0004, 0x0005,
0xfff8, 0xfff9, 0xfffb, 0xfffc and 0xfffd.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5<sup>*</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>EventList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>EventList</em> attribute and have the list of supported events:</p>
<p class="tableblock">This cluster has no entries in the standard or scoped range.<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>AcceptedCommandList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>AcceptedCommandList</em> attribute and have the list of Accepted Command:</p>
<p class="tableblock">The list SHALL include all the mandatory entries:<br>
0x00, 0x02, 0x04, 0x06, 0x07, 0x09, 0x0a &amp; 0x0b.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>GeneratedCommandList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>GeneratedCommandList</em> attribute and have the list of Generated Command:</p>
<p class="tableblock">The list SHALL include all the mandatory entries:<br>
0x01, 0x03, 0x05 &amp; 0x08.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_40"><a class="anchor" href="#_notestesting_considerations_40"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p><sup>*</sup> Step 5 is currently not supported and SHALL be skipped.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dut_as_server_2"><a class="anchor" href="#_dut_as_server_2"></a>15.2. DUT as Server</h3>
<hr>
<div class="sect3">
<h4 id="_tc_opcreds_3_1_attribute_nocs_trustedrootcertificates_list_validation_dut_server"><a class="anchor" href="#_tc_opcreds_3_1_attribute_nocs_trustedrootcertificates_list_validation_dut_server"></a>15.2.1. [TC-OPCREDS-3.1] Attribute-NOCs, TrustedRootCertificates list validation [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_44"><a class="anchor" href="#_category_44"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_45"><a class="anchor" href="#_purpose_45"></a>Purpose</h5>
<div class="paragraph">
<p>The following checks are covered by this test:</p>
</div>
<div class="paragraph">
<p>AddNOC error cases</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(<a href="#noc-re-add">25</a>) Prior AddNOC command successfully executed in fail-safe timer period &#8594; CONSTRAINT_ERROR</p>
</li>
<li>
<p>(<a href="#add-noc-for-update-csr">70</a>) Prior CSRRequest has IsForUpdateNOC set to true &#8594; CONSTRAINT_ERROR</p>
</li>
<li>
<p>(<a href="#fabric-conflict">63</a>) Adding NOC for &lt;Root Public Key, FabricID&gt; already on device &#8594; FabricConflict</p>
</li>
<li>
<p>(<a href="#invalid-public-key">[invalid-public-key]</a>) Public Key in NOC does not match Public Key in NOCSR &#8594; InvalidPublicKey</p>
</li>
<li>
<p>(<a href="#noc-invalid">22</a>) Validation error (signed by TrustedRoot not in table) &#8594; InvalidNOC</p>
</li>
<li>
<p>(<a href="#missing-csr">51</a>) No prior CSR matching NOC &#8594; MissingCsr</p>
</li>
<li>
<p>(<a href="#cat-invalid">23</a>) CaseAdminSubject field is not a valid ACL subject &#8594; InvalidAdminSubject</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>AddNOC positive cases</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(<a href="#noc-ok">24</a>) Valid AddNOC with CaseAdminSubject is NodeID</p>
</li>
<li>
<p>(<a href="#add-noc-cat">[add-noc-cat]</a>) Valid AddNOC with CaseAdminSubject is CAT</p>
</li>
<li>
<p>(<a href="#fabrics-table-ok">[fabrics-table-ok]</a>) AddNOC results in generation of new fabric and is reflected in fabrics table</p>
</li>
<li>
<p>(<a href="#noc-table-ok">39</a>) AddNOC results in entry in NOC table</p>
</li>
<li>
<p>(<a href="#ipk-ok">42</a>) AddNOC results in IPK added to Groups Management cluster</p>
</li>
<li>
<p>(<a href="#acl-ok">41</a>) AddNOC results in ACL added to ACL cluster</p>
</li>
<li>
<p>(<a href="#multiple-nocs">[multiple-nocs]</a>, <a href="#multiple-fabric-table">48</a>) Multiple NOCs can be added and are reflected in the NOC and fabric tables</p>
</li>
<li>
<p>(<a href="#fill-fabric-table">[fill-fabric-table]</a>) Able to add <code>NumSupportedFabrics</code> fabrics will full-size certificates</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>AddTrustedRootCertificate error cases</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(<a href="#root-cert-re-add">18</a>) Adding a second trusted root certificate in the same fail-safe period &#8594; CONSTRAINT_ERROR</p>
</li>
<li>
<p>(<a href="#root-cert-validity-check">12</a>) Validity check fails &#8594; INVALID_COMMAND</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>AddTrustedRootCertificate positive cases</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(<a href="#root-cert-cmd-ok">[root-cert-cmd-ok]</a>, <a href="#root-cert-attribute-ok">21</a>) Valid AddTrustedRootCertificate is reflected in TrustedRootCertificates attribute</p>
</li>
<li>
<p>(<a href="#root-cert-duplicate">16</a>) Adding an exact duplicate succeeds with no change to list</p>
</li>
<li>
<p>(<a href="#multiple-trusted-root-certs">[multiple-trusted-root-certs]</a>) Multiple Trusted Root Certificates can be added and are reflected in the Trusted Root Certificate attribute</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>NOC attribute</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(<a href="#noc-attribute">26</a>) NOC attribute contains successfully added NOCs</p>
</li>
<li>
<p>(<a href="#noc-attribute-not-writeable">27</a>) NOC attribute is not writeable</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>TrustedRootCertificates attribute</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(<a href="#root-cert-attribute-ok">21</a>) TrustedRootCertificates attribute contains successfully added Trusted root certificates</p>
</li>
<li>
<p>(<a href="#trusted-root-attr-not-writeable">20</a>) TrustedRootCertificates attribute is not writeable</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Failsafe tests</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(<a href="#failsafe-expiry-root-certs">34</a>, <a href="#failsafe-expiry-nocs">35</a>, <a href="#failsafe-expiry-fabrics">36</a>) failsafe results in no changes to fabric table, noc table, trusted root table</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>UpdateFabricLabel error cases</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(<a href="#label-conflict">47</a>) duplicate label cannot be added &#8594; CONSTRAINT_ERROR</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>UpdateFabricLabel positive cases</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(<a href="#fabric-label-command">29</a>, <a href="#fabric-table">31</a>) UpdateFabricLabel successfully adds label to fabric</p>
</li>
<li>
<p>(<a href="#multiple-fabric-table">48</a>) Multiple fabrics can each have a different label</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>RemoveFabric error cases</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(<a href="#remove-invalid-fabric">73</a>) Invalid fabric index &#8594; InvalidFabricIndex</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pics_44"><a class="anchor" href="#_pics_44"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>OPCREDS.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions"><a class="anchor" href="#_pre_conditions"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 15%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.1.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI, DAC certificates are obtained and validated against externally obtained PAA certificate during TH0 commissioning</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_44"><a class="anchor" href="#_required_devices_44"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 37.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">server</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">client - already commissioned DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">client - DUT not previously commissioned by this client, separate fabric</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">client - DUT not previously commissioned by this client, separate fabric</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_18"><a class="anchor" href="#_device_topology_18"></a>Device Topology</h5>

</div>
<div class="sect4">
<h5 id="_test_setup_7"><a class="anchor" href="#_test_setup_7"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_44"><a class="anchor" href="#_test_procedure_44"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.18.8.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH0 opens a commissioning window on the DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.9.5.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH0 reads the BasicCommissioningInfo field from the General commissioning cluster saves MaxCumulativeFailsafeSeconds as <code>failsafe_max</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.4.14.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 opens a PASE connection to the DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.9.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT with the ExpiryLengthSeconds field set to <code>failsafe_max</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends ArmFailSafeResponse Command to TH1 with field ErrorCode as 'OK'(0)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="csr-elements"></a>5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 Sends CSRRequest command with a random 32-byte nonce</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT responds with the CSRResponse Command</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="TH1-gen-real-creds"></a> 6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.6.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 obtains or generates the NOC, the Root CA Certificate and ICAC using the CSR elements from step <a href="#csr-elements">5</a> and selects an IPK. The certificates shall have their subjects padded with additional data such that they are each the maximum certificate size of 400 bytes when encoded in the MatterCertificateEncoding.</p>
</li>
<li>
<p>Save RCAC as <code>Root_CA_Certificate_TH1</code></p>
</li>
<li>
<p>Save ICAC as <code>Intermediate_Certificate_TH1</code></p>
</li>
<li>
<p>Save NOC as <code>Node_Operational_Certificate_TH1</code></p>
</li>
<li>
<p>Save IPK as <code>IPK_TH1</code></p>
</li>
<li>
<p>Extract the RCAC public key and save as <code>Root_Public_Key_TH1</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.6.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 obtains or generates Root Certificate with a different Root CA ID and the corresponding ICAC, NOC and IPK using the CSR elements from step <a href="#csr-elements">5</a></p>
</li>
<li>
<p>Save RCAC as <code>Root_CA_Certificate_TH1_2</code></p>
</li>
<li>
<p>Save ICAC as <code>Intermediate_Certificate_TH1_2</code></p>
</li>
<li>
<p>Save NOC as <code>Node_Operational_Certificate_TH1_2</code></p>
</li>
<li>
<p>Save IPK as <code>IPK_TH1_2</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.6.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 generates an INVALID Root Certificate where the signature does not match the public key and saves it as <code>Root_CA_Malformed</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the trusted root cert list from the DUT. Save the list size as <code>trusted_root_original_size</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the fabrics attribute from the DUT. Save the list size as <code>fabrics_original_size</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the NOCs attribute from the DUT using a non-fabric-filtered read. Save the list size as <code>nocs_original_size</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="root-cert-validity-check"></a>12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends AddTrustedRootCertificate command to DUT to install <code>Root_CA_Malformed</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that AddTrustedRootCertificate Command fails by sending the status code as INVALID_COMMAND</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the TrustedRootCertificate attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it contains only <code>trusted_root_original_size</code> entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="root-cert-ok"></a>14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends AddTrustedRootCertificate command to DUT with RootCACertificate set to <code>Root_CA_Certificate_TH1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that AddTrustedRootCertificate Command succeeds by sending the status code as SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the TrustedRootCertificate attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it contains <code>trusted_root_original_size</code> + 1 entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="root-cert-duplicate"></a>16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends AddTrustedRootCertificate command to DUT again with the RootCACertificate field set to <code>Root_CA_Certificate_TH1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the returned Status Code is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the TrustedRootCertificate attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify it contains <code>trusted_root_original_size</code> + 1 entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="root-cert-re-add"></a>18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends AddTrustedRootCertificate command to DUT again with the RootCACertificate field set to <code>Root_CA_Certificate_TH1_2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the returned Status Code is CONSTRAINT_ERROR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the TrustedRootCertificates list from DUT and saves as <code>TrustedRootsList</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there are <code>trusted_root_original_size</code> + 1 entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="trusted-root-attr-not-writeable"></a>20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 appends <code>Root_CA_Certificate_TH1_2</code> to <code>TrustedRootsList</code> and writes the TrustedRootCertificates attribute with that value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the returned status code is UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="root-cert-attribute-ok"></a>21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the TrustedRootCertificates list from DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there are <code>trusted_root_original_size</code> + 1 entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="noc-invalid"></a>22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the AddNOC Command to DUT with the following fields:</p>
</li>
<li>
<p>NOCValue as <code>Node_Operational_Certificate_TH1_2</code></p>
</li>
<li>
<p>ICACValue as <code>Intermediate_Certificate_TH1_2</code></p>
</li>
<li>
<p>IpkValue as <code>IPK_TH1_2</code></p>
</li>
<li>
<p>CaseAdminSubject as the NodeID of TH1</p>
</li>
<li>
<p>AdminVendorId as the Vendor ID of TH1</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT responds with NOCResponse command with status code InvalidNOC</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="cat-invalid"></a>23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the AddNOC Command to DUT with the following fields:</p>
</li>
<li>
<p>NOCValue as <code>Node_Operational_Certificate_TH1</code></p>
</li>
<li>
<p>ICACValue as <code>Intermediate_Certificate_TH1</code></p>
</li>
<li>
<p>IpkValue as <code>IPK_TH1</code></p>
</li>
<li>
<p>CaseAdminSubject is an invalid NodeID (not an operational Node ID or Case Authenticated Tag - ex. 0)</p>
</li>
<li>
<p>AdminVendorId as the Vendor ID of TH1</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT responds with NOCResponse command with status code InvalidAdminSubject</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="noc-ok"></a>24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the AddNOC Command to DUT with the following fields:</p>
</li>
<li>
<p>NOCValue as <code>Node_Operational_Certificate_TH1</code></p>
</li>
<li>
<p>ICACValue as <code>Intermediate_Certificate_TH1</code></p>
</li>
<li>
<p>IpkValue as <code>IPK_TH1</code></p>
</li>
<li>
<p>CaseAdminSubject as the NodeID of TH1</p>
</li>
<li>
<p>AdminVendorId as the Vendor ID of TH1</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT responds with NOCResponse command with status code OK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="noc-re-add"></a>25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 re-sends the AddNOC Command to DUT with the following fields:</p>
</li>
<li>
<p>NOCValue as <code>Node_Operational_Certificate_TH1_1</code></p>
</li>
<li>
<p>ICACValue as <code>Intermediate_Certificate_TH1_1</code></p>
</li>
<li>
<p>IpkValue as <code>IPK_TH1_1</code></p>
</li>
<li>
<p>CaseAdminSubject as the NodeID of TH1</p>
</li>
<li>
<p>AdminVendorId as the Vendor ID of TH1</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT responds with status code CONSTRAINT_ERROR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="noc-attribute"></a>26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the NOCs attribute from DUT using a fabric-filtered read and saves the list as <code>NOCList</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the list contains one entry with NOC field <code>Node_Operational_Certificate_TH1</code> and ICAC field <code>Intermediate_Certificate_TH1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="noc-attribute-not-writeable"></a>27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 modifies the NOC list to use <code>Node_Operational_Certificate_TH1_2</code> and <code>Intermediate_Certificate_TH1_2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the returned status code is UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the NOCs attribute from DUT using a fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the list contains one entry with NOC field <code>Node_Operational_Certificate_TH1</code> and ICAC field <code>Intermediate_Certificate_TH1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="fabric-label-command"></a>29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends UpdateFabricLabel command with 'Label 1' as Label field to DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT responds with the NOCResponse Command with status OK</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the Fabrics Attribute from DUT using a fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is only 1 entry</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="fabric-table"></a>31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Read the other fields from FabricDescriptorStruct</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>RootPublicKey</p>
</li>
<li>
<p>VendorID</p>
</li>
<li>
<p>FabricID</p>
</li>
<li>
<p>NodeID</p>
</li>
<li>
<p>Label</p>
</li>
</ol>
</div>
</li>
<li>
<p>Verify that the size of RootPublicKey is exactly 65 bytes</p>
</li>
<li>
<p>Verify that the RootPublicKey matches <code>Root_Public_Key_TH1</code></p>
</li>
<li>
<p>Verify that the NodeID is the same as the matter-node-id field in the NOC sent with AddNOC Command</p>
</li>
<li>
<p>Verify that the VendorID is the same as the AdminVendorID sent with AddNOC Command</p>
</li>
<li>
<p>Verify that the FabricID is the same as the matter-fabric-id field in the NOC sent with AddNOC Command</p>
</li>
<li>
<p>Verify that the Label field has value "Label 1"</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.9.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT with ExpiryLengthSeconds field set to 0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.4.14.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reconnects to the DUT over PASE</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="failsafe-expiry-root-certs"></a>34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the TrustedRootCertificates list from DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that list contains <code>trusted_root_original_size</code> entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="failsafe-expiry-nocs"></a>35</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the NOCs attribute from DUT using a non-fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the list contains <code>nocs_original_size</code> entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="failsafe-expiry-fabrics"></a>36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the Fabrics attribute from the DUT using a non-fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the list contains <code>fabrics_original_size</code> entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">37</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{REF_CODE}.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 fully commissions DUT onto the fabric, using a valid set of certificates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH1 successfully completes commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="trusted-root-cert-table-ok"></a>38</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the TrustedRootCertificates list from DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there are <code>trusted_root_original_size</code> + 1 entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="noc-table-ok"></a>39</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the NOCs attribute from DUT using a non-fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the list contains <code>nocs_original_size</code> + 1 entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">40</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the Fabrics attribute from DUT using a non-fabric-filtered</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the list contains <code>fabrics_original_size</code> + 1 entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="acl-ok"></a>41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the ACL attribute from the Access Control cluster</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the returned list includes an entry with:</p>
</li>
<li>
<p>Fabric index of <code>FabricIndex_TH1</code></p>
</li>
<li>
<p>Administer privilege (5)</p>
</li>
<li>
<p>CASE AuthMode (2)</p>
</li>
<li>
<p>Includes the NodeID of TH1 in the list of subjects</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="ipk-ok"></a>42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.2.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 issues a KeySetRead command to the DUT for GroupKeySetID 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that an entry is read-back successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">43</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends UpdateFabricLabel command with 'Label 1' as Label field to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify status OK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">44</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.18.8.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends an OpenCommissioningWindow command to the Administrator Commissioning cluster</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">45</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{REF_CODE}.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 fully commissions the DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">46</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 sends UpdateFabricLabel command with 'Label 2' as Label field to DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT responds with the NOCResponse Command with status OK</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="label-conflict"></a>47</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 sends UpdateFabricLabel command with 'Label 1' as Label field to DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT responds with the NOCResponse Command with status LabelConflict</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="multiple-fabric-table"></a>48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read the Fabrics List from DUT using a non-fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that there are 'fabrics_original_size` + 2 entries</p>
</li>
<li>
<p>Verify that one entry has Label field 'Label 1'</p>
</li>
<li>
<p>Verify that the other entry has label field 'Label 2'</p>
</li>
<li>
<p>Verify that the list item with Label 'Label 1' has VendorID equal to the vendor ID of TH1</p>
</li>
<li>
<p>Verify that the list item with Label 'Label 2' has VendorID equal to the vendor ID of TH2</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.9.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT  with the ExpiryLengthSeconds field set to <code>failsafe_max</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends ArmFailSafeResponse Command to TH1 with field ErrorCode as 'OK'(0)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends AddTrustedRootCertificate command to DUT with RootCACertificate set to <code>Root_CA_Certificate_TH1_1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that AddTrustedRootCertificate Command succeeds by sending the status code as SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="missing-csr"></a>51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the AddNOC Command to DUT with the following fields:</p>
</li>
<li>
<p>NOCValue as <code>Node_Operational_Certificate_TH1_1</code></p>
</li>
<li>
<p>ICACValue as <code>Intermediate_Certificate_TH1_1</code></p>
</li>
<li>
<p>IpkValue as <code>IPK_TH1_1</code></p>
</li>
<li>
<p>CaseAdminSubject as the NodeID of TH1</p>
</li>
<li>
<p>AdminVendorId as the Vendor ID of TH1</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT responds with status code MissingCsr</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.9.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.9.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to <code>failsafe_max</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">54</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 Sends CSRRequest command with a random 32-byte nonce</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="bad-csr-certs"></a>55</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.6.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 generates a new RCAC, ICAC, NOC and IPK using the csr returned in step <a href="#csr-elements">5</a> (ie, NOT the most recent CSR) and saves them as <code>TH1_RCAC_bad_csr</code>, <code>TH1_ICAC_bad_csr</code>, <code>TH1_NOC_bad_csr</code> and <code>TH1_IPK_bad_csr</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">56</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends the AddTrustedRootCert command using <code>TH1_RCAC_bad_csr</code>.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">57</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends the AddNOC Command to DUT using <code>TH1_ICAC_bad_csr</code>, <code>TH1_NOC_bad_csr</code> and <code>TH1_IPK_bad_csr</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT responds with status code InvalidPublicKey</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">58</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.9.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 0</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">59</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.9.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to <code>failsafe_max</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="csr-step"></a>60</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 Sends CSRRequest command with a random 32-byte nonce</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="fabric-conflict-certs"></a>61</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.6.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 obtains or generates a NOC and ICAC using the CSR elements from step <a href="#csr-step">60</a> with a different NodeID, but the same Root CA Certificate and fabric ID as step <a href="#TH1-gen-real-creds">6</a>. Save as <code>Node_Operational_Certificates_TH1_fabric_conflict</code> and <code>Intermediate_Certificate_TH1_fabric_conflict</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">62</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends the AddTrustedRootCert command using the certs generated in step <a href="#fabric-conflict-certs">61</a></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="fabric-conflict"></a>63</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the AddNOC Command to DUT with the following fields:</p>
</li>
<li>
<p>NOCValue as <code>Node_Operational_Certificate_TH1_fabric_conflict</code></p>
</li>
<li>
<p>ICACValue as <code>Intermediate_Certificate_TH1_fabric_conflict</code></p>
</li>
<li>
<p>CaseAdminSubject as the NodeID of TH1</p>
</li>
<li>
<p>AdminVendorId as the Vendor ID of TH1</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT responds with status code FabricConflict</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.9.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends ArmFailSafeResponse Command to TH1 with field ErrorCode as 'OK'(0)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">65</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the TrustedRootCertificates list from DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that list contains <code>trusted_root_original_size</code> + 2 entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">66</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.9.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT with the ExpiryLengthSeconds field set to <code>failsafe_max</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends ArmFailSafeResponse Command to TH1 with field ErrorCode as 'OK'(0)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="csr-step-update"></a>67</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 Sends CSRRequest command with a random 32-byte nonce and the IsForUpdateNOC field set to true</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">68</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.6.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 obtains or generates a NOC, Root CA Certificate, ICAC using the CSR elements from the previous step</p>
</li>
<li>
<p>Save RCAC as <code>Root_CA_Certificate_TH1_3</code></p>
</li>
<li>
<p>Save ICAC as <code>Intermediate_Certificate_TH1_3</code></p>
</li>
<li>
<p>Save NOC as <code>Node_Operational_Certificate_TH1_3</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">69</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends AddTrustedRootCertificate command to DUT with RootCACertificate set to <code>Root_CA_Certificate_TH1_3</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that AddTrustedRootCertificate Command succeeds by sending the status code as SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="add-noc-for-update-csr"></a>70</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the AddNOC Command to DUT with the following fields:</p>
</li>
<li>
<p>NOCValue as <code>Node_Operational_Certificate_TH1_3</code></p>
</li>
<li>
<p>ICACValue as <code>Intermediate_Certificate_TH1_3</code></p>
</li>
<li>
<p>CaseAdminSubject as the NodeID of TH1</p>
</li>
<li>
<p>AdminVendorId as the Vendor ID of TH1</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT responds with status code CONSTRAINT_ERROR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">71</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.9.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends ArmFailSafeResponse Command to TH1 with field ErrorCode as 'OK'(0)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">72</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 reads its fabric index from the CurrentFabricIndex attribute and saves as <code>FabricIndexTH2</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="remove-invalid-fabric"></a>73</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 sends RemoveFabric command with Fabric Index as FabricIndexTH2 + 5 (Invalid Fabric Index) to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends NOCResponse Command with StatusCode of InvalidFabricIndex</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">74</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 reads the Fabrics List from DUT using a non-fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that there are <code>fabrics_original_size</code> + 2 entries</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">75</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.5.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads its fabric index from the CurrentFabricIndex attribute and saves as <code>FabricIndex_TH1</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH0 sends RemoveFabric command with Fabric Index as FabricIndex_TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends NOCResponse Command with StatusCode of OK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">77</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.11.17.6.12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH0 sends RemoveFabric command with Fabric Index as FabricIndex_TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends NOCResponse Command with StatusCode of OK</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_41"><a class="anchor" href="#_notestesting_considerations_41"></a>Notes/Testing considerations</h5>
<div class="paragraph">
<p>Step 15 currently fails in the SDK and is therefore off in the test. Please see (#30798)
Step 68 Currently fails in the SDK and is therefore off in the test. Please see (#3126). This also affects step 69, which is also off in the automation.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_opcreds_3_2_attribute_currentfabricindex_validation_dut_server"><a class="anchor" href="#_tc_opcreds_3_2_attribute_currentfabricindex_validation_dut_server"></a>15.2.2. [TC-OPCREDS-3.2] Attribute-CurrentFabricIndex validation [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_45"><a class="anchor" href="#_category_45"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_46"><a class="anchor" href="#_purpose_46"></a>Purpose</h5>
<div class="paragraph">
<p>To Verify that the CurrentFabricIndex attribute satisfies the following
conditions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>CurrentFabricIndex is same as the accessing fabric index in the DUT</p>
</li>
<li>
<p>CurrentFabricIndex references an entry in the fabric list</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_45"><a class="anchor" href="#_pics_45"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>OPCREDS.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_2"><a class="anchor" href="#_pre_conditions_2"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 15%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This test case assumes that during Commissioning AddNOC will be sent with ICACValue</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_45"><a class="anchor" href="#_required_devices_45"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 44.4444%;">
<col style="width: 44.4445%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_19"><a class="anchor" href="#_device_topology_19"></a>Device Topology</h5>

</div>
<div class="sect4">
<h5 id="_test_setup_8"><a class="anchor" href="#_test_setup_8"></a>Test Setup</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A new fabric (Example: FabricID1 = 1111) is created by TH1 under its root of trust to which the DUT will be commissioned</p>
</li>
<li>
<p>A new fabric (Example: FabricID2 = 2222) is created by TH2 under its root of trust to which the DUT will be commissioned</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_45"><a class="anchor" href="#_test_procedure_45"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factory Reset DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Commission DUT to TH1&#8217;s Fabric</p>
</li>
<li>
<p>When DUT sends NOC response save FabricIndex as FabricIndex_TH1</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save TH1&#8217;s Fabric ID as FabricID1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Commission DUT to TH2&#8217;s Fabric</p>
</li>
<li>
<p>When DUT sends NOC response save FabricIndex as FabricIndex_TH2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save TH2&#8217;s Fabric ID as FabricID2</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0005(CurrentFabricIndex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From TH1 read the CurrentFabricIndex</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that CurrentFabricIndex = FabricIndex_TH1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From TH1 read the entire NOCs List attribute with a non-fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is only data for the entry whose FabricIndex field is equal to FabricIndex_TH1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From TH1 read the entire NOCs List attribute with a fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is only data for the entry whose FabricIndex field is equal to FabricIndex_TH1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read NOCStruct values from entry at index 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the FabricIndex field equal to FabricIndex_TH1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>From the NOCStruct values verify the following:</p>
</li>
<li>
<p>NOC matches the NOC sent to the DUT during commissioning process</p>
</li>
<li>
<p>ICAC matches the ICAC sent to the DUT during commissioning process from AddNOC in pre-condition</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read the Fabrics List and get the FabricDescriptorStruct for the entry where FabricIndex = FabricIndex_TH1 from DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that TH1 is able to read the FabricDescriptorStruct values</p>
</li>
<li>
<p>Verify that Fabrics list does not have any entry as  FabricID = FabricID2</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From TH2 read the CurrentFabricIndex</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that CurrentFabricIndex = FabricIndex_TH2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From TH2 read the entire NOCs List attribute with a non-fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is only data for the entry whose FabricIndex field is equal to FabricIndex_TH2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From TH2 read the entire NOCs List attribute with a fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is only data for the entry whose FabricIndex field is equal to FabricIndex_TH2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read NOCStruct values from entry at index 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the FabricIndex field equal to FabricIndex_TH2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>From the NOCStruct values verify the following:</p>
</li>
<li>
<p>NOC matches the NOC sent to the DUT during commissioning process</p>
</li>
<li>
<p>ICAC matches the ICAC sent to the DUT during commissioning process from AddNOC in pre-condition</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_42"><a class="anchor" href="#_notestesting_considerations_42"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_opcreds_3_4_updatenoc_error_condition_dut_server"><a class="anchor" href="#_tc_opcreds_3_4_updatenoc_error_condition_dut_server"></a>15.2.3. [TC-OPCREDS-3.4] UpdateNOC-Error Condition [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_46"><a class="anchor" href="#_category_46"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_47"><a class="anchor" href="#_purpose_47"></a>Purpose</h5>
<div class="paragraph">
<p>This test verifies that the DUT properly handles the following error conditions on UpdateNOC command:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(<a href="#update-failsafe-required">4</a>) UpdateNOC command sent without failsafe armed &#8594; FAILSAFE_REQUIRED</p>
</li>
<li>
<p>(<a href="#update-no-csr">6</a>) UpdateNOC command sent without CSRRequest &#8594; MissingCsr in StatusCode field in the CSRResponse</p>
</li>
<li>
<p>(<a href="#update-not-update-csr">9</a>) UpdateNOC command send with CSRRequest for IsForUpdateNOC set to false &#8594; CONSTRAINT_ERROR</p>
</li>
<li>
<p>(<a href="#update-invalid-pubkey">11</a>) UpdateNOC certificate public key does not match CSRRequest &#8594; InvalidPublicKey in the StatusCode field in the CSRResponse</p>
</li>
<li>
<p>(<a href="#update-bad-chain">14</a>) NOC does not chain back to the TrustedRoot for this fabric &#8594; InvalidNOC in StatusCode field in the CSRResponse</p>
</li>
<li>
<p>(<a href="#update-bad-fabric-on-noc">16</a>) NOC has improper FabricID for this fabric &#8594; InvalidNOC in StatusCode field in the CSRResponse</p>
</li>
<li>
<p>(<a href="#update-bad-fabric-on-icac">18</a>)ICAC has improper FabricID for this fabric &#8594; InvalidNOC in StatusCode field in the CSRResponse</p>
</li>
<li>
<p>(<a href="#update-after-root-cert">20</a>) AddTrustedRootCertificate in same failsafe causes CONSTRAINT_ERROR</p>
</li>
<li>
<p>(<a href="#update-pase">26</a>) UpdateNOC over PASE &#8594; UNSUPPORTED_ACCESS</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pics_46"><a class="anchor" href="#_pics_46"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>OPCREDS.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_3"><a class="anchor" href="#_pre_conditions_3"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 15%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH and DUT are commissioned</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_46"><a class="anchor" href="#_required_devices_46"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 44.4444%;">
<col style="width: 44.4445%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_20"><a class="anchor" href="#_device_topology_20"></a>Device Topology</h5>
<div class="paragraph">
<p>TH1 commissions DUT on its fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_9"><a class="anchor" href="#_test_setup_9"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_46"><a class="anchor" href="#_test_procedure_46"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 fully commissions the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the commissioning completes successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the NOCs attribute from the Node Operational Credentials cluster using a fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the returned list has a single entry. Save the NOC field as <code>noc_original</code> and the ICAC field as <code>icac_original</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the TrustedRootCertificates attribute from the Node Operational Credentials cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the returned list has a single entry. Save the entry as <code>trusted_root_original</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="update-failsafe-required"></a>4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C07.Rsp(UpdateNOC)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the UpdateNOC command to the Node Operational Credentials cluster with the following fields:</p>
</li>
<li>
<p>NOCValue is set to <code>noc_original</code></p>
</li>
<li>
<p>ICACValue is to set <code>icac_original</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT responds with FAILSAFE_REQUIRED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT with the ExpiryLengthSeconds field set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse with the ErrorCode set to OK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="update-no-csr"></a>6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C07.Rsp(UpdateNOC)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the UpdateNOC command to the Node Operational Credentials cluster with the following fields:</p>
</li>
<li>
<p>NOCValue is set to <code>noc_original</code></p>
</li>
<li>
<p>ICACValue is to set <code>icac_original</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT responds with a NOCResponse with the StatusCode field set to MissingCsr</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C04.Rsp(CSRRequest)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 Sends CSRRequest command with the IsForUpdateNOC field set to false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns a CSRResponse and save as <code>csr_not_update</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.4.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 generates a new NOC chain with ICAC with the following properties:</p>
</li>
<li>
<p>new NOC is generated from the NOCSR returned in <code>csr_not_for_update</code> and is signed by ICA. Save as <code>noc_not_for_update</code></p>
</li>
<li>
<p>ICAC must be signed by the original key for <code>trusted_root_original</code>. Save as <code>icac_not_for_update</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="update-not-update-csr"></a>9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C07.Rsp(UpdateNOC)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the UpdateNOC command to the Node Operational Credentials cluster with the following fields:</p>
</li>
<li>
<p>NOCValue is set to <code>noc_not_for_update</code></p>
</li>
<li>
<p>ICACValue is to set <code>icac_not_for_update</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT responds with CONSTRAINT_ERROR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C04.Rsp(CSRRequest )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 Sends CSRRequest command with the IsForUpdateNOC field set to true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns a CSRResponse and save as <code>csr_update</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="update-invalid-pubkey"></a>11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C07.Rsp(UpdateNOC)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the UpdateNOC command to the Node Operational Credentials cluster with the following fields:</p>
</li>
<li>
<p>NOCValue is set to <code>noc_original</code></p>
</li>
<li>
<p>ICACValue is to set <code>icac_original</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT responds with a NOCResponse with the StatusCode field set to InvalidPublicKey</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.4.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 generates a new Trusted Root Certificate and Private Key and saves as <code>new_root_cert</code> and <code>new_root_key</code> so that TH can generate an NOC for UpdateNOC that doesn&#8217;t chain to the original root</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.4.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 generates a new NOC and ICAC with the following properties:</p>
</li>
<li>
<p>new NOC is generated from the NOCSR returned in <code>csr_update</code> and is signed by new ICA. Save as <code>noc_update_new_root</code></p>
</li>
<li>
<p>new ICAC is generated and signed by <code>new_root_key</code>. Save as <code>icac_update_new_root</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="update-bad-chain"></a>14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C07.Rsp(UpdateNOC)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the UpdateNOC command to the Node Operational Credentials cluster with the following fields:</p>
</li>
<li>
<p>NOCValue is set to <code>noc_update_new_root</code></p>
</li>
<li>
<p>ICACValue is to set <code>icac_update_new_root</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT responds with a NOCResponse with the StatusCode field set to InvalidNOC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.4.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 generates a new NOC and ICAC with the following properties:</p>
</li>
<li>
<p>new NOC is generated from the NOCSR returned in <code>csr_update</code> with the matter-fabric-id set to a different value than <code>noc_original</code>. The NOC is signed by new ICA. Save as <code>noc_update_bad_fabric_on_noc</code></p>
</li>
<li>
<p>new ICAC is generated with the and matter-fabric-id omitted. ICAC is signed by the original key for <code>trusted_root_original</code>. Save as <code>icac_update_bad_fabric_on_noc</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="update-bad-fabric-on-noc"></a>16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C07.Rsp(UpdateNOC)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the UpdateNOC command to the Node Operational Credentials cluster with the following fields:</p>
</li>
<li>
<p>NOCValue is set to <code>noc_update_bad_fabric_on_noc</code></p>
</li>
<li>
<p>ICACValue is to set <code>icac_update_bad_fabric_on_noc</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT responds with a NOCResponse with the StatusCode field set to InvalidNOC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.4.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 generates a new NOC and ICAC with the following properties:</p>
</li>
<li>
<p>new NOC is generated from the NOCSR returned in <code>csr_update</code> with the matter-fabric-id set to the same value as <code>noc_original</code>. The NOC is signed by new ICA. Save as <code>noc_update_bad_fabric_on_icac</code></p>
</li>
<li>
<p>new ICAC is generated with the and matter-fabric-id included as set to a different value than <code>noc_original</code>. ICAC is signed by the original key for <code>trusted_root_original</code>. Save as <code>icac_update_bad_fabric_on_icac</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="update-bad-fabric-on-icac"></a>18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C07.Rsp(UpdateNOC)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the UpdateNOC command to the Node Operational Credentials cluster with the following fields:</p>
</li>
<li>
<p>NOCValue is set to <code>noc_update_bad_fabric_on_icac</code></p>
</li>
<li>
<p>ICACValue is to set <code>icac_update_bad_fabric_on_icac</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT responds with a NOCResponse with the StatusCode field set to InvalidNOC</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C0b.Rsp(AddTrustedRootCertificate)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends AddTrustedRootCertificate command to DUT again with the RootCACertificate field set to <code>new_root_cert</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the returned Status Code is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="update-after-root-cert"></a>20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C07.Rsp(UpdateNOC)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the UpdateNOC command to the Node Operational Credentials cluster with the following fields:</p>
</li>
<li>
<p>NOCValue is set to <code>noc_update_new_root</code></p>
</li>
<li>
<p>ICACValue is to set <code>icac_update_new_root</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT responds with CONSTRAINT_ERROR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT with the ExpiryLengthSeconds field set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse with the ErrorCode set to OK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.18.8.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends an OpenCommissioningWindow command to the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 connects to the DUT over PASE and sends ArmFailSafe command to the DUT with the ExpiryLengthSeconds field set to 900. Steps <a href="#pase-start">24</a>-<a href="#update-pase">26</a> are all performed over the PASE connection.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse with the ErrorCode set to OK.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="pase-start"></a>24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C04.Rsp(CSRRequest)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 Sends CSRRequest command over PASE with the IsForUpdateNOC field set to true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns a CSRResponse and save as <code>csr_pase</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.4.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 generates a new NOC chain with ICAC with the following properties:</p>
</li>
<li>
<p>new NOC is generated from the NOCSR returned in <code>csr_pase</code> and is signed by ICA. Save as <code>noc_pase</code></p>
</li>
<li>
<p>ICAC must be signed by the original key for <code>trusted_root_original</code>. Save as <code>icac_pase</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="update-pase"></a>26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C07.Rsp(UpdateNOC)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the UpdateNOC command to the Node Operational Credentials cluster over PASE with the following fields:</p>
</li>
<li>
<p>NOCValue is set to <code>noc_pase</code></p>
</li>
<li>
<p>ICACValue is to set <code>icac_pase</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT responds with UNSUPPORTED_ACCESS</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_opcreds_3_5_noc_check_for_updatenoc_dut_server"><a class="anchor" href="#_tc_opcreds_3_5_noc_check_for_updatenoc_dut_server"></a>15.2.4. [TC-OPCREDS-3.5] NOC Check for UpdateNOC [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_47"><a class="anchor" href="#_category_47"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_48"><a class="anchor" href="#_purpose_48"></a>Purpose</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To verify that when TH sends UpdateNOC command the NOC values are updated correctly on the DUT.</p>
</li>
<li>
<p>To verify that the previous NOC value from TH is not stored on DUT.</p>
</li>
<li>
<p>To verify that failsafe expiry successfully reverts NOC changes.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_47"><a class="anchor" href="#_pics_47"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>OPCREDS.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_4"><a class="anchor" href="#_pre_conditions_4"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 15%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_47"><a class="anchor" href="#_required_devices_47"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 53.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_21"><a class="anchor" href="#_device_topology_21"></a>Device Topology</h5>

</div>
<div class="sect4">
<h5 id="_test_setup_10"><a class="anchor" href="#_test_setup_10"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_47"><a class="anchor" href="#_test_procedure_47"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 fully commissions the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the commissioning completes successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the NOCs attribute from the Node Operational Credentials cluster using a fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the returned list has a single entry. Save the NOC field as <code>noc_original</code> and the ICAC field as <code>icac_original</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the TrustedRootCertificates attribute from the Node Operational Credentials cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the returned list has a single entry. Save the entry as <code>trusted_root_original</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT with the ExpiryLengthSeconds field set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse with the ErrorCode set to OK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C04.Rsp(CSRRequest)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 Sends CSRRequest command with the IsForUpdateNOC field set to true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns a CSRResponse and save as <code>csr_update1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.4.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 generates a new NOC and ICAC with the following properties:</p>
</li>
<li>
<p>new NOC is generated from the NOCSR returned in <code>csr_update1</code>. The subject is set to match <code>noc_original</code>. The NOC is signed by the new ICA. Save as <code>noc_update1</code></p>
</li>
<li>
<p>new ICAC must be distinguishable from <code>icac_original</code>. This can be accomplished by changing any of the following: the subject, subject public key or validity. The certificate must be valid. ICAC is signed by the original key for <code>trusted_root_original</code>. Save as <code>icac_update1</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C07.Rsp(UpdateNOC)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the UpdateNOC command to the Node Operational Credentials cluster with the following fields:</p>
</li>
<li>
<p>NOCValue is set to <code>noc_update1</code></p>
</li>
<li>
<p>ICACValue is to set <code>icac_update1</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT responds with a NOCResponse having its StatusCode field set to Ok</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the NOCs attribute from the Node Operational Credentials cluster using a fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the returned list has a single entry. Verify that the NOC field matches <code>noc_update1</code> and the ICAC field matches <code>icac_update1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT with the ExpiryLengthSeconds field set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse with the ErrorCode set to OK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the NOCs attribute from the Node Operational Credentials cluster using a fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the returned list has a single entry. Verify that the NOC field matches <code>noc_original</code> and the ICAC field matches <code>icac_original</code>, due to the explicit expiry of the fail-safe done in the previous step, which is expected to have reverted the updated credentials back to their original value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT with the ExpiryLengthSeconds field set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse with the ErrorCode set to OK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C04.Rsp(CSRRequest)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 Sends CSRRequest command with the IsForUpdateNOC field set to true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns a CSRResponse and save as <code>csr_update2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.4.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 generates a new NOC and ICAC with the following properties:</p>
</li>
<li>
<p>new NOC is generated from the NOCSR returned in <code>csr_update2</code>. The subject is set to match <code>noc_original</code>. The NOC is signed by new ICA. Save as <code>noc_update2</code></p>
</li>
<li>
<p>new ICAC must be distinguishable from <code>icac_original</code> and <code>icac_update1</code>. This can be accomplished by changing any of the following: the subject, subject public key or validity. The certificate must be valid. ICAC is signed by the original key for <code>trusted_root_original</code>. Save as <code>icac_update2</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C07.Rsp(UpdateNOC)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 sends the UpdateNOC command to the Node Operational Credentials cluster with the following fields:</p>
</li>
<li>
<p>NOCValue is set to <code>noc_update2</code></p>
</li>
<li>
<p>ICACValue is to set <code>icac_update2</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT responds with a NOCResponse having its StatusCode field set to Ok</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the NOCs attribute from the Node Operational Credentials cluster using a fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the returned list has a single entry. Verify that the NOC field matches <code>noc_update2</code> and the ICAC field matches <code>icac_update2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends the CommissioningComplete command to the General Commissioning cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns a CommissioningCompleteResponse with the ErrorCode set to OK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends ArmFailSafe command to the DUT with the ExpiryLengthSeconds field set to 0 to verify that the CommissioningComplete command successfully persisted the failsafe context.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse with the ErrorCode set to OK</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the NOCs attribute from the Node Operational Credentials cluster using a fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the returned list has a single entry. Verify that the NOC field matches <code>noc_update2</code> and the ICAC field matches <code>icac_update2</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_43"><a class="anchor" href="#_notestesting_considerations_43"></a>Notes/Testing considerations</h5>

</div>
</div>
<div class="sect3">
<h4 id="_tc_opcreds_3_6_last_fabric_removal_validation_dut_server"><a class="anchor" href="#_tc_opcreds_3_6_last_fabric_removal_validation_dut_server"></a>15.2.5. [TC-OPCREDS-3.6] Last Fabric removal validation [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_48"><a class="anchor" href="#_category_48"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_49"><a class="anchor" href="#_purpose_49"></a>Purpose</h5>
<div class="paragraph">
<p>To verify that when TH sends RemoveFabric command for last Fabric, DUT SHALL delete all Matter related data on the node which was created since it was commissioned.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_48"><a class="anchor" href="#_pics_48"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>OPCREDS.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_5"><a class="anchor" href="#_pre_conditions_5"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 15%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_48"><a class="anchor" href="#_required_devices_48"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 53.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_22"><a class="anchor" href="#_device_topology_22"></a>Device Topology</h5>

</div>
<div class="sect4">
<h5 id="_test_setup_11"><a class="anchor" href="#_test_setup_11"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_48"><a class="anchor" href="#_test_procedure_48"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 fully commissions the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the commissioning completes successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C0a.Rsp(RemoveFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends RemoveFabric command with Fabric Index as FabricIndex_TH1 to DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT is not advertising as an operational node on DNS-SD with service type _matter._tcp</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the DUT is advertising as a commissionable node with CM=2 over DNS-SD or advertising the Matter service over BLE, TH commissions the device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is successfully commissioned</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_44"><a class="anchor" href="#_notestesting_considerations_44"></a>Notes/Testing considerations</h5>

</div>
</div>
<div class="sect3">
<h4 id="_tc_opcreds_3_7_add_second_fabric_over_case_dut_server"><a class="anchor" href="#_tc_opcreds_3_7_add_second_fabric_over_case_dut_server"></a>15.2.6. [TC-OPCREDS-3.7] Add Second Fabric over CASE [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_49"><a class="anchor" href="#_category_49"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_50"><a class="anchor" href="#_purpose_50"></a>Purpose</h5>
<div class="paragraph">
<p>To verify that a DUT can be added to a second fabric using AddNOC command.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_49"><a class="anchor" href="#_pics_49"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>OPCREDS.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_6"><a class="anchor" href="#_pre_conditions_6"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 15%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.4.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 and TH2 are 2 clients that trust each other</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_49"><a class="anchor" href="#_required_devices_49"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 13.3333%;">
<col style="width: 33.3333%;">
<col style="width: 53.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Client 1, a commissioner device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Client 2, a commissioner device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Server, a commissionee device</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_23"><a class="anchor" href="#_device_topology_23"></a>Device Topology</h5>

</div>
<div class="sect4">
<h5 id="_test_setup_12"><a class="anchor" href="#_test_setup_12"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_49"><a class="anchor" href="#_test_procedure_49"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0000(NOCs)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factory Reset DUT (to ensure NOC list is empty at the beginning of the following steps)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Start the commissioning process of DUT by TH1 on the first Fabric.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that TH1 successfully completes commissioning, including establishing a CASE session on the operational network and issuing a <code>CommissioningComplete</code> command.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 does a non-fabric-filtered read of the <code>Fabrics</code> attribute from the Node Operational Credentials cluster. Save the FabricIndex for TH1 as <a id="TH1_FABRICINDEX"></a> <code>TH1_Fabric_Index</code> for future use.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that there is a single entry in the list and the FabricIndex for that entry matches <a href="#TH1_FABRICINDEX"><code>TH1_Fabric_Index</code></a>.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.6.2, 11.9.6.3</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CGEN.S.C00.Rsp(ArmFailSafe)</p>
</li>
<li>
<p>CGEN.S.C01.Tx(ArmFailSafeResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 sends <code>ArmFailSafe</code> command to the DUT with the <code>ExpiryLengthSeconds</code> field set to 60 seconds</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that the DUT sends <code>ArmFailSafeResponse</code> command to TH1 with field ErrorCode as <code>OK</code>(0)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="step_csr_elements"></a>5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C04.Rsp(CSRRequest)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 Sends <code>CSRRequest</code> command with a random 32-byte nonce</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that the DUT responds with the <code>CSRResponse</code> command</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH2 generates the NOC, the Root CA Certificate and ICAC using the CSR elements from <a href="#step_csr_elements">Step 5</a> and selects an IPK, all for use by TH2.</p>
</li>
<li>
<p><a id="TH2_RCAC"></a> Save RCAC as <code>Root_CA_Certificate_TH2</code></p>
</li>
<li>
<p><a id="TH2_ICAC"></a> Save ICAC as <code>Intermediate_Certificate_TH2</code></p>
</li>
<li>
<p><a id="TH2_NOC"></a> Save NOC as <code>Node_Operational_Certificate_TH2</code></p>
</li>
<li>
<p><a id="TH2_IPK"></a> Save IPK as <code>IPK_TH2</code></p>
</li>
<li>
<p>Extract the RCAC public key and save as <code>Root_Public_Key_TH2</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C0b.Rsp(AddTrustedRootCertificate)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 sends <code>AddTrustedRootCertificate</code> command to DUT with <code>RootCACertificate</code> set to <a href="#TH2_RCAC"><code>Root_CA_Certificate_TH2</code></a></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that <code>AddTrustedRootCertificate</code> command succeeds by sending the status code as <code>SUCCESS</code></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.8, 11.17.6.10</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>OPCREDS.S.C06.Rsp(AddNOC)</p>
</li>
<li>
<p>OPCREDS.S.C08.Tx(NOCResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 sends the <code>AddNOC</code> command to DUT with the following fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>NOCValue as <a href="#TH2_NOC"><code>Node_Operational_Certificate_TH2</code></a></p>
</li>
<li>
<p>ICACValue as <a href="#TH2_ICAC"><code>Intermediate_Certificate_TH2</code></a></p>
</li>
<li>
<p>IpkValue as <a href="#TH2_IPK"><code>IPK_TH2</code></a></p>
</li>
<li>
<p>CaseAdminSubject as the NodeID of TH2</p>
</li>
<li>
<p>AdminVendorId as the Vendor ID of TH2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT responds with <code>NOCResponse</code> with status code <code>OK</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 starts discovery of DUT using Operational Discovery</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 14, 4.13.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 opens a CASE session with DUT over operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to open the CASE session with TH2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5 - 15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CGEN.S.C05.Tx</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 sends <code>CommissioningComplete</code> command</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DUT respond with <code>SUCCESS</code> at <code>CommissioningComplete</code> command sent by TH2</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads the Current Fabric Index attribute from the Node Operational Credentials cluster. Save the FabricIndex for TH2 as <a id="TH2_FABRICINDEX"></a> <code>TH2_Fabric_Index</code>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 does a non-fabric-filtered read of the <code>Fabrics</code> attribute from the Node Operational Credentials cluster</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there are 2 entries in the list where one entry matches <a href="#TH1_FABRICINDEX"><code>TH1_Fabric_Index</code></a> and the other matches <a href="#TH2_FABRICINDEX"><code>TH2_Fabric_Index</code></a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C0a.Rsp(RemoveFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends <code>RemoveFabric</code> command to DUT with the FabricIndex field set to <a href="#TH2_FABRICINDEX"><code>TH2_Fabric_Index</code></a>.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that DUT sends <code>NOCResponse</code> command with status code <code>OK</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_45"><a class="anchor" href="#_notestesting_considerations_45"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dut_as_client"><a class="anchor" href="#_dut_as_client"></a>15.3. DUT as Client</h3>
<hr>
<div class="sect3">
<h4 id="_tc_opcreds_3_3_attribute_nocs_commands_dut_client"><a class="anchor" href="#_tc_opcreds_3_3_attribute_nocs_commands_dut_client"></a>15.3.1. [TC-OPCREDS-3.3] Attribute-NOCs, Commands [DUT-Client]</h4>
<div class="sect4">
<h5 id="_category_50"><a class="anchor" href="#_category_50"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_51"><a class="anchor" href="#_purpose_51"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>DUT is able to read the attributes of Node Operational Credential cluster</p>
</li>
<li>
<p>DUT is able to send the commands of the Operational Credential cluster from the client side.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_50"><a class="anchor" href="#_pics_50"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>OPCREDS.C</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_7"><a class="anchor" href="#_pre_conditions_7"></a>Pre-Conditions</h5>

</div>
<div class="sect4">
<h5 id="_required_devices_50"><a class="anchor" href="#_required_devices_50"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 6.6666%;">
<col style="width: 40%;">
<col style="width: 53.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">client</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_24"><a class="anchor" href="#_device_topology_24"></a>Device Topology</h5>

</div>
<div class="sect4">
<h5 id="_test_setup_13"><a class="anchor" href="#_test_setup_13"></a>Test Setup</h5>
<div class="paragraph">
<p>A new fabric is created by DUT to which the TH will be commissioned</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_50"><a class="anchor" href="#_test_procedure_50"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.UI.FACTORYRESET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factory Reset DUT (to ensure NOC list is empty at the beginning of the following steps)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start the commissioning process of TH with DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C00.Tx(AttestationRequest)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH receives AttestationRequest Command from DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C02.Tx(CertificateChainRequest)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH receives CertificateChainRequest Command from DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C04.Tx(CSRRequest )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives CSRRequest command from DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Extract the CSRResponse values for future use from TH</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NOCSRElements -  which contains the Node Operational PublicKey from CSR</p>
</li>
<li>
<p>AttestationSignature</p>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C0b.Tx(AddTrustedRootCertificate)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH receives AddTrustedRootCertificate command from DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C06.Tx(AddNOC)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH receives AddNOC Command from DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH saves the following values as:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>NOCValue as nocvalue1</p>
</li>
<li>
<p>ICACValue as icacvalue1</p>
</li>
<li>
<p>IpkValue as ipkvalue1</p>
</li>
<li>
<p>CaseAdminSubject as caseadmin1</p>
</li>
<li>
<p>AdminVendorId as adminvendorid1</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Extract the following FabricDescriptorStruct values from TH</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>RootPublicKey</p>
</li>
<li>
<p>VendorID</p>
</li>
<li>
<p>FabricID</p>
</li>
<li>
<p>NodeID</p>
</li>
<li>
<p>Label</p>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the size of RootPublicKey is within 65 octstr</p>
</li>
<li>
<p>Verify that the NodeID is the same as the chip-node-id in the NOC sent with AddNOC Command</p>
</li>
<li>
<p>Verify that the VendorID is the same as the AdminVendorID sent with AddNOC Command</p>
</li>
<li>
<p>Verify that the FabricID is the same as the matter-fabric-id field from the operational certificate</p>
</li>
<li>
<p>Verify that the size of Label has a maximum value of 32 bytes.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the public Key extracted NOCValue of the AddNOC matches the Node Operational Public Key extracted from CSRResponse</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C07.Tx(UpdateNOC )</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trigger the DUT to send UpdateNOC to TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH receives UpdateNOC Command from DUT successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C09.Tx(UpdateFabricLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trigger the DUT to send UpdateFabricLabel to TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH receives UpdateFabricLabel Command from DUT successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0002(SupportedFabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trigger the DUT to Read SupportedFabrics from TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH receives read SupportedFabrics attribute from DUT successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0003(CommissionedFabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trigger the DUT to read CommissionedFabrics attribute from TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH receives read CommissionedFabrics attribute from DUT successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0004(TrustedRootCertificates)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trigger the DUT to read TrustedRootCertificates attribute from TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH receives read TrustedRootCertificates from DUT successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0005(CurrentFabricIndex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trigger the DUT to read CurrentFabricIndex attribute from TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH receives read CurrentFabricIndex from DUT successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C0a.Tx(RemoveFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trigger the DUT to send RemoveFabric command to TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH receives RemoveFabric Command for the FabricID saved from FabricDescriptor</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_46"><a class="anchor" href="#_notestesting_considerations_46"></a>Notes/Testing considerations</h5>
<div class="paragraph">
<p>Test Step #10 cannot be executed with V1.0 SDK.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<h1 id="_network_commissioning_test_plan" class="sect0"><a class="anchor" href="#_network_commissioning_test_plan"></a><strong>Network Commissioning Test Plan</strong></h1>
<div class="sect1">
<h2 id="_pics_definition_5"><a class="anchor" href="#_pics_definition_5"></a>16. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the NetworkCommissioning Cluster Cluster related PICS items that are referenced in the following test cases.</p>
</div>
<div class="sect2">
<h3 id="_role_4"><a class="anchor" href="#_role_4"></a>16.1. Role</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the NetworkCommissioning Cluster cluster as a server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the NetworkCommissioning Cluster cluster as a client?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_server_3"><a class="anchor" href="#_server_3"></a>16.2. Server</h3>
<div class="sect3">
<h4 id="_features"><a class="anchor" href="#_features"></a>16.2.1. Features</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the "Wi-Fi related features" ?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIFI &amp; CNET.S</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the "Thread related features"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.THR  &amp; CNET.S</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F02(ET)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the "Ethernet related features" ?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.ETH  &amp; CNET.S</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_attributes_4"><a class="anchor" href="#_attributes_4"></a>16.2.2. Attributes</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0000(MaxNetworks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Server) support MaxNetworks attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Server) support Networks attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0002(ScanMaxTimeSeconds)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Server) support ScanMaxTimeSeconds attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)|CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0003(ConnectMaxTimeSeconds)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Server) support ConnectMaxTimeSeconds attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)|CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0004(InterfaceEnabled)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Server) support InterfaceEnabled attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0005(LastNetworkingStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Server) support LastNetworkingStatus attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0006(LastNetworkID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Server) support LastNetworkID attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0007(LastConnectErrorValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Server) support LastConnectErrorValue attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0008(SupportedWiFiBands)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Server) support SupportedWiFiBands attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0009(SupportedThreadFeatures)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Server) support SupportedThreadFeatures attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A000A(ThreadVersion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Server) support ThreadVersion attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_commands_received_3"><a class="anchor" href="#_commands_received_3"></a>16.2.3. Commands received</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C00.Rsp(ScanNetworks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) implement receiving the ScanNetworks command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)|CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C02.Rsp(AddOrUpdateWiFiNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) implement receiving the AddOrUpdateWiFiNetwork command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C03.Rsp(AddOrUpdateThreadNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) implement receiving the AddOrUpdateThreadNetwork command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C04.Rsp(RemoveNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) implement receiving the RemoveNetwork command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)|CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C06.Rsp(ConnectNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) implement receiving the ConnectNetwork command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)|CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C08.Rsp(ReorderNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) implement receiving the ReorderNetwork command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)|CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_commands_generated_3"><a class="anchor" href="#_commands_generated_3"></a>16.2.4. Commands generated</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C01.Tx(ScanNetworksResponse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) invoking/generating the ScanNetworksResponse command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)|CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C05.Tx(NetworkConfigResponse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) invoking/generating the NetworkConfigResponse command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)|CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C07.Tx(ConnectNetworkResponse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Server) invoking/generating the ConnectNetworkResponse command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)|CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_client_2"><a class="anchor" href="#_client_2"></a>16.3. Client</h3>
<div class="sect3">
<h4 id="_features_2"><a class="anchor" href="#_features_2"></a>16.3.1. Features</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the "Wi-Fi related features" ?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the "Thread related features"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.F02(ET)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the "Ethernet related features" ?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_commands_generated_4"><a class="anchor" href="#_commands_generated_4"></a>16.3.2. Commands generated</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C00.Tx(ScanNetworks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Client) invoking/generating the  ScanNetworks command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C02.Tx(AddOrUpdateWiFiNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Client) invoking/generating the AddOrUpdateWiFiNetwork command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C03.Tx(AddOrUpdateThreadNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Client) invoking/generating the AddOrUpdateThreadNetwork command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C04.Tx(RemoveNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Client) invoking/generating the RemoveNetwork command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C06.Tx(ConnectNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Client) invoking/generating the  ConnectNetwork command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C08.Tx(ReorderNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device(Client) invoking/generating the ReorderNetwork command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pixit_definition_2"><a class="anchor" href="#_pixit_definition_2"></a>17. PIXIT Definition</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Access point SSID to use for tests</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.CNET.WIFI_1ST_ACCESSPOINT_CREDENTIALS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Credentials for SSID PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.CNET.WIFI_2ND_ACCESSPOINT_SSID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSID of a second valid access point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.CNET.WIFI_2ND_ACCESSPOINT_CREDENTIALS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Credentials for SSID PIXIT.CNET.WIFI_2ND_ACCESSPOINT_SSID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valid thread OperationalDataset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.CNET.THREAD_2ND_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Second valid thread OperationalDataset</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.CNET.ENDPOINT_WIFI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT&#8217;s supporting Endpoint for the Network Commissioning</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.CNET.ENDPOINT_THREAD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT&#8217;s supporting Endpoint for the Network Commissioning</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.CNET.ENDPOINT_ETHERNET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT&#8217;s supporting Endpoint for the Network Commissioning</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.F02(ET)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_case_list_4"><a class="anchor" href="#_test_case_list_4"></a>18. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>TC UUID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case Name</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Global Attributes with DUT as Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Wi-Fi] Verification for attributes check [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Thread] Verification for attributes check [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Ethernet] Verification for attributes check [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Wi-Fi] Verification for ScanNetworks command [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Wi-Fi] FAILSAFE_REQUIRED message Validation [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Thread] FAILSAFE_REQUIRED message Validation [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Wi-Fi] Verification for RemoveNetwork Command [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Thread] Verification for RemoveNetwork Command [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Wi-Fi] Verification for ConnectNetwork Command [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Thread] Verification for ConnectNetwork Command [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Wi-Fi] Verification for ReorderNetwork command [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Thread] Verification for ReorderNetwork command [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Wi-Fi] NetworkIDNotFound returned in LastNetworkingStatus field validation [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Thread] NetworkIDNotFound returned in LastNetworkingStatus field validation [DUT-Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Wi-Fi] Verification for commands check  [DUT-Client]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Thread] Verification for commands check  [DUT-Client]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CNET-4.22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Thread] Verification for ScanNetworks command [DUT-Server]</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases_4"><a class="anchor" href="#_test_cases_4"></a>19. Test Cases</h2>
<div class="sectionbody">
<hr>
<div class="sect2">
<h3 id="_generic_test_cases_3"><a class="anchor" href="#_generic_test_cases_3"></a>19.1. Generic Test Cases</h3>
<hr>
<div class="sect3">
<h4 id="_tc_cnet_1_3_global_attributes_with_dut_as_server"><a class="anchor" href="#_tc_cnet_1_3_global_attributes_with_dut_as_server"></a>19.1.1. [TC-CNET-1.3] Global Attributes with DUT as Server</h4>
<div class="sect4">
<h5 id="_category_51"><a class="anchor" href="#_category_51"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_52"><a class="anchor" href="#_purpose_52"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the behavior of the global attributes of the cluster server.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_51"><a class="anchor" href="#_pics_51"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_51"><a class="anchor" href="#_required_devices_51"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_51"><a class="anchor" href="#_test_procedure_51"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission DUT to TH (can be skipped if done in a preceding test).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>ClusterRevision</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>ClusterRevision</em> attribute and has the value 2.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>FeatureMap</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>FeatureMap</em> attribute and have the following bit set:</p>
<p class="tableblock">- bit 0: SHALL be 1 if and only if CNET.S.F00(WI)</p>
<p class="tableblock">- bit 1: SHALL be 1 if and only if CNET.S.F01(TH)</p>
<p class="tableblock">- bit 2: SHALL be 1 if and only if CNET.S.F02(ET)</p>
<p class="tableblock">All remaining bits SHALL be 0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>AttributeList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>AttributeList</em> attribute and have the list of supported attributes:</p>
<p class="tableblock">The list SHALL include all the mandatory entries:<br>
0x0000, 0x0001, 0x0004, 0x0005, 0x0006, 0x0007,
0xfff8, 0xfff9, 0xfffb, 0xfffc and 0xfffd.</p>
<p class="tableblock">The list includes entries based on feature support:<br>
- 0x0002: SHALL be included if CNET.S.F00(WI) or CNET.S.F01(TH)
and SHALL NOT be included otherwise.</p>
<p class="tableblock">- 0x0003: SHALL be included if CNET.S.F00(WI) or CNET.S.F01(TH)
and SHALL NOT be included otherwise.</p>
<p class="tableblock">- 0x0008 SHALL be included if and only if CNET.S.F00(WI).</p>
<p class="tableblock">- 0x0009 SHALL be included if and only if CNET.S.F01(TH).</p>
<p class="tableblock">- 0x000A SHALL be included if and only if CNET.S.F01(TH).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5<sup>*</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>EventList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>EventList</em> attribute and have the list of supported events:</p>
<p class="tableblock">This cluster has no entries in the standard or scoped range.<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>AcceptedCommandList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>AcceptedCommandList</em> attribute and have the list of Accepted Command:</p>
<p class="tableblock">The list includes entries based on feature support:<br>
- 0x00: SHALL be included if CNET.S.F00(WI) or CNET.S.F01(TH)
and SHALL NOT be included otherwise.</p>
<p class="tableblock">- 0x02: SHALL be included if CNET.S.F00(WI)
and SHALL NOT be included otherwise.</p>
<p class="tableblock">- 0x03: SHALL be included if CNET.S.F01(TH)
and SHALL NOT be included otherwise.</p>
<p class="tableblock">- 0x04: SHALL be included if CNET.S.F00(WI) or CNET.S.F01(TH)
and SHALL NOT be included otherwise.</p>
<p class="tableblock">- 0x06: SHALL be included if CNET.S.F00(WI) or CNET.S.F01(TH)
and SHALL NOT be included otherwise.</p>
<p class="tableblock">- 0x08: SHALL be included if CNET.S.F00(WI) or CNET.S.F01(TH)
and SHALL NOT be included otherwise.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>GeneratedCommandList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>GeneratedCommandList</em> attribute and have the list of Generated Command:</p>
<p class="tableblock">The list includes entries based on feature support:<br>
- 0x01: SHALL be included if CNET.S.F00(WI) or CNET.S.F01(TH)
and SHALL NOT be included otherwise.</p>
<p class="tableblock">- 0x05: SHALL be included if CNET.S.F00(WI) or CNET.S.F01(TH)
and SHALL NOT be included otherwise.</p>
<p class="tableblock">- 0x07: SHALL be included if CNET.S.F00(WI) or CNET.S.F01(TH)
and SHALL NOT be included otherwise.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_47"><a class="anchor" href="#_notestesting_considerations_47"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p><sup>*</sup> Step 5 is currently not supported and SHALL be skipped.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dut_as_server_3"><a class="anchor" href="#_dut_as_server_3"></a>19.2. DUT as Server</h3>
<hr>
<div class="sect3">
<h4 id="_tc_cnet_4_1_wi_fi_verification_for_attributes_check_dut_server"><a class="anchor" href="#_tc_cnet_4_1_wi_fi_verification_for_attributes_check_dut_server"></a>19.2.1. [TC-CNET-4.1] [Wi-Fi] Verification for attributes check [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_52"><a class="anchor" href="#_category_52"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
<div class="sect5">
<h6 id="_purpose_53"><a class="anchor" href="#_purpose_53"></a>Purpose</h6>
<div class="ulist">
<ul>
<li>
<p>Verifying the DUT is connected with the Wi-Fi interface</p>
</li>
<li>
<p>Verifying the following attributes check:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>DUT&#8217;s MaxNetworks attribute value needs to be within a range of 1 to 255</p>
</li>
<li>
<p>DUT&#8217;s Networks attribute list will follow the NetworkInfo structure for each entry</p>
</li>
<li>
<p>DUT&#8217;s ScanMaxTimeSeconds attribute value must be within 255 seconds</p>
</li>
<li>
<p>DUT&#8217;s ConnectMaxTimeSeconds attribute value must be within 255 seconds</p>
</li>
<li>
<p>DUT&#8217;s InterfaceEnabled attribute value must be True</p>
</li>
<li>
<p>DUT&#8217;s LastNetworkingStatus attribute value will be within any one of the following values Success, NetworkNotFound, OutOfRange, RegulatoryError, UnknownError,    null</p>
</li>
<li>
<p>DUT&#8217;s LastNetworkID attribute value will be of type octstr with a length range of 1 to 32 and even null value</p>
</li>
<li>
<p>DUT&#8217;s LastConnectErrorValue attribute value must be null</p>
</li>
<li>
<p>DUT&#8217;s SupportedWiFiBands attribute value has one or more entries.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_pics_52"><a class="anchor" href="#_pics_52"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S.F00(WI)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_8"><a class="anchor" href="#_pre_conditions_8"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports CNET.S.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has a Network Commissioning cluster on endpoint PIXIT.CNET.ENDPOINT_WIFI with FeatureMap attribute of 1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned on PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH can communicate with the DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="sect5">
<h6 id="_required_devices_52"><a class="anchor" href="#_required_devices_52"></a>Required Devices</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="_test_procedure_52"><a class="anchor" href="#_test_procedure_52"></a>Test Procedure</h6>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factory reset the DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission TH and DUT over BLE to setup the Wi-Fi</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>9.6</p>
</li>
<li>
<p>9.6.4.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH reads Descriptor Cluster from the DUT with EP0</p>
</li>
<li>
<p>TH reads ServerList from the DUT</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify for the presence of an element with value 49 (0x0031) in the ServerList. If the value is present, then continue with the test case</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.13.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads FeatureMap attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that FeatureMap attribute value is equal to 1. If the value is 1, then continue with the test case</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0000(MaxNetworks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the MaxNetworks attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that MaxNetworks attribute value is within a range of 1 to 255</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH saves the MaxNetworks attribute value as 'MaxNetworksValue' for future use</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.7.2</p>
</li>
<li>
<p>11.8.6.3</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the Networks attribute list from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that each element in the Networks attribute list has the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID field is of type octstr with a length range 1 to 32</p>
</li>
<li>
<p>The connected field is of type bool</p>
</li>
</ol>
</div>
</li>
<li>
<p>Verify that only one entry has connected status as TRUE and that entry has the NetworkID set to the hex representation of the ASCII values for the SSID of the Wi-Fi set up during commissioning</p>
</li>
<li>
<p>Verify that the number of entries in the <code>Networks</code> attribute is less than or equal to 'MaxNetworksValue'</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0002(ScanMaxTimeSeconds)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ScanMaxTimeSeconds attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that ScanMaxTimeSeconds attribute value is within the range of 1 to 255 seconds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0003(ConnectMaxTimeSeconds)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ConnectMaxTimeSeconds Attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that ConnectMaxTimeSeconds attribute value is within the range of 1 to 255 seconds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0004(InterfaceEnabled)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads InterfaceEnabled attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that InterfaceEnabled attribute value is true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0005(LastNetworkingStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads LastNetworkingStatus attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that LastNetworkingStatus attribute is Success</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0006(LastNetworkID)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH reads the LastNetworkID attribute from the DUT</p>
</li>
<li>
<p>TH reads the Networks attribute from the DUT</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that LastNetworkID attribute matches the NetworkID value of one of the entries in the Networks attribute list, or if the Networks attribute list is Empty, then LastNetworkID attribute value is null</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0007(LastConnectErrorValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the LastConnectErrorValue attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that LastConnectErrorValue attribute value is null</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0008(SupportedWiFiBands)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the SupportedWiFiBands attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that SupportedWiFiBands attribute value has 1 or more entries, all of which are in the range of WiFiBandEnum.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cnet_4_2_thread_verification_for_attributes_check_dut_server"><a class="anchor" href="#_tc_cnet_4_2_thread_verification_for_attributes_check_dut_server"></a>19.2.2. [TC-CNET-4.2] [Thread] Verification for attributes check [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_53"><a class="anchor" href="#_category_53"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_54"><a class="anchor" href="#_purpose_54"></a>Purpose</h5>
<div class="ulist">
<ul>
<li>
<p>Verifying the DUT is connected with the Thread interface</p>
</li>
<li>
<p>Verifying the following attributes check:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>DUT&#8217;s MaxNetworks attribute value needs to be within a range of 1 to 255</p>
</li>
<li>
<p>DUT&#8217;s Networks attribute list will follow the NetworkInfo structure for each entry</p>
</li>
<li>
<p>DUT&#8217;s ScanMaxTimeSeconds attribute value must be within 255 seconds</p>
</li>
<li>
<p>DUT&#8217;s ConnectMaxTimeSeconds attribute value must be within 255 seconds</p>
</li>
<li>
<p>DUT&#8217;s InterfaceEnabled attribute value must be True</p>
</li>
<li>
<p>DUT&#8217;s LastNetworkingStatus attribute value will be within any one of the following values Success, NetworkNotFound, OutOfRange, RegulatoryError, UnknownError, null</p>
</li>
<li>
<p>DUT&#8217;s LastNetworkID attribute value will be of type octstr with a length range of 1 to 32 and even null value</p>
</li>
<li>
<p>DUT&#8217;s LastConnectErrorValue attribute value must be null</p>
</li>
<li>
<p>DUT&#8217;s SupportedThreadFeatures attribute value must not be an empty bitmap.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pics_53"><a class="anchor" href="#_pics_53"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S.F01(TH)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_9"><a class="anchor" href="#_pre_conditions_9"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has a Network Commissioning cluster on endpoint PIXIT.CNET.ENDPOINT_THREAD with FeatureMap attribute of 2</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned on PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH can communicate with the DUT on PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_53"><a class="anchor" href="#_required_devices_53"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_53"><a class="anchor" href="#_test_procedure_53"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factory reset the DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission TH and DUT on Thread network</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>9.6</p>
</li>
<li>
<p>9.6.4.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH reads Descriptor Cluster from the DUT with EP0</p>
</li>
<li>
<p>TH reads ServerList from the DUT</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify for the presence of an element with value 49 (0x0031) in the ServerList. If the value is present, then continue with the test case</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.13.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads FeatureMap attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that FeatureMap attribute value is equal to 2. If the value is 2, then continue with the test case</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0000(MaxNetworks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the MaxNetworks attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that MaxNetworks attribute value is within a range of 1 to 255</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH saves the MaxNetworks attribute value as 'MaxNetworksValue' for future use</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.7.2</p>
</li>
<li>
<p>11.8.6.3</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the Networks attribute list from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that each element in the Networks attribute list has the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID field is of type octstr with a length range 1 to 32</p>
</li>
<li>
<p>The connected field is of type bool</p>
</li>
</ol>
</div>
</li>
<li>
<p>Verify that only one entry has connected status as TRUE and that entry has the NetworkID set to the XPAN of the thread network set up during commissioning</p>
</li>
<li>
<p>Verify that the number of entries in the <code>Networks</code> attribute is less than or equal to 'MaxNetworksValue'</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0002(ScanMaxTimeSeconds)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ScanMaxTimeSeconds attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that ScanMaxTimeSeconds attribute value is within the range of 1 to 255 seconds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0003(ConnectMaxTimeSeconds)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads ConnectMaxTimeSeconds Attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that ConnectMaxTimeSeconds attribute value is within the range of 1 to 255 seconds</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0004(InterfaceEnabled)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads InterfaceEnabled attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that InterfaceEnabled attribute value is true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0005(LastNetworkingStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads LastNetworkingStatus attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that LastNetworkingStatus attribute value is Success.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0006(LastNetworkID)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH reads the LastNetworkID attribute from the DUT</p>
</li>
<li>
<p>TH reads the Networks attribute from the DUT</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that LastNetworkID attribute matches the NetworkID value of one of the entries in the <code>Networks</code> attribute list, or if the Networks attribute list is Empty, then LastNetworkID attribute value is null</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0007(LastConnectErrorValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the LastConnectErrorValue attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that LastConnectErrorValue attribute value is null</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0009(SupportedThreadFeatures)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the SupportedThreadFeatures attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that SupportedThreadFeatures attribute value is an empty bitmap (value 0).<br>
Verify that Bit 4 (IsSynchronizedSleepyEndDeviceCapable) is only set if bit 2 (IsSleepyEndDeviceCapable) is also set.<br>
Verify that Bit 0 (IsBorderRouterCapable) is only set if bit 3 (IsFullThreadDevice) is also set<br>
Verify that Bit 1 (IsRouterCapable) is only set if bit 3 (IsFullThreadDevice) is also set.<br>
Verify that at least one of the following bits is set: Bit 4 (IsSynchronizedSleepyEndDeviceCapable), Bit 2 (IsSleepyEndDeviceCapable), Bit 3 (IsFullThreadDevice).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A000A(ThreadVersion)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the ThreadVersion attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that ThreadVersion attribute value is greater than or equal to 4.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cnet_4_3_ethernet_verification_for_attributes_check_dut_server"><a class="anchor" href="#_tc_cnet_4_3_ethernet_verification_for_attributes_check_dut_server"></a>19.2.3. [TC-CNET-4.3] [Ethernet] Verification for attributes check [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_54"><a class="anchor" href="#_category_54"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_55"><a class="anchor" href="#_purpose_55"></a>Purpose</h5>
<div class="ulist">
<ul>
<li>
<p>Verifying the DUT is connected with Ethernet interface</p>
</li>
<li>
<p>Verifying the following attributes check:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>DUT&#8217;s MaxNetworks attribute value needs to be within a range of 1 to 255</p>
</li>
<li>
<p>DUT&#8217;s Networks attribute list will follow the NetworkInfo structure for each entry</p>
</li>
<li>
<p>DUT&#8217;s InterfaceEnabled attribute value must be True</p>
</li>
<li>
<p>DUT&#8217;s LastNetworkingStatus attribute value will be within any one of the following values Success, NetworkNotFound, OutOfRange, RegulatoryError, UnknownError, null</p>
</li>
<li>
<p>DUT&#8217;s LastNetworkID attribute value will be of type octstr with a length range of 1 to 32 and even null value</p>
</li>
<li>
<p>DUT&#8217;s LastConnectErrorValue attribute value must be null</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pics_54"><a class="anchor" href="#_pics_54"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S.F02(ET)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_10"><a class="anchor" href="#_pre_conditions_10"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports CNET.S.F02(ET)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has a Network Commissioning cluster on endpoint PIXIT.CNET.ENDPOINT_ETHERNET with FeatureMap attribute of 4</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has a valid Ethernet connection</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH can communicate with the DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_54"><a class="anchor" href="#_required_devices_54"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_54"><a class="anchor" href="#_test_procedure_54"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factory reset the DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission TH and DUT on Ethernet setup</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>9.6</p>
</li>
<li>
<p>9.6.4.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH reads Descriptor Cluster from the DUT with EP0</p>
</li>
<li>
<p>TH reads ServerList from the DUT</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify for the presence of an element with value 49 (0x0031) in the ServerList. If the value is present, then continue with the test case</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.13.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads FeatureMap attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that FeatureMap attribute value is equal to 4. If the value is 4, If the value is 4, then continue with the test case</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0000(MaxNetworks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the MaxNetworks attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that MaxNetworks attribute value is within a range of 1 to 255</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH saves the MaxNetworks attribute value as 'MaxNetworksValue' for future use</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.7.2</p>
</li>
<li>
<p>11.8.6.3</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the Networks attribute list from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that each element in the Networks attribute list has the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID field is of type octstr with a length range 1 to 32</p>
</li>
<li>
<p>The connected field is of type bool</p>
</li>
</ol>
</div>
</li>
<li>
<p>Verify that only one entry has connected status as TRUE</p>
</li>
<li>
<p>Verify that the number of entries in the <code>Networks</code> attribute is less than or equal to 'MaxNetworksValue'</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0004(InterfaceEnabled)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads InterfaceEnabled attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that InterfaceEnabled attribute value is true</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0005(LastNetworkingStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads LastNetworkingStatus attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that LastNetworkingStatus attribute value is null</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0006(LastNetworkID)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH reads the LastNetworkID attribute from the DUT</p>
</li>
<li>
<p>TH reads the Networks attribute from the DUT</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that LastNetworkID attribute matches the NetworkID value of one of the entries in the <code>Networks</code> attribute list, or if the Networks attribute list is Empty, then LastNetworkID attribute value is null</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0007(LastConnectErrorValue)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the LastConnectErrorValue attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that LastConnectErrorValue attribute value is null</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cnet_4_4_wi_fi_verification_for_scannetworks_command_dut_server"><a class="anchor" href="#_tc_cnet_4_4_wi_fi_verification_for_scannetworks_command_dut_server"></a>19.2.4. [TC-CNET-4.4] [Wi-Fi] Verification for ScanNetworks command [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_55"><a class="anchor" href="#_category_55"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_56"><a class="anchor" href="#_purpose_56"></a>Purpose</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verification of ScanNetworks command for listing all available Wi-Fi networks within the range using a null value</p>
</li>
<li>
<p>Verification of ScanNetworks command for user-input SSID Wi-Fi network</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_55"><a class="anchor" href="#_pics_55"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S.F00(WI)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_11"><a class="anchor" href="#_pre_conditions_11"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports CNET.S.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has a Network Commissioning cluster on endpoint PIXIT.CNET.ENDPOINT_WIFI with FeatureMap attribute of 1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned on PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH can communicate with the DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_55"><a class="anchor" href="#_required_devices_55"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_55"><a class="anchor" href="#_test_procedure_55"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.2</p>
</li>
<li>
<p>11.8.8.3</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C00.Rsp(ScanNetworks)</p>
</li>
<li>
<p>CNET.S.C01.Tx(ScanNetworksResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ScanNetworks command to the DUT with the SSID field set to 'null' and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends ScanNetworksResponse command to the TH with the following fields:</p>
</li>
<li>
<p>NetworkingStatus is any one of the following values: Success, NetworkNotFound, OutOfRange, RegulatoryError, UnknownError</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or absent</p>
</li>
<li>
<p>Each element in the WiFiScanResults list will have the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Security is of type map8 with a length range 0 to 254</p>
</li>
<li>
<p>SSID is of type octstr with a length range 0 to 32</p>
</li>
<li>
<p>BSSID is of type octstr with a length of 6</p>
</li>
<li>
<p>Channel is of type uint16 with a range 0 to 65,535</p>
</li>
<li>
<p>Wi-Fi Band, if present, is of type enum8 with a range of -128 to 127</p>
</li>
<li>
<p>RSSI, if present, is of type int8 with a range of -120 to 0</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Breadcrumb attribute is set to 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2a</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.2</p>
</li>
<li>
<p>11.8.8.3</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C00.Rsp(ScanNetworks)</p>
</li>
<li>
<p>CNET.S.C01.Tx(ScanNetworksResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ScanNetworks Command to the DUT with SSID field set to PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID and Breadcrumb field set to 2</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends ScanNetworksResponse command to the TH with the following fields:</p>
</li>
<li>
<p>NetworkingStatus is Success</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or absent</p>
</li>
<li>
<p>WiFiScanResults list contains only one entry with the following fields and values:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Security is of type map8 with a length range 0 to 254</p>
</li>
<li>
<p>SSID is PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p>
</li>
<li>
<p>BSSID is of type octstr with a length of 6</p>
</li>
<li>
<p>Channel</p>
</li>
<li>
<p>WiFiBand, with a value present in the SupportedWiFiBands attribute.</p>
</li>
<li>
<p>RSSI, if present, is of type int8 with a range of -120 to 0</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Breadcrumb attribute is set to 2</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cnet_4_5_wi_fi_failsafe_required_message_validation_dut_server"><a class="anchor" href="#_tc_cnet_4_5_wi_fi_failsafe_required_message_validation_dut_server"></a>19.2.5. [TC-CNET-4.5] [Wi-Fi] FAILSAFE_REQUIRED message Validation [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_56"><a class="anchor" href="#_category_56"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_57"><a class="anchor" href="#_purpose_57"></a>Purpose</h5>
<div class="ulist">
<ul>
<li>
<p>Verify that DUT sends status code FAILSAFE_REQUIRED message for the following commands that are initiated before sending ArmFailSafe command by the TH:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>AddOrUpdateWiFiNetwork Command</p>
</li>
<li>
<p>RemoveNetwork Command and</p>
</li>
<li>
<p>ConnectNetwork command</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pics_56"><a class="anchor" href="#_pics_56"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S.F00(WI)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_12"><a class="anchor" href="#_pre_conditions_12"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports CNET.S.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has a Network Commissioning cluster on endpoint PIXIT.CNET.ENDPOINT_WIFI with FeatureMap attribute of 1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned on PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH can communicate with the DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_56"><a class="anchor" href="#_required_devices_56"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_56"><a class="anchor" href="#_test_procedure_56"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.4</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C02.Rsp(AddOrUpdateWiFiNetwork)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH sends the AddOrUpdateWiFiNetwork command to the DUT with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>SSID field set to PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p>
</li>
<li>
<p>Credentials field set to PIXIT.CNET.WIFI_1ST_ACCESSPOINT_CREDENTIALS</p>
</li>
<li>
<p>Breadcrumb field set to 1</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends FAILSAFE_REQUIRED status code message to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.8</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C02.Rsp(AddOrUpdateWiFiNetwork) &amp; CNET.S.C04.Rsp(RemoveNetwork)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends RemoveNetwork command to the DUT with NetworkID field set to PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends FAILSAFE_REQUIRED status code message to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.10</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C06.Rsp(ConnectNetwork)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ConnectNetwork command to the DUT with NetworkID field set to PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends FAILSAFE_REQUIRED status code message to the TH</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cnet_4_6_thread_failsafe_required_message_validation_dut_server"><a class="anchor" href="#_tc_cnet_4_6_thread_failsafe_required_message_validation_dut_server"></a>19.2.6. [TC-CNET-4.6] [Thread] FAILSAFE_REQUIRED message Validation [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_57"><a class="anchor" href="#_category_57"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_58"><a class="anchor" href="#_purpose_58"></a>Purpose</h5>
<div class="ulist">
<ul>
<li>
<p>Verify that DUT sends status code FAILSAFE_REQUIRED message for the following commands that are initiated before sending ArmFailSafe command by the TH:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>AddOrUpdateThreadNetwork Command</p>
</li>
<li>
<p>RemoveNetwork Command and</p>
</li>
<li>
<p>ConnectNetwork command</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pics_57"><a class="anchor" href="#_pics_57"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S.F01(TH)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_13"><a class="anchor" href="#_pre_conditions_13"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has a Network Commissioning cluster on endpoint PIXIT.CNET.ENDPOINT_THREAD with FeatureMap attribute of 2</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned on PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH can communicate with the DUT on PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_57"><a class="anchor" href="#_required_devices_57"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_57"><a class="anchor" href="#_test_procedure_57"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.5</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C03.Rsp(AddOrUpdateThreadNetwork)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH sends the AddOrUpdateThreadNetwork command to the DUT with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>OperationalDataset field set to PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p>
</li>
<li>
<p>Breadcrumb field set to 1</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends FAILSAFE_REQUIRED status code message to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.8</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C04.Rsp(RemoveNetwork)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends RemoveNetwork command to the DUT with NetworkID field set to PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends FAILSAFE_REQUIRED status code message to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.10</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C06.Rsp(ConnectNetwork)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ConnectNetwork command to the DUT with NetworkID field set to PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends FAILSAFE_REQUIRED status code message to the TH</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cnet_4_9_wi_fi_verification_for_removenetwork_command_dut_server"><a class="anchor" href="#_tc_cnet_4_9_wi_fi_verification_for_removenetwork_command_dut_server"></a>19.2.7. [TC-CNET-4.9] [Wi-Fi] Verification for RemoveNetwork Command [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_58"><a class="anchor" href="#_category_58"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_59"><a class="anchor" href="#_purpose_59"></a>Purpose</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verification for RemoveNetwork Command by removing a Wi-Fi network from the Networks list</p>
</li>
<li>
<p>Verification that network changes are reverted when fail safe times out</p>
</li>
<li>
<p>Verification that network changes are retained when CommissioningComplete command is called</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_58"><a class="anchor" href="#_pics_58"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S.F00(WI)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_14"><a class="anchor" href="#_pre_conditions_14"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports CNET.S.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has a Network Commissioning cluster on endpoint PIXIT.CNET.ENDPOINT_WIFI with FeatureMap attribute of 1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned on PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH can communicate with the DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_58"><a class="anchor" href="#_required_devices_58"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_58"><a class="anchor" href="#_test_procedure_58"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT and saves the number of entries as 'NumNetworks'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has an entry with the following values:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID field value as PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p>
</li>
<li>
<p>Connected field value is of type bool and has the value true</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH finds the index of the Networks list entry with NetworkID field value PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID and saves it as 'Userwifi_netidx'</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.8</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C04.Rsp(RemoveNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends RemoveNetwork Command to the DUT with NetworkID field set to PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse to command with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success</p>
</li>
<li>
<p>NetworkIndex is 'Userwifi_netidx'</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has 'NumNetworks' - 1 entries</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0005(LastNetworkingStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads LastNetworkingStatus attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends LastNetworkingStatus as Success which is 0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.7.6
*11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0006(LastNetworkID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads LastNetworkID attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends LastNetworkID as PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C04.Rsp(RemoveNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning cluster of the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the breadcrumb value is set to 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C04.Rsp(RemoveNetwork) &amp; CNET.S.C06.Rsp(ConnectNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ConnectNetwork command to the DUT with NetworkID field set to PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID and Breadcrumb field set to 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a ConnectNetworkResponse to the command with the NetworkingStatus field set to NetworkIdNotFound</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C04.Rsp(RemoveNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning cluster of the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the breadcrumb value is set to 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list contains 'NumNetworks' entries and has an entry with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID is the hex representation of the ASCII values for PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p>
</li>
<li>
<p>Connected is of type bool and has the value true</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.8</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C04.Rsp(RemoveNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends RemoveNetwork Command to the DUT with NetworkID field set to PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse to command with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success</p>
</li>
<li>
<p>NetworkIndex is 'Userwifi_netidx'</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C04.Rsp(RemoveNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the CommissioningComplete command to the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends CommissioningCompleteResponse with the ErrorCode field set to OK (0)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 0 to ensure the CommissioningComplete call properly persisted the failsafe context. This call should have no effect if Commissioning Complete call is handled correctly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has 'NumNetworks' - 1 entries and does NOT contain an entry with the NetworkID for PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cnet_4_10_thread_verification_for_removenetwork_command_dut_server"><a class="anchor" href="#_tc_cnet_4_10_thread_verification_for_removenetwork_command_dut_server"></a>19.2.8. [TC-CNET-4.10] [Thread] Verification for RemoveNetwork Command [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_59"><a class="anchor" href="#_category_59"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_60"><a class="anchor" href="#_purpose_60"></a>Purpose</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verification for RemoveNetwork Command by removing a thread network from the Networks list</p>
</li>
<li>
<p>Verification that network changes are reverted when fail safe times out</p>
</li>
<li>
<p>Verification that network changes are retained when CommissioningComplete command is called</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_59"><a class="anchor" href="#_pics_59"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S.F01(TH)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_15"><a class="anchor" href="#_pre_conditions_15"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has a Network Commissioning cluster on endpoint PIXIT.CNET.ENDPOINT_THREAD with FeatureMap attribute of 2</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned on PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH can communicate with the DUT on PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_59"><a class="anchor" href="#_required_devices_59"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_59"><a class="anchor" href="#_test_procedure_59"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads Networks attribute from the DUT and save the number of entries as 'NumNetworks'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has an entry with the following values:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID field value as the extended PAN ID for PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p>
</li>
<li>
<p>Connected field value is of type bool and has the value true</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH finds the index of the Networks list entry with NetworkID field value PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET and saves it as 'Userth_netidx'</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* 11.8.8.8
* 11.8.8.9</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C04.Rsp(RemoveNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends RemoveNetwork Command to the DUT with NetworkID field set to PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse to command with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success</p>
</li>
<li>
<p>NetworkIndex is 'Userth_netidx'</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has 'NumNetworks' - 1 entries</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0005(LastNetworkingStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads LastNetworkingStatus attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends LastNetworkingStatus as Success which is 0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.7.6
*11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0006(LastNetworkID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads LastNetworkID attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends LastNetworkID as the extended PAN ID of PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C04.Rsp(RemoveNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning cluster of the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the breadcrumb value is set to 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C04.Rsp(RemoveNetwork) &amp; CNET.S.C06.Rsp(ConnectNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ConnectNetwork command to the DUT with NetworkID field set to the extended PAN ID of PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET and Breadcrumb field set to 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a ConnectNetworkResponse to the command with the NetworkingStatus field set to NetworkIdNotFound</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C04.Rsp(RemoveNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning cluster of the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the breadcrumb value is set to 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list contains 'NumNetworks' entries and has an entry with the following values:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID field value as the extended PAN ID of PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p>
</li>
<li>
<p>Connected field value is of type bool and has the value true</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.8</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C04.Rsp(RemoveNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends RemoveNetwork Command to the DUT with NetworkID field set to extended PAN ID of PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse to command with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success</p>
</li>
<li>
<p>NetworkIndex is 'Userth_netidx'</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C04.Rsp(RemoveNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the CommissioningComplete command to the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends CommissioningCompleteResponse with the ErrorCode field set to OK (0)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 0 to ensure the CommissioningComplete call properly persisted the failsafe context. This call should have no effect if Commissioning Complete call is handled correctly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has 'NumNetworks' - 1 entries and does NOT contain an entry with the NetworkID field set to the extended PAN ID of PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cnet_4_11_wi_fi_verification_for_connectnetwork_command_dut_server"><a class="anchor" href="#_tc_cnet_4_11_wi_fi_verification_for_connectnetwork_command_dut_server"></a>19.2.9. [TC-CNET-4.11] [Wi-Fi] Verification for ConnectNetwork Command [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_60"><a class="anchor" href="#_category_60"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_61"><a class="anchor" href="#_purpose_61"></a>Purpose</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that the Wi-Fi network is connected using the ConnectNetwork Command</p>
</li>
<li>
<p>Verify that changes are reverted successfully after a failsafe timeout</p>
</li>
<li>
<p>Verify that changes are persisted successfully after a CommissioningComplete command</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_60"><a class="anchor" href="#_pics_60"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S.F00(WI)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_16"><a class="anchor" href="#_pre_conditions_16"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports CNET.S.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has a Network Commissioning cluster on endpoint PIXIT.CNET.ENDPOINT_WIFI with FeatureMap attribute of 1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned on PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH can connect to two valid Wi-Fi access points: PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID and PIXIT.CNET.WIFI_2ND_ACCESSPOINT_SSID</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_60"><a class="anchor" href="#_required_devices_60"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_60"><a class="anchor" href="#_test_procedure_60"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT and saves the number of entries as 'NumNetworks'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has an entry with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID is the hex representation of the ASCII values for PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p>
</li>
<li>
<p>Connected is of type bool and is TRUE</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH finds the index of the Networks list entry with NetworkID for PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID and saves it as 'Userwifi_netidx'</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.8</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C04.Rsp(RemoveNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends RemoveNetwork Command to the DUT with NetworkID field set to PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse to command with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is Success</p>
</li>
<li>
<p>NetworkIndex matches previously saved 'Userwifi_netidx'</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.4</p>
</li>
<li>
<p>11.8.8.6</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C02.Rsp(AddOrUpdateWiFiNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends AddOrUpdateWiFiNetwork command to the DUT with SSID field set to PIXIT.CNET.WIFI_2ND_ACCESSPOINT_SSID, Credentials field set to PIXIT.CNET.WIFI_2ND_ACCESSPOINT_CREDENTIALS and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends the NetworkConfigResponse command to the TH with the following response fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success which is "0"</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has an entry with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID is the hex representation of the ASCII values for PIXIT.CNET.WIFI_2ND_ACCESSPOINT_SSID</p>
</li>
<li>
<p>Connected is of type bool and is FALSE</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C06.Rsp(ConnectNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ConnectNetwork command to the DUT with NetworkID field set to PIXIT.CNET.WIFI_2ND_ACCESSPOINT_SSID and Breadcrumb field set to 2</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH changes its WiFi connection to PIXIT.CNET.WIFI_2ND_ACCESSPOINT_SSID</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH discovers and connects to DUT on the PIXIT.CNET.WIFI_2ND_ACCESSPOINT_SSID operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH successfully connects to the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C06.Rsp(ConnectNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning cluster of the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the breadcrumb value is set to 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 0. This forcibly disarms the fail-safe and is expected to cause the changes of configuration to NetworkCommissioning cluster done so far to be reverted.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH changes its Wi-Fi connection to PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH discovers and connects to DUT on the PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH successfully connects to the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* 11.8.8.8</p>
<p class="tableblock">* 11.8.8.9</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C04.Rsp(RemoveNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends RemoveNetwork Command to the DUT with NetworkID field set to PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse to command with the following response fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success</p>
</li>
<li>
<p>NetworkIndex is 'Userwifi_netidx'</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* 11.8.8.4
* 11.8.8.6
* 11.8.8.9</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C02.Rsp(AddOrUpdateWiFiNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends AddOrUpdateWiFiNetwork command to the DUT with SSID field set to PIXIT.CNET.WIFI_2ND_ACCESSPOINT_SSID, Credentials field set to PIXIT.CNET.WIFI_2ND_ACCESSPOINT_CREDENTIALS and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends the NetworkConfigResponse command to the TH with the following response fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success which is "0"</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.10</p>
</li>
<li>
<p>11.8.8.11</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C06.Rsp(ConnectNetwork)</p>
</li>
<li>
<p>CNET.S.C07.Tx(ConnectNetworkResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ConnectNetwork command to the DUT with NetworkID field set to PIXIT.CNET.WIFI_2ND_ACCESSPOINT_SSID and Breadcrumb field set to 3</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH changes its Wi-Fi connection to PIXIT.CNET.WIFI_2ND_ACCESSPOINT_SSID</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH discovers and connects to DUT on the PIXIT.CNET.WIFI_2ND_ACCESSPOINT_SSID operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH successfully connects to the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C06.Rsp(ConnectNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning cluster of the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the breadcrumb value is set to 3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the CommissioningComplete command to the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends CommissioningCompleteResponse with the ErrorCode field set to OK (0)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has an entry with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID is the hex representation of the ASCII values for PIXIT.CNET.WIFI_2ND_ACCESSPOINT_SSID</p>
</li>
<li>
<p>Connected is of type bool and is TRUE</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_48"><a class="anchor" href="#_notestesting_considerations_48"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Test Steps #11- #16 cannot be executed with V1.0 SDK</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cnet_4_12_thread_verification_for_connectnetwork_command_dut_server"><a class="anchor" href="#_tc_cnet_4_12_thread_verification_for_connectnetwork_command_dut_server"></a>19.2.10. [TC-CNET-4.12] [Thread] Verification for ConnectNetwork Command [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_61"><a class="anchor" href="#_category_61"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_62"><a class="anchor" href="#_purpose_62"></a>Purpose</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that the time taken by DUT to make successful connectivity is within ConnectMaxTimeSeconds by thread network</p>
</li>
<li>
<p>Verify that the thread network is connected using the ConnectNetwork Command</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_61"><a class="anchor" href="#_pics_61"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S.F01(TH)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_17"><a class="anchor" href="#_pre_conditions_17"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has a Network Commissioning cluster on endpoint PIXIT.CNET.ENDPOINT_THREAD with FeatureMap attribute of 2</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned on PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH has can communicate to two valid thread PANs: PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET and PIXIT.CNET.THREAD_2ND_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">XPANID of PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET is saved as <code>th_xpan</code> and the XPANID of PIXIT.CNET.THREAD_2ND_OPERATIONALDATASET is saved as <code>th_xpan1</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_61"><a class="anchor" href="#_required_devices_61"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_61"><a class="anchor" href="#_test_procedure_61"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT responds with ArmFailSafeResponse to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT and saves the number of entries as 'NumNetworks'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has an entry with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID is <code>th_xpan</code></p>
</li>
<li>
<p>Connected is of type bool and is TRUE</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH saves the index of the Networks list entry from step 2 as <code>Userth_netidx</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.8</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C04.Rsp(RemoveNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends RemoveNetwork Command to the DUT with NetworkID field set to <code>th_xpan</code> and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse to command with the following response fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success</p>
</li>
<li>
<p>NetworkIndex is <code>Userth_netidx</code></p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.5</p>
</li>
<li>
<p>11.8.8.6</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C03.Rsp(AddOrUpdateThreadNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends AddOrUpdateThreadNetwork command to the DUT with operational dataset field set to PIXIT.CNET.THREAD_2ND_OPERATIONALDATASET and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends the NetworkConfigResponse command to the TH with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success which is "0"</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has an entry with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID is <code>th_xpan</code></p>
</li>
<li>
<p>Connected is of type bool and is FALSE</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C06.Rsp(ConnectNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ConnectNetwork command to the DUT with NetworkID field set to PIXIT.CNET.THREAD_2ND_OPERATIONALDATASET and Breadcrumb field set to 2</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH discovers and connects to DUT on the PIXIT.CNET.THREAD_2ND_OPERATIONALDATASET operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH successfully connects to the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C06.Rsp(ConnectNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning cluster of the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the breadcrumb value is set to 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH ensures it can communicate on PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH discovers and connects to DUT on the PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH successfully connects to the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* 11.8.8.8
* 11.8.8.9</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C04.Rsp(RemoveNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends RemoveNetwork Command to the DUT with NetworkID field set to <code>th_xpan</code> and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse to command with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success</p>
</li>
<li>
<p>NetworkIndex is 'Userth_netidx'</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* 11.8.8.5
* 11.8.8.6
* 11.8.8.9</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C03.Rsp(AddOrUpdateThreadNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends AddOrUpdateThreadNetwork command to the DUT with the OperationalDataset field set to PIXIT.CNET.THREAD_2ND_OPERATIONALDATASET and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends the NetworkConfigResponse command to the TH with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success which is "0"</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.10</p>
</li>
<li>
<p>11.8.8.11</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C06.Rsp(ConnectNetwork)</p>
</li>
<li>
<p>CNET.S.C07.Tx(ConnectNetworkResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ConnectNetwork command to the DUT with NetworkID field set to the extended PAN ID of PIXIT.CNET.THREAD_2ND_OPERATIONALDATASET and Breadcrumb field set to 3</p></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH discovers and connects to DUT on the PIXIT.CNET.THREAD_2ND_OPERATIONALDATASET operational network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH successfully connects to the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.C06.Rsp(ConnectNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning cluster of the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the breadcrumb value is set to 3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the CommissioningComplete command to the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends CommissioningCompleteResponse with the ErrorCode field set to OK (0)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has an entry with the following values:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID field value as the extended PAN ID of PIXIT.CNET.THREAD_2ND_OPERATIONALDATASET</p>
</li>
<li>
<p>Connected field value is of type bool and is TRUE</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cnet_4_13_wi_fi_verification_for_reordernetwork_command_dut_server"><a class="anchor" href="#_tc_cnet_4_13_wi_fi_verification_for_reordernetwork_command_dut_server"></a>19.2.11. [TC-CNET-4.13] [Wi-Fi] Verification for ReorderNetwork command [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_62"><a class="anchor" href="#_category_62"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_63"><a class="anchor" href="#_purpose_63"></a>Purpose</h5>
<div class="paragraph">
<p>Verify that the Networks list is re-ordered when using ReorderNetwork Command</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_62"><a class="anchor" href="#_pics_62"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S.F00(WI)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_18"><a class="anchor" href="#_pre_conditions_18"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission TH and DUT over BLE to setup the Wi-Fi on PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.6.4.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The cluster Identifier  49 (0x0031) is present in the ServerList attribute</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.13.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The FeatureMap attribute value is 1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_62"><a class="anchor" href="#_required_devices_62"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_62"><a class="anchor" href="#_test_procedure_62"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads MaxNetworks attribute from DUT and is saved as 'MaxNetworksValue' for future use</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>If MaxNetworksValue is &lt; 2, skip the remaining steps.</p>
</li>
<li>
<p>Note: This test case is applicable for MaxNetworksValue &gt;= 2</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* 11.9.7.1
* 11.9.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT and saves the number of entries as 'NumNetworks'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has an entry with the following values:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID field value as PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p>
</li>
<li>
<p>Connected field value is of type bool and has the value true</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH calculates the number of remaining network slots as 'MaxNetworksValue' - 'NumNetworks' and saves as 'RemainingNetworkSlots'</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH calculates the midpoint of the network list as floor(('MaxNetworksValue' + 1)/2) and saves as 'Midpoint'</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.4</p>
</li>
<li>
<p>11.8.8.6</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C02.Rsp(AddOrUpdateWiFiNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends AddOrUpdateWiFiNetwork command to the DUT. This step should be repeated 'RemainingNetworkSlots' times using DIFFERENT SSID and credential values and the Breadcrumb field set to 1. Note that these credentials are NOT required to be connectable.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends the NetworkConfigResponse to each command with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success which is "0"</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT and saves the list as 'OriginalNetworkList'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has 'MaxNetworkValues' entries and contains one entry for each network added in step 5.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.12</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C08.Rsp(ReorderNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH sends ReorderNetwork Command to the DUT with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID is PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p>
</li>
<li>
<p>NetworkIndex is 'MaxNetworksValue'</p>
</li>
<li>
<p>Breadcrumb is 2</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse to the TH with following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is OutOfRange</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Breadcrumb attribute is set to 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.12</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C08.Rsp(ReorderNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH sends ReorderNetwork Command to the DUT with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID is a NetworkID value NOT present in 'OriginalNetworkList'</p>
</li>
<li>
<p>NetworkIndex is 'Midpoint'</p>
</li>
<li>
<p>Breadcrumb is 2</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse to the TH with following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is NetworkIdNotFound</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Breadcrumb attribute is set to 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.12</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C08.Rsp(ReorderNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH sends ReorderNetwork Command to the DUT with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID is PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p>
</li>
<li>
<p>NetworkIndex is 'Midpoint'</p>
</li>
<li>
<p>Breadcrumb is 2</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse to the TH with following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
<li>
<p>NetworkIndex value as 'Midpoint'</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Breadcrumb attribute is set to 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute list from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that Networks attribute list has the following properties:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>List item with NetworkID value the hex representation of the ASCII values for PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID in position 'Midpoint'</p>
</li>
<li>
<p>Other list items in same relative order as 'OriginalNetworkList'</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute list from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that Networks attribute list ordering matches 'OriginalNetworkList'</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.4</p>
</li>
<li>
<p>11.8.8.6</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C02.Rsp(AddOrUpdateWiFiNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends AddOrUpdateWiFiNetwork command to the DUT. This step should be repeated 'RemainingNetworkSlots' times using DIFFERENT SSID and credential values and Breadcrumb field set to 1. Note that these credentials are NOT required to be connectable.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends the NetworkConfigResponse command to each command to the TH with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success which is "0"</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.12</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C08.Rsp(ReorderNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH sends ReorderNetwork Command to the DUT with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID is PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p>
</li>
<li>
<p>NetworkIndex is 'Midpoint'</p>
</li>
<li>
<p>Breadcrumb is 2</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse Command to the TH with following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
<li>
<p>NetworkIndex is 'Midpoint'</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the CommissioningComplete command to the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends CommissioningCompleteResponse with the ErrorCode field set to OK (0)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute list from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that Networks attribute list has the following properties:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>List item with NetworkID value PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID in position 'Midpoint'</p>
</li>
<li>
<p>Other list items in same relative order as 'OriginalNetworkList'</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cnet_4_14_thread_verification_for_reordernetwork_command_dut_server"><a class="anchor" href="#_tc_cnet_4_14_thread_verification_for_reordernetwork_command_dut_server"></a>19.2.12. [TC-CNET-4.14] [Thread] Verification for ReorderNetwork command [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_63"><a class="anchor" href="#_category_63"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_64"><a class="anchor" href="#_purpose_64"></a>Purpose</h5>
<div class="paragraph">
<p>Verify that the Networks list is re-ordered when using ReorderNetwork Command</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_63"><a class="anchor" href="#_pics_63"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S.F01(TH)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_19"><a class="anchor" href="#_pre_conditions_19"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission TH and DUT on Thread setup on PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.6.4.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The cluster Identifier  49 (0x0031) is present in the ServerList attribute</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.13.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The FeatureMap attribute value is 2</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_63"><a class="anchor" href="#_required_devices_63"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_63"><a class="anchor" href="#_test_procedure_63"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads MaxNetworks attribute from DUT and is saved as 'MaxNetworksValue' for future use</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>If MaxNetworksValue is &lt; 2, skip the remaining steps.</p>
</li>
<li>
<p>Note: This test case is applicable for MaxNetworksValue &gt;= 2</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">* 11.9.7.1
* 11.9.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT and saves the number of entries as 'NumNetworks'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has an entry with the following values:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID field value as the extended PAN ID of PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p>
</li>
<li>
<p>Connected field value is of type bool and has the value true</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH calculates the number of remaining network slots as 'MaxNetworksValue' - 'NumNetworks' and saves as 'RemainingNetworkSlots'</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH calculates the midpoint of the network list as floor(('MaxNetworksValue' + 1)/2) and saves as 'Midpoint'</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.5</p>
</li>
<li>
<p>11.8.8.6</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C03.Rsp(AddOrUpdateThreadNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends AddOrUpdateThreadNetwork command to the DUT. This step should be repeated 'RemainingNetworkSlots' times using DIFFERENT OperationalDataset values and Breadcrumb set to 1. Note that these credentials are NOT required to be connectable.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends the NetworkConfigResponse command to each command to the TH with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success, which is "0"</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute from the DUT and saves the list as 'OriginalNetworkList'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Networks attribute list has 'MaxNetworkValues' entries and contains one entry for each network added in step 5.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.12</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C08.Rsp(ReorderNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH sends ReorderNetwork Command to the DUT with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID is the extended PAN ID of PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p>
</li>
<li>
<p>NetworkIndex is 'MaxNetworksValue'</p>
</li>
<li>
<p>Breadcrumb is 2</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse to the TH with following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is OutOfRange</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Breadcrumb attribute is set to 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.12</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C08.Rsp(ReorderNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH sends ReorderNetwork Command to the DUT with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID is a NetworkID NOT present in 'OriginalNetworkList'</p>
</li>
<li>
<p>NetworkIndex is 'Midpoint'</p>
</li>
<li>
<p>Breadcrumb is 2</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse to the TH with following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is NetworkIdNotFound</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Breadcrumb attribute is set to 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.12</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C08.Rsp(ReorderNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH sends ReorderNetwork Command to the DUT with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID is the extended PAN ID of PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p>
</li>
<li>
<p>NetworkIndex is 'Midpoint'</p>
</li>
<li>
<p>Breadcrumb is 2</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse Command to the TH with following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
<li>
<p>NetworkIndex value as 'Midpoint'</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Breadcrumb attribute is set to 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute list from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that Networks attribute list has the following properties:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>List item with NetworkID value of the extended PAN ID of PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET in position 'Midpoint'</p>
</li>
<li>
<p>Other list items in same relative order as 'OriginalNetworkList'</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute list from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that Networks attribute list ordering matches 'OriginalNetworkList'</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.5</p>
</li>
<li>
<p>11.8.8.6</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C03.Rsp(AddOrUpdateThreadNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends AddOrUpdateThreadNetwork command to the DUT. This step should be repeated 'RemainingNetworkSlots' times using DIFFERENT OperationalDataset values and Breadcrumb set to 1. Note that these credentials are NOT required to be connectable.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends the NetworkConfigResponse command to each command to the TH with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success, which is "0"</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.12</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C08.Rsp(ReorderNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH sends ReorderNetwork Command to the DUT with the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkID is the extended PAN ID of PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p>
</li>
<li>
<p>NetworkIndex is 'Midpoint'</p>
</li>
<li>
<p>Breadcrumb is 2</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends NetworkConfigResponse Command to the TH with following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NetworkingStatus is success</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or empty</p>
</li>
<li>
<p>NetworkIndex value as 'Midpoint'</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the CommissioningComplete command to the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends CommissioningCompleteResponse with the ErrorCode field set to OK (0)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with ExpiryLengthSeconds set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.S.A0001(Networks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Networks attribute list from the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that Networks attribute list has the following properties:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>List item with NetworkID value with the extended PAN ID of PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET in position 'Midpoint'</p>
</li>
<li>
<p>Other list items in same relative order as 'OriginalNetworkList'</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cnet_4_15_wi_fi_networkidnotfound_returned_in_lastnetworkingstatus_field_validation_dut_server"><a class="anchor" href="#_tc_cnet_4_15_wi_fi_networkidnotfound_returned_in_lastnetworkingstatus_field_validation_dut_server"></a>19.2.13. [TC-CNET-4.15] [Wi-Fi] NetworkIDNotFound returned in LastNetworkingStatus field validation [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_64"><a class="anchor" href="#_category_64"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_65"><a class="anchor" href="#_purpose_65"></a>Purpose</h5>
<div class="ulist">
<ul>
<li>
<p>Verify that DUT responds with LastNetworkingStatus field set to NetworkIDNotFound for the following commands when the NetworkID does not exist:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>RemoveNetwork Command</p>
</li>
<li>
<p>ConnectNetwork Command</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pics_64"><a class="anchor" href="#_pics_64"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S.F00(WI)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_20"><a class="anchor" href="#_pre_conditions_20"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports CNET.S.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has a Network Commissioning cluster on endpoint PIXIT.CNET.ENDPOINT_WIFI with FeatureMap attribute of 1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is factory reset</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned on PIXIT.CNET.WIFI_1ST_ACCESSPOINT_SSID</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH can communicate with the DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT MaxNetworks attribute value is at least 1 and is saved as 'MaxNetworksValue' for future use</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_64"><a class="anchor" href="#_required_devices_64"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_64"><a class="anchor" href="#_test_procedure_64"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with the ExpiryLengthSeconds field set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.8</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C04.Rsp(RemoveNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends RemoveNetwork Command to the DUT with NetworkID field set to PIXIT.CNET.WIFI_2ND_ACCESSPOINT_SSID, which does not match the provisioned network, and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends NetworkConfigResponse command to the TH1 with NetworkingStatus field set as NetworkIDNotFound which is '3'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.10</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C06.Rsp(ConnectNetwork)</p>
</li>
<li>
<p>CNET.S.C07.Tx(ConnectNetworkResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ConnectNetwork Command to the DUT with NetworkID field set to PIXIT.CNET.WIFI_2ND_ACCESSPOINT_SSID, which does not match the provisioned network, and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ConnectNetworkResponse command to the TH1 with NetworkingStatus field as NetworkIDNotFound which is '3'</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cnet_4_16_thread_networkidnotfound_returned_in_lastnetworkingstatus_field_validation_dut_server"><a class="anchor" href="#_tc_cnet_4_16_thread_networkidnotfound_returned_in_lastnetworkingstatus_field_validation_dut_server"></a>19.2.14. [TC-CNET-4.16] [Thread] NetworkIDNotFound returned in LastNetworkingStatus field validation [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_65"><a class="anchor" href="#_category_65"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_66"><a class="anchor" href="#_purpose_66"></a>Purpose</h5>
<div class="ulist">
<ul>
<li>
<p>Verify that DUT responds with LastNetworkingStatus field set to NetworkIDNotFound for the following commands when the NetworkID does not exist:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>RemoveNetwork Command</p>
</li>
<li>
<p>ConnectNetwork Command</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pics_65"><a class="anchor" href="#_pics_65"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S.F01(TH)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_21"><a class="anchor" href="#_pre_conditions_21"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has a Network Commissioning cluster on endpoint PIXIT.CNET.ENDPOINT_THREAD with FeatureMap attribute of 2</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is factory reset</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned on PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH can communicate with the DUT on PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT MaxNetworks attribute value is at least 1 and is saved as 'MaxNetworksValue' for future use</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_65"><a class="anchor" href="#_required_devices_65"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_65"><a class="anchor" href="#_test_procedure_65"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.9.7.1</p>
</li>
<li>
<p>11.9.7.2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ArmFailSafe command to the DUT with the ExpiryLengthSeconds field set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ArmFailSafeResponse command to the TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.8</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C04.Rsp(RemoveNetwork)</p>
</li>
<li>
<p>CNET.S.C05.Tx(NetworkConfigResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends RemoveNetwork Command to the DUT with NetworkID field set to the extended PAN ID of PIXIT.CNET.THREAD_2ND_OPERATIONALDATASET, which does not match the commissioned network, and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends NetworkConfigResponse command to the TH1 with NetworkingStatus field set to NetworkIDNotFound which is '3'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.10</p>
</li>
<li>
<p>11.8.8.9</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C06.Rsp(ConnectNetwork)</p>
</li>
<li>
<p>CNET.S.C07.Tx(ConnectNetworkResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ConnectNetwork Command to the DUT with NetworkID value as the extended PAN ID of PIXIT.CNET.THREAD_2ND_OPERATIONALDATASET, which does not match the commissioned network, and Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends ConnectNetworkResponse command to the TH1 with NetworkingStatus field set to NetworkIDNotFound which is '3'</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cnet_4_22_thread_verification_for_scannetworks_command_dut_server"><a class="anchor" href="#_tc_cnet_4_22_thread_verification_for_scannetworks_command_dut_server"></a>19.2.15. [TC-CNET-4.22] [Thread] Verification for ScanNetworks command [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_66"><a class="anchor" href="#_category_66"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_67"><a class="anchor" href="#_purpose_67"></a>Purpose</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verification of ScanNetworks command for listing all available Thread networks within the range</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_66"><a class="anchor" href="#_pics_66"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.S.F01(TH)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_22"><a class="anchor" href="#_pre_conditions_22"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports CNET.S.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has a Network Commissioning cluster on endpoint PIXIT.CNET.ENDPOINT_THREAD with FeatureMap attribute of 2</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned on PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH can communicate with the DUT on PIXIT.CNET.THREAD_1ST_OPERATIONALDATASET</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_66"><a class="anchor" href="#_required_devices_66"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_66"><a class="anchor" href="#_test_procedure_66"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>11.8.8.2</p>
</li>
<li>
<p>11.8.8.3</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C00.Rsp(ScanNetworks)</p>
</li>
<li>
<p>CNET.S.C01.Tx(ScanNetworksResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ScanNetworks command to the DUT with the SSID field omitted and the Breadcrumb field set to 1</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends ScanNetworksResponse command to the TH with the following fields:</p>
</li>
<li>
<p>NetworkingStatus field value will be any one of the following values: Success, NetworkNotFound, OutOfRange, RegulatoryError, UnknownError</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or absent</p>
</li>
<li>
<p>Each element in the ThreadScanResults list will have the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>PanId with a range of 0 to 65534</p>
</li>
<li>
<p>ExtendedPanId</p>
</li>
<li>
<p>NetworkName is a string with a size of 1 to 16 bytes</p>
</li>
<li>
<p>Channel is of type uint16 with a range 0 to 65535</p>
</li>
<li>
<p>Version is a uint8</p>
</li>
<li>
<p>ExtendedAddress is a hwaddr with a size of 8 bytes</p>
</li>
<li>
<p>RSSI is an of type int8 with a range of -120 to 0</p>
</li>
<li>
<p>LQI is a uint8</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Breadcrumb attribute is set to 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C00.Rsp(ScanNetworks)</p>
</li>
<li>
<p>CNET.S.C01.Tx(ScanNetworksResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ScanNetworks command to the DUT with the SSID field set to null and the Breadcrumb field set to 2</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends ScanNetworksResponse command to the TH with the following fields:</p>
</li>
<li>
<p>NetworkingStatus is any one of the following values: Success, NetworkNotFound, OutOfRange, RegulatoryError, UnknownError</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or absent</p>
</li>
<li>
<p>Each element in the ThreadScanResults list will have the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>PanId with a range of 0 to 65534</p>
</li>
<li>
<p>ExtendedPanId</p>
</li>
<li>
<p>NetworkName is a string with a size of 1 to 16 bytes</p>
</li>
<li>
<p>Channel is of type uint16 with a range 0 to 65535</p>
</li>
<li>
<p>Version is a uint8</p>
</li>
<li>
<p>ExtendedAddress is a hwaddr with a size of 8 bytes</p>
</li>
<li>
<p>RSSI is an of type int8 with a range of -120 to 0</p>
</li>
<li>
<p>LQI is a uint8</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Breadcrumb attribute is set to 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>CNET.S.C00.Rsp(ScanNetworks)</p>
</li>
<li>
<p>CNET.S.C01.Tx(ScanNetworksResponse)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ScanNetworks command to the DUT with the SSID field set to a random string of ASCII characters with a size of between 1 and 31 characters and the Breadcrumb field set to 3</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT sends ScanNetworksResponse command to the TH with the following fields:</p>
</li>
<li>
<p>NetworkingStatus is any one of the following values: Success, NetworkNotFound, OutOfRange, RegulatoryError, UnknownError</p>
</li>
<li>
<p>DebugText is of type string with max length 512 or absent</p>
</li>
<li>
<p>Each element in the ThreadScanResults list will have the following fields:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>PanId with a range of 0 to 65534</p>
</li>
<li>
<p>ExtendedPanId</p>
</li>
<li>
<p>NetworkName is a string with a size of 1 to 16 bytes</p>
</li>
<li>
<p>Channel is of type uint16 with a range 0 to 65535</p>
</li>
<li>
<p>Version is a uint8</p>
</li>
<li>
<p>ExtendedAddress is a hwaddr with a size of 8 bytes</p>
</li>
<li>
<p>RSSI is an of type int8 with a range of -120 to 0</p>
</li>
<li>
<p>LQI is a uint8</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads Breadcrumb attribute from the General Commissioning Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Breadcrumb attribute is set to 3</p></td>
</tr>
</tbody>
</table>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_dut_as_client_2"><a class="anchor" href="#_dut_as_client_2"></a>19.3. DUT as Client</h3>
<hr>
<div class="sect3">
<h4 id="_tc_cnet_4_20_wi_fi_verification_for_commands_check_dut_client"><a class="anchor" href="#_tc_cnet_4_20_wi_fi_verification_for_commands_check_dut_client"></a>19.3.1. [TC-CNET-4.20] [Wi-Fi] Verification for commands check  [DUT-Client]</h4>
<div class="sect4">
<h5 id="_category_67"><a class="anchor" href="#_category_67"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_68"><a class="anchor" href="#_purpose_68"></a>Purpose</h5>
<div class="paragraph">
<p>Verify the DUT is able to correctly send all commands to the TH</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_67"><a class="anchor" href="#_pics_67"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.C.F00(WI)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_23"><a class="anchor" href="#_pre_conditions_23"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports CNET.C.F00(WI)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH has a Network Commissioning cluster on endpoint PIXIT.CNET.ENDPOINT_WIFI with FeatureMap attribute of 1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_67"><a class="anchor" href="#_required_devices_67"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_67"><a class="anchor" href="#_test_procedure_67"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C00.Tx(ScanNetworks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the ScanNetwork command to the TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH receives the ScanNetwork command from the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the ArmFailSafe command to the TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH receives the ArmFailSafeResponse command from the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C02.Tx(AddOrUpdateWiFiNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the AddOrUpdateWiFiNetwork command to the TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH receives the AddOrUpdateWiFiNetwork command from the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C06.Tx(ConnectNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the ConnectNetwork command to the TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH receives the ConnectNetwork command from the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C08.Tx(ReorderNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the ReorderNetwork command to the TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH receives the ReorderNetwork command from the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C04.Tx(RemoveNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the RemoveNetwork command to the TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH receives the RemoveNetwork command from the DUT</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cnet_4_21_thread_verification_for_commands_check_dut_client"><a class="anchor" href="#_tc_cnet_4_21_thread_verification_for_commands_check_dut_client"></a>19.3.2. [TC-CNET-4.21] [Thread] Verification for commands check  [DUT-Client]</h4>
<div class="sect4">
<h5 id="_category_68"><a class="anchor" href="#_category_68"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_69"><a class="anchor" href="#_purpose_69"></a>Purpose</h5>
<div class="paragraph">
<p>Verify the DUT is able to correctly send all commands to the TH</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_68"><a class="anchor" href="#_pics_68"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CNET.C.F01(TH)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_24"><a class="anchor" href="#_pre_conditions_24"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports CNET.C.F01(TH)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH has a Network Commissioning cluster on endpoint PIXIT.CNET.ENDPOINT_THREAD with FeatureMap attribute of 2</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_68"><a class="anchor" href="#_required_devices_68"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_68"><a class="anchor" href="#_test_procedure_68"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 15%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C00.Tx(ScanNetworks)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the ScanNetwork command to the TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If CNET.C.C00.Tx(ScanNetworks), TH receives the ScanNetwork command from the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the ArmFailSafe command to the TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If CGEN.S.C00.Rsp(ArmFailSafe), TH receives the ArmFailSafeResponse command from the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C03.Tx(AddOrUpdateThreadNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the AddOrUpdateThreadNetwork command to the TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If CNET.C.C03.Tx(AddOrUpdateThreadNetwork), TH receives the AddOrUpdateThreadNetwork command from the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C06.Tx(ConnectNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the ConnectNetwork command to the TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If CNET.C.C06.Tx(ConnectNetwork), TH receives the ConnectNetwork command from the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C08.Tx(ReorderNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the ReorderNetwork command to the TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If CNET.C.C08.Tx(ReorderNetwork), TH receives the ReorderNetwork command from the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.8.8.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CNET.C.C04.Tx(RemoveNetwork)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the RemoveNetwork command to the TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If CNET.C.C04.Tx(RemoveNetwork),TH receives the RemoveNetwork command from the DUT</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<h1 id="_secure_channel_test_plan" class="sect0"><a class="anchor" href="#_secure_channel_test_plan"></a><strong>Secure Channel Test Plan</strong></h1>
<div class="sect1">
<h2 id="_pics_definition_6"><a class="anchor" href="#_pics_definition_6"></a>20. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Secure Channel related PICS items that are referenced in the following test cases.  Support for an item is considered as "true" for conditional statements within the test case steps.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.VENDOR_SUBTYPE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does device support optional subtype _V in commissionable node discovery mDNS?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.DEVTYPE_SUBTYPE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does device support optional subtype _T in commissionable node discovery mDNS?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.VP_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does device support optional key VP in commissionable node discovery mDNS?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.DT_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does device support optional key DT in commissionable node discovery mDNS?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.DN_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does device support optional key DN in commissionable node discovery mDNS?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.RI_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does device support optional key RI in commissionable node discovery mDNS?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.PH_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does device support optional key PH in commissionable node discovery mDNS?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.PI_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does device support optional key PI in commissionable node discovery mDNS?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.SII_OP_DISCOVERY_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does device support optional key SII in operational discovery mDNS?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.SAI_OP_DISCOVERY_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does device support optional key SII in operational discovery mDNS?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.SAT_OP_DISCOVERY_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does device support optional key SAT in operational discovery mDNS?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.T_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does device support optional key SII in operational discovery mDNS?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.DT_CONTROLLER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the DUT a Controller?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.SII_COMM_DISCOVERY_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does device support optional key SII in commissionable node discovery mDNS?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.SAI_COMM_DISCOVERY_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does device support optional key SAI in commissionable node discovery mDNS?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.EXTENDED_DISCOVERY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does device support Extended Discovery for Commissionable Node Discovery?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.SIT_ICD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Short Idle Time ICD?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.ADV</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Controller DUT support Service Advertising?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DD.COMM_DISCOVERY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support advertising Commissioner Discovery service records?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0002(VendorID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support VendorID attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.LWIP</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does Device support LwIP stack?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.F00(BC)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support Basic Commissioning Method</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_server_4"><a class="anchor" href="#_server_4"></a>20.1. Server</h3>
<div class="sect3">
<h4 id="_commands_received_4"><a class="anchor" href="#_commands_received_4"></a>20.1.1. Commands received</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support Enhanced Commissioning Method (ECM)?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support Basic Commissioning Method (BCM)?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.F00(BC)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Additionally, these PICS items from the ICDM cluster are used in this test plan - these definitions are copies from the relevant test plan:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ICDM.S.A0002(ActiveModeThreshold)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the ActiveModeThreshold attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ICDM.S:M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_test_case_list_5"><a class="anchor" href="#_test_case_list_5"></a>21. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>TC UUID</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Case Name</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRP Max Messaging Size Verification - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRP Message Flows - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRP Retransmissions - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MRP Message Counter and Duplicate Messaging Verification - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-2.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PASE Session Establishment - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PASE Bidirectional Connection Session Establishment - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PASE Error Handling [DUT_Responder/Commissionee] - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-2.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PASE Error Handling [DUT_Initiator/Commissioner] - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CASE Session Establishment - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CASE Session Resumption [DUT_Responder] - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-3.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CASE Session Resumption [DUT_Initiator] - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-3.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CASE Error Handling [DUT_Responder] - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-3.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CASE Error Handling [DUT_Initiator] - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-3.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CASE Resource validation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-4.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionable Node Discovery [DUT as Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-4.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Discovery [DUT as Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-4.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Discovery [DUT as Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-4.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Discovery [DUT as Controller]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-4.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Discovery [DUT as Commissionee][Thread] - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-4.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner Discovery [DUT as Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-4.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner Discovery [DUT as Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-4.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compressed Fabric ID remains the same for Nodes commissioned to the same fabric [DUT as Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-4.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operational Discovery - RIO support [DUT as Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-4.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operational Discovery - Sleepy Node [DUT as Commissionee]</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases_5"><a class="anchor" href="#_test_cases_5"></a>22. Test Cases</h2>
<div class="sectionbody">
<hr>
<div class="sect2">
<h3 id="_matter_reliable_message_protocol_mrp_test_cases"><a class="anchor" href="#_matter_reliable_message_protocol_mrp_test_cases"></a>22.1. Matter Reliable Message Protocol (MRP) Test Cases</h3>
<div class="sect3">
<h4 id="_tc_sc_1_1_mrp_max_message_size_removed"><a class="anchor" href="#_tc_sc_1_1_mrp_max_message_size_removed"></a>22.1.1. [TC-SC-1.1] MRP Max Message Size - REMOVED</h4>
<div class="sect4">
<h5 id="_category_69"><a class="anchor" href="#_category_69"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_70"><a class="anchor" href="#_purpose_70"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT handles large messages as per the specification</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_69"><a class="anchor" href="#_pics_69"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_36"><a class="anchor" href="#_preconditions_36"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT and TH are on the same fabric and joined to the same Matter network</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has implemented/supports the Matter Echo protocol</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_69"><a class="anchor" href="#_required_devices_69"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness acting as a node on a Matter network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device acting as a node on a Matter network</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_25"><a class="anchor" href="#_device_topology_25"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_14"><a class="anchor" href="#_test_setup_14"></a>Test Setup</h5>
<div class="paragraph">
<p>Commission DUT to TH, if not done so already.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_69"><a class="anchor" href="#_test_procedure_69"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 9.0909%;">
<col style="width: 9.0909%;">
<col style="width: 36.3636%;">
<col style="width: 36.3637%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.4.4 (Message Size Requirements)</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a single message to DUT with a message size <strong>equal to</strong> 1280 bytes inclusive of headers and reliability flag set to 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with an acknowledgement of receipt.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.4.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a single message to DUT with a message size <strong>larger than</strong> 1280 bytes and reliability flag set to 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT ignore the message and no response is sent.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_49"><a class="anchor" href="#_notestesting_considerations_49"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_1_2_mrp_message_flows_removed"><a class="anchor" href="#_tc_sc_1_2_mrp_message_flows_removed"></a>22.1.2. [TC-SC-1.2] MRP Message Flows - REMOVED</h4>
<div class="sect4">
<h5 id="_category_70"><a class="anchor" href="#_category_70"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_71"><a class="anchor" href="#_purpose_71"></a>Purpose</h5>
<div class="paragraph">
<p>Verify that MRP handles and processes messages accordingly with flags set in the message header.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_70"><a class="anchor" href="#_pics_70"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_37"><a class="anchor" href="#_preconditions_37"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 11.1111%;">
<col style="width: 55.5555%;">
<col style="width: 22.2223%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT and TH are on the same fabric and joined to the same Matter network</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has implemented/supports the Matter Echo protocol</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_70"><a class="anchor" href="#_required_devices_70"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 14.2857%;">
<col style="width: 71.4286%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness acting as a node on a Matter network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device acting as a node on a Matter network</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_26"><a class="anchor" href="#_device_topology_26"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_15"><a class="anchor" href="#_test_setup_15"></a>Test Setup</h5>
<div class="paragraph">
<p>Commission DUT to TH, if not done so already.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_70"><a class="anchor" href="#_test_procedure_70"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 9.0909%;">
<col style="width: 9.0909%;">
<col style="width: 36.3636%;">
<col style="width: 36.3637%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.11.2.2, 4.11.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a reliable (R flag set) MRP message to DUT that requires a data response.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.11.2.2, 4.11.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must respond to the message with a MRP reply packet that piggybacks the ACK(A flag set).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should piggyback the ACKs of the message in the reply to TH.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.11.2.2, 4.11.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a reliable (R flag set) MRP message to DUT that doesn’t require a data response.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must receive the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.11.2.2, 4.11.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must respond to the message with an ACK message.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must sent only the ACK packet to TH.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.11.2.2, 4.11.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends 5 unreliable (R flag not set) MRP messages to DUT that requires a data response.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT may receive the messages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.11.2.2, 4.11.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must respond to the message with a MRP reply packet that doesn’t piggyback the ACK (A flag not set).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should send only a MRP reply packet to TH with no ACK piggybacked or sent in a separate message.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_50"><a class="anchor" href="#_notestesting_considerations_50"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_1_3_mrp_retransmissions_removed"><a class="anchor" href="#_tc_sc_1_3_mrp_retransmissions_removed"></a>22.1.3. [TC-SC-1.3] MRP Retransmissions - REMOVED</h4>
<div class="sect4">
<h5 id="_category_71"><a class="anchor" href="#_category_71"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance - Negative Testing</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_72"><a class="anchor" href="#_purpose_72"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the message is dropped after the max number of failed attempts</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_71"><a class="anchor" href="#_pics_71"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_38"><a class="anchor" href="#_preconditions_38"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT and TH are on the same fabric and joined to the same Matter network</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has implemented/supports the Matter Echo protocol</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_71"><a class="anchor" href="#_required_devices_71"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness acting as a node on a Matter network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device acting as a node on a Matter network</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_27"><a class="anchor" href="#_device_topology_27"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_16"><a class="anchor" href="#_test_setup_16"></a>Test Setup</h5>
<div class="paragraph">
<p>Commission DUT to TH, if not done so already.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_71"><a class="anchor" href="#_test_procedure_71"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 9.0909%;">
<col style="width: 9.0909%;">
<col style="width: 36.3636%;">
<col style="width: 36.3637%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Simulate TH to ignore all messages received by DUT (100% message loss)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.11.2.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a message to TH with the R flag set to 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that no reply is received by the DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.11.2.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a retransmission of the message in step 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the message is sent after waiting for MRP_RETRY_INTERVAL_IDLE milliseconds.  Verify that no response is received by the DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.11.2.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT continues to send retransmissions of the message in step 2 up to MRP_MAX_TRANSMISSIONS times.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT stops sending messages after a total of MRP_MAX_TRANSMISSIONS - 1 messages have been sent.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_51"><a class="anchor" href="#_notestesting_considerations_51"></a>Notes/Testing considerations</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Step 3 - The DUT should also start operational discovery in parallel with retransmission and the DUT should also be able to receive discovery packets during this test.  Associated verification steps are not yet included here due to a desire to keep test cases separated/single-purpose, but we may add a combined test case at a later point.</p>
</li>
<li>
<p>Step 3 - The value for MRP_RETRY_INTERVAL_IDLE should be obtained by the TH from the DNS-SD TXT record for the node if present.  If it is not available, then the default value is 5000 ms.</p>
</li>
<li>
<p>Step 4 - The default value for MRP_MAX_TRANSMISSIONS is 4.</p>
</li>
</ol>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_1_4_mrp_message_counter_and_duplicate_messaging_removed"><a class="anchor" href="#_tc_sc_1_4_mrp_message_counter_and_duplicate_messaging_removed"></a>22.1.4. [TC-SC-1.4] MRP message counter and duplicate messaging - REMOVED</h4>
<div class="sect4">
<h5 id="_category_72"><a class="anchor" href="#_category_72"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance - Negative testing</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_73"><a class="anchor" href="#_purpose_73"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that duplicate messages are discarded.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_72"><a class="anchor" href="#_pics_72"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_39"><a class="anchor" href="#_preconditions_39"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT and TH are on the same fabric and joined to the same Matter network</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has implemented/supports the Matter Echo protocol</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_72"><a class="anchor" href="#_required_devices_72"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness acting as a node on a Matter network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device acting as a node on a Matter network</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_28"><a class="anchor" href="#_device_topology_28"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_17"><a class="anchor" href="#_test_setup_17"></a>Test Setup</h5>
<div class="paragraph">
<p>Commission DUT to TH, if not done so already.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_72"><a class="anchor" href="#_test_procedure_72"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 9.0909%;">
<col style="width: 9.0909%;">
<col style="width: 36.3636%;">
<col style="width: 36.3637%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a message to DUT with the R flag set to 1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with an acknowledgement message with the A flag set and the Acknowledged Message Counter field set to the Message Counter of the received message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.11.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a duplicate message to the DUT, with the R flag set to 1 and the same message counter as the message in step 1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds with an acknowledgement message with the A flag set and the Acknowledged Message Counter field set to the Message Counter of the received message.</p>
<p class="tableblock">Verify that the DUT takes no further action on duplicate messages.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_52"><a class="anchor" href="#_notestesting_considerations_52"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_session_establishment"><a class="anchor" href="#_session_establishment"></a>22.2. Session Establishment</h3>
<hr>
<div class="sect3">
<h4 id="_tc_sc_2_1_session_establishment_passcode_authenticated_session_establishment_pase_removed"><a class="anchor" href="#_tc_sc_2_1_session_establishment_passcode_authenticated_session_establishment_pase_removed"></a>22.2.1. [TC-SC-2.1] Session Establishment - Passcode Authenticated Session Establishment (PASE) - REMOVED</h4>
<div class="sect4">
<h5 id="_category_73"><a class="anchor" href="#_category_73"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_74"><a class="anchor" href="#_purpose_74"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT can successfully establish a session using a passcode and Password Authenticated Key Agreement (PAKE), which for now is only used when commissioning a node.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_73"><a class="anchor" href="#_pics_73"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_40"><a class="anchor" href="#_preconditions_40"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec 4.13.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator has obtained the Matter passcode and that the responder has the relevant CHIP_Crypto_PAKEValues_Responder corresponding to the passcode</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_73"><a class="anchor" href="#_required_devices_73"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness acting as a node on a Matter network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device acting as a node on a Matter network</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_73"><a class="anchor" href="#_test_procedure_73"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 30%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator constructs and sends a TLV-encoded PBKDFParamRequest message</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that the responder receives the PBKDFParamRequest message.</p>
</div>
<div class="paragraph">
<p>Verify that the protocol header is properly constructed:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Message Flags: S Flag is set to 0, and DSIZ field is set to 0</p>
</li>
<li>
<p>Session ID is set to 0</p>
</li>
<li>
<p>Security Flags: Session Type bits are set to 0</p>
</li>
<li>
<p>Exchange Flags: I Flag is set to 1</p>
</li>
<li>
<p>Protocol Opcode is set to 32 (0x20)</p>
</li>
<li>
<p>Protocol ID is set to 0</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Verify, if possible in a debug mode, that the PBKDFParamRequest message contains:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>initiatorRandom  - randomly generated 32-bit octet string</p>
</li>
<li>
<p>initiatorSessionId  - max size 16-bits unsigned integer that does not overlap with existing initiator session identifiers</p>
</li>
<li>
<p>passcodeId  - max size 16-bits unsigned integer</p>
</li>
<li>
<p>hasPBKDFParameters  - boolean</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If hasPBKDFParameters is set to true then PBKDF parameters are not known for the given passcodeId</p>
</li>
<li>
<p>If hasPBKDFParameters is set to false then PBKDF parameters are known for the given passcodeId</p>
</li>
</ol>
</div>
</li>
<li>
<p>initiatorSessionParams - optional session-parameter-struct which contains</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SESSION_IDLE_INTERVAL - max size 32-bits unsigned integer</p>
</li>
<li>
<p>SESSION_ACTIVE_INTERVAL - max size 32-bits unsigned integer</p>
</li>
<li>
<p>SESSION_ACTIVE_THRESHOLD - max size 16-bits unsigned integer</p>
</li>
</ol>
</div>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responder verifies the passcodeID, constructs and sends a TLV-encoded PBKDFParamResponse message</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that the Initiator receives the PBKDFParamResponse message.</p>
</div>
<div class="paragraph">
<p>Verify that the protocol header is properly constructed:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Message Flags: S Flag is set to 0, and DSIZ field is set to 0</p>
</li>
<li>
<p>Session ID is set to 0</p>
</li>
<li>
<p>Security Flags: Session Type bits are set to 0</p>
</li>
<li>
<p>Exchange Flags: I Flag is set to 0</p>
</li>
<li>
<p>Protocol Opcode is set to 33 (0x21)</p>
</li>
<li>
<p>Protocol ID is set to 0</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Verify, if possible in a debug mode, that the PBKDFParamResponse message contains:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>initiatorRandom  - value from the PBKDFParamRequest message</p>
</li>
<li>
<p>responderRandom  - randomly generated 32-bit octet string</p>
</li>
<li>
<p>responderSessionId  - max size 16-bits unsigned integer that does not overlap with existing that does not overlap with existing responder session identifiers</p>
</li>
<li>
<p>pbkdf_parameters</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>If  hasPBKDFParameters from the PBKDFParamRequest message is true, then pbkdf_parameters should not be included.</p>
</li>
<li>
<p>If  hasPBKDFParameters from the PBKDFParamRequest message is false, then PBKDFParameters should contain a + Crypto_PBKDFParameterSet struct with values for iterations (max size 32 bit unsigned integer) and<br>
salt (octet string with a minimum of 16 bits and maximum of 32 bits)</p>
</li>
</ol>
</div>
</li>
<li>
<p>responderSessionParams - optional session-parameter-struct</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>SESSION_IDLE_INTERVAL - max size 32-bits unsigned integer</p>
</li>
<li>
<p>SESSION_ACTIVE_INTERVAL - max size 32-bits unsigned integer</p>
</li>
<li>
<p>SESSION_ACTIVE_THRESHOLD - max size 16-bits unsigned integer</p>
</li>
</ol>
</div>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2,</p>
<p class="tableblock">3.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator constructs and sends a TLV-encoded Pake1 message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Responder receives the Pake1 message.</p>
<p class="tableblock">Verify that the protocol header is properly constructed:</p>
<p class="tableblock">1. Message Flags: S Flag is set to 0, and DSIZ field is set to 0</p>
<p class="tableblock">2. Session ID is set to 0</p>
<p class="tableblock">3. Security Flags: Session Type bits are set to 0</p>
<p class="tableblock">4. Exchange Flags: I Flag is set to 1</p>
<p class="tableblock">5. Protocol Opcode is set to 34 (0x22)</p>
<p class="tableblock">6. Protocol ID is set to 0</p>
<p class="tableblock">Verify, if possible in a debug mode, that the Pake1 message contains:</p>
<p class="tableblock">1. pA - 65 bit octet string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2,</p>
<p class="tableblock">3.5,</p>
<p class="tableblock">3.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responder constructs and sends a TLV-encoded Pake2 message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Initiator receives the Pake2 message.</p>
<p class="tableblock">Verify that the protocol header is properly constructed:</p>
<p class="tableblock">1. Message Flags: S Flag is set to 0, and DSIZ field is set to 0</p>
<p class="tableblock">2. Session ID is set to 0</p>
<p class="tableblock">3. Security Flags: Session Type bits are set to 0</p>
<p class="tableblock">4. Exchange Flags: I Flag is set to 0</p>
<p class="tableblock">5. Protocol Opcode is set to 35 (0x23)</p>
<p class="tableblock">6. Protocol ID is set to 0</p>
<p class="tableblock">Verify, if possible in a debug mode, that the Pake1 message contains:</p>
<p class="tableblock">1. pB - 65 bit octet string</p>
<p class="tableblock">2. cB - 32 bit octet string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2,</p>
<p class="tableblock">3.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator constructs and sends a TLV-encoded Pake3 message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Responder receives the Pake3 message.</p>
<p class="tableblock">Verify that the protocol header is properly constructed:</p>
<p class="tableblock">1. Message Flags: S Flag is set to 0, and DSIZ field is set to 0</p>
<p class="tableblock">2. Session ID is set to 0</p>
<p class="tableblock">3. Security Flags: Session Type bits are set to 0</p>
<p class="tableblock">4. Exchange Flags: I Flag is set to 1</p>
<p class="tableblock">5. Protocol Opcode is set to 36 (0x24)</p>
<p class="tableblock">6. Protocol ID is set to 0</p>
<p class="tableblock">Verify, if possible in a debug mode, that the Pake3 message contains:</p>
<p class="tableblock">1. cA - 32 bit octet string</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2,</p>
<p class="tableblock">4.9.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responder validates Pake3, then constructs and sends a status report (PakeFinished) message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Initiator receives the status report/PakeFinished message.</p>
<p class="tableblock">Verify that the status report contains:</p>
<p class="tableblock">1. GeneralCode - SUCCESS (value 0)</p>
<p class="tableblock">2. ProtocolId - SECURE_CHANNEL (value 0x0000)</p>
<p class="tableblock">3. ProtocolCode - SESSION_ESTABLISHMENT_SUCCESS (value 0x0000)</p>
<p class="tableblock">Verify that the initiator has not sent any encrypted data to the responder prior to receiving PakeFinished.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_53"><a class="anchor" href="#_notestesting_considerations_53"></a>Notes/Testing considerations</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Step 1 and Step 3 - Potentially non-testable item - Session IDs, InitiatorSessionId in this case, should not overlap.</p>
</li>
<li>
<p>Can we check session context somehow?</p>
</li>
</ol>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_2_2_bidirectional_communication_passcode_authenticated_session_establishment_pase_removed"><a class="anchor" href="#_tc_sc_2_2_bidirectional_communication_passcode_authenticated_session_establishment_pase_removed"></a>22.2.2. [TC-SC-2.2] Bidirectional Communication - Passcode Authenticated Session Establishment (PASE) - REMOVED</h4>
<div class="sect4">
<h5 id="_category_74"><a class="anchor" href="#_category_74"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_75"><a class="anchor" href="#_purpose_75"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the initiator and responder can successfully send and receive encrypted messages</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_74"><a class="anchor" href="#_pics_74"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_41"><a class="anchor" href="#_preconditions_41"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec-4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator and Responder have completed session establishment (TC 6.2.1)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_74"><a class="anchor" href="#_required_devices_74"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness acting as a node on a Matter network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device acting as a node on a Matter network</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_29"><a class="anchor" href="#_device_topology_29"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_18"><a class="anchor" href="#_test_setup_18"></a>Test Setup</h5>
<div class="paragraph">
<p>The device set up as Commissioner is the Initiator and the device serving as Commissionee is the Responder</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_74"><a class="anchor" href="#_test_procedure_74"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator uses I2RKey to encrypt and send a message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responder receives the encrypted message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responder uses I2RKey to decrypt the message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responder is able to decrypt the message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Responder uses R2IKey to encrypt and send a message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator receives the encrypted message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator uses R2IKey to decrypt the message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator is able to decrypt the message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An error is encountered in initiator or responder decryption</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Session is terminated and keys are cleared from memory</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_54"><a class="anchor" href="#_notestesting_considerations_54"></a>Notes/Testing considerations</h5>
<div class="paragraph">
<p>This test case needs to be cleaned up to provide additional context about preconditions, possibly merged with the main PASE test case.  TODO</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_2_3_pase_error_handling_dut_respondercommissionee_removed"><a class="anchor" href="#_tc_sc_2_3_pase_error_handling_dut_respondercommissionee_removed"></a>22.2.3. [TC-SC-2.3] PASE Error Handling [DUT_Responder/Commissionee] - REMOVED</h4>
<div class="sect4">
<h5 id="_category_75"><a class="anchor" href="#_category_75"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance - Negative testing</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_76"><a class="anchor" href="#_purpose_76"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT can properly respond to error cases during PASE messaging</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_75"><a class="anchor" href="#_pics_75"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_42"><a class="anchor" href="#_preconditions_42"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec 4.12.1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator has obtained the Matter passcode and that the responder has the relevant CHIP_Crypto_PAKEValues_Responder corresponding to the passcode</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_75"><a class="anchor" href="#_required_devices_75"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness acting as a initiator node on a Matter network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device acting as a responder node on a Matter network</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_30"><a class="anchor" href="#_device_topology_30"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_19"><a class="anchor" href="#_test_setup_19"></a>Test Setup</h5>
<div class="paragraph">
<p>The TH is set up as a Commissioner/Initiator and the DUT as a Commissionee/Responder</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_75"><a class="anchor" href="#_test_procedure_75"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH generates and sends PBKDFParamRequest with an invalid passcodeID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT receives the PBKDFParamRequest message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT verifies the passcodeID.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT fails verification of the passcodeID and sends a status report to the TH with a FAILURE general code (value 1), protocol ID of SECURE_CHANNEL (0x0000), and Protocol code of INVALID_PARAMETER (0X0002). Verify that the DUT performs no further processing after sending the status report.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH generates and sends PBKDFParamRequest with a valid passcodeID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT receives the PBKDFParamRequest message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT verifies the passcodeID.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT passes verification, then constructs and sends a PBKDFParamResponse message.  Verify that the TH receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH generates and sends Pake1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT receives the Pake1 message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT generates and sends Pake2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives the Pake2 message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH generates and sends Pake3 with an invalid key confirmation message (cA)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT receives the Pake3 message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2f</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT verifies Pake3.cA.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT fails verification and sends a status report to the TH with a FAILURE general code (value 1), protocol ID of SECURE_CHANNEL (0x0000), and Protocol code of INVALID_PARAMETER (0X0002). Verify that the DUT performs no further processing after sending the status report.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_55"><a class="anchor" href="#_notestesting_considerations_55"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_2_4_pase_error_handling_dut_initiatorcommissioner_removed"><a class="anchor" href="#_tc_sc_2_4_pase_error_handling_dut_initiatorcommissioner_removed"></a>22.2.4. [TC-SC-2.4] PASE Error Handling [DUT_Initiator/Commissioner] - REMOVED</h4>
<div class="sect4">
<h5 id="_category_76"><a class="anchor" href="#_category_76"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance - Negative testing</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_77"><a class="anchor" href="#_purpose_77"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT can properly respond to error cases during PASE messaging</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_76"><a class="anchor" href="#_pics_76"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_43"><a class="anchor" href="#_preconditions_43"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spec-4.12.1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator has obtained the Matter passcode and that the responder has the relevant CHIP_Crypto_PAKEValues_Responder corresponding to the passcode</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_76"><a class="anchor" href="#_required_devices_76"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness acting as a responder node on a Matter network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device acting as a initiator node on a Matter network</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_31"><a class="anchor" href="#_device_topology_31"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_20"><a class="anchor" href="#_test_setup_20"></a>Test Setup</h5>
<div class="paragraph">
<p>The DUT  set up as a Commissioner/Initiator and the TH as a Commissionee/Responder</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_76"><a class="anchor" href="#_test_procedure_76"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT generates and sends PBKDFParamRequest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives the PBKDFParamRequest message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH generates and sends PBKDFParamResponse</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT receives the PBKDFParamResponse message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT generates and sends Pake1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives the Pake1 message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH generates and sends Pake2 with an invalid key confirmation message (cB)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT receives the Pake2 message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.1.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT verifies Pake2.cB.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT fails verification and sends a status report to the TH with a <em>FAILURE</em> general code (value 1), protocol ID of <em>SECURE_CHANNEL</em> (0x0000), and Protocol code of <em>INVALID_PARAMETER</em> (0X0002). Verify that the DUT performs no further processing after sending the status report.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_56"><a class="anchor" href="#_notestesting_considerations_56"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_certificate_authenticated_session_establishment_case_test_cases"><a class="anchor" href="#_certificate_authenticated_session_establishment_case_test_cases"></a>22.3. Certificate Authenticated Session Establishment (CASE) Test Cases</h3>
<hr>
<div class="sect3">
<h4 id="_tc_sc_3_1_session_establishment_removed"><a class="anchor" href="#_tc_sc_3_1_session_establishment_removed"></a>22.3.1. [TC-SC-3.1] Session Establishment - REMOVED</h4>
<div class="sect4">
<h5 id="_category_77"><a class="anchor" href="#_category_77"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_78"><a class="anchor" href="#_purpose_78"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the initiator and responder can establish a sessions to successfully send and receive encrypted messages</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_77"><a class="anchor" href="#_pics_77"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_44"><a class="anchor" href="#_preconditions_44"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Underlying transport is reliable, either implicitly (i.e.: TCP) or explicitly (i.e.: MRP)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_77"><a class="anchor" href="#_required_devices_77"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness acting as a node on a Matter network - Initiator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT acting as a node on a Matter network -Responder</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_77"><a class="anchor" href="#_test_procedure_77"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH and the DUT are commissioned.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Send Read Request from Initiator (TH) to Responder (DUT)</p>
</li>
<li>
<p>Note: Example for Read Request could be reading OnOff attribute value from OnOff Cluster</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the responder sends response to Read Request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator (TH) sends a Close Session message to the Responder (DUT)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator (TH) triggers a CASE session resumption. This can be accomplished in the TH using a read attribute command, which will trigger a session resumption before reading since it has no active session.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p>
<p class="tableblock">4.4.1</p>
<p class="tableblock">4.4.3.4</p>
<p class="tableblock">4.4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator constructs and sends a TLV-encoded Sigma1 message containing a random initiation value, destination identifier, session identifier, the public key for its ephemeral key pair, and optional MRP parameters and sends the message to the Responder.</p>
<p class="tableblock">1. I Flag is set to 1 (Initiator)</p>
<p class="tableblock">2. S flag and DSIZ fields of message flags are set to 0 (Source and Destination Node ID not present)</p>
<p class="tableblock">3. The message payload follows the sigma-1-struct TLV encoding format</p>
<p class="tableblock">4. The Session Type field is set to 0 (Unicast)</p>
<p class="tableblock">5. The Protocol ID field is set to 0 (PROTOCOL_ID_SECURE_CHANNEL)</p>
<p class="tableblock">6. Protocol Opcode field is set to 48 (0x30) (Case Sigma 1)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p>
<p class="tableblock">4.13.2.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Upon receiving the Sigma1 message the responder proceeds to generate a Sigma 2 message.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Initiator receives Sigma2 message from the Responder.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.2</p>
<p class="tableblock">4.4.1</p>
<p class="tableblock">4.4.3.4</p>
<p class="tableblock">4.4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Sigma 2 message having the following values:</p>
<p class="tableblock">1. I flag is set to 0 (Responder)</p>
<p class="tableblock">2. S flag and DSIZ fields of message flags are set to 0 (Source and Destination Node ID not present)</p>
<p class="tableblock">3. The message payload follows the sigma-2-struct TLV encoding format</p>
<p class="tableblock">4. The Session Type field is set to 0 (Unicast)</p>
<p class="tableblock">5. The Protocol ID field is set to 0 (PROTOCOL_ID_SECURE_CHANNEL)</p>
<p class="tableblock">6. Protocol Opcode field is set to 49 (0x31) (CASE Sigma2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p>
<p class="tableblock">3.6.2</p>
<p class="tableblock">4.9.1.6</p>
<p class="tableblock">3.5.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator generates a shared secret, generates a S2K key, and decrypts and verifies the message data, node operational certificate (NOC),  and signature data.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator constructs and sends a TLV-encoded Sigma3 message containing encrypted integrity data.</p>
<p class="tableblock">1. I Flag is set to 1 (Initiator)</p>
<p class="tableblock">2. S flag and DSIZ fields of message flags are set to 0 (Source and Destination Node ID not present)</p>
<p class="tableblock">3. The message payload follows the sigma-3-struct TLV encoding format</p>
<p class="tableblock">4. The Session Type field is set to 0 (Unicast)</p>
<p class="tableblock">5. The Protocol ID field is set to 0 (PROTOCOL_ID_SECURE_CHANNEL)</p>
<p class="tableblock">6.  Protocol Opcode field is set to 50 (0x32) (CASE Sigma3)</p>
<p class="tableblock">the initiator moves to the next step to send a Sigma3 message to the Responder.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p>
<p class="tableblock">3.6.2</p>
<p class="tableblock">4.9.1.6</p>
<p class="tableblock">3.5.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the session is established and the responder sends a SigmaFinished StatusReport message with GeneralCode <em>SUCCESS</em>, ProtocolId <em>PROTOCOL_ID_SECURE_CHANNEL</em>, and ProtocolCode <em>SessionEstablishmentSuccess</em>.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_57"><a class="anchor" href="#_notestesting_considerations_57"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_3_2_case_session_resumption_dut_responder"><a class="anchor" href="#_tc_sc_3_2_case_session_resumption_dut_responder"></a>22.3.2. [TC-SC-3.2] CASE Session Resumption [DUT_Responder]</h4>
<div class="sect4">
<h5 id="_category_78"><a class="anchor" href="#_category_78"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_79"><a class="anchor" href="#_purpose_79"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the initiator and responder can successfully resume a CASE exchange</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_78"><a class="anchor" href="#_pics_78"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_45"><a class="anchor" href="#_preconditions_45"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 18.1818%;">
<col style="width: 36.3636%;">
<col style="width: 36.3637%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Underlying transport is reliable, either implicitly (i.e.: TCP) or explicitly (i.e.: MRP)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CASE was previously successfully completed between the Initiator and Responder and the previous session context is known by both nodes.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_78"><a class="anchor" href="#_required_devices_78"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 44.4444%;">
<col style="width: 44.4445%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness acting as a node on a Matter network - Initiator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT acting as a node on a Matter network -Responder</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_32"><a class="anchor" href="#_device_topology_32"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_21"><a class="anchor" href="#_test_setup_21"></a>Test Setup</h5>
<div class="paragraph">
<p>TH is the Initiator and the DUT is the Responder. TH and the DUT are commissioned.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_78"><a class="anchor" href="#_test_procedure_78"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Send Read Request from Initiator (TH) to Responder (DUT)</p>
</li>
<li>
<p>Save the value as 'read response'</p>
</li>
<li>
<p>Note: Example for Read Request could be reading OnOff attribute value from OnOff Cluster</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the responder sends response to Read Request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator (TH) sends a Close Session message to the Responder (DUT)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiator triggers a CASE session resumption. This can be accomplished in the TH using a read attribute command, which will automatically trigger a session resumption before reading since it has no active session.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Initiator constructs and sends a TLV-encoded Sigma1 message to Responder with resumption containing</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>initiatorRandom</p>
</li>
<li>
<p>initiatorSessionId</p>
</li>
<li>
<p>destinationId</p>
</li>
<li>
<p>resumptionID</p>
</li>
<li>
<p>initiatorResumeMIC</p>
</li>
<li>
<p>initiatorEphPubKey</p>
</li>
<li>
<p>initiatorSessionParams</p>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that Responder sends Sigma2_Resume message to Initiator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Initiator receives the Sigma2_Resume message and extracts the following values</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>resumptionID</p>
</li>
<li>
<p>responderSessionID</p>
</li>
<li>
<p>sigma2ResumeMIC</p>
</li>
<li>
<p>responderMRPParams</p>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the message is properly formatted:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I Flag is set to 0</p>
</li>
<li>
<p>S flag and DSIZ fields of message flags are set to 0</p>
</li>
<li>
<p>The Session Key Type field is set to 0</p>
</li>
<li>
<p>The Protocol ID field is set to 0x0000 and</p>
</li>
<li>
<p>The Protocol Opcode field is set to 0x33</p>
</li>
</ol>
</div>
</li>
<li>
<p>Verify that the resumptionID is of Octet String maximum of length 16 bytes</p>
</li>
<li>
<p>Verify that the responderSessionID is of uint16</p>
</li>
<li>
<p>Verify that the sigma2ResumeMIC is of Octet String maximum of length 16 bytes</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Initiator sends SigmaFinished message to Responder</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the responder sends response to Read Request with the value that is same as 'read response'</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_3_3_case_session_resumption_dut_initiator_removed"><a class="anchor" href="#_tc_sc_3_3_case_session_resumption_dut_initiator_removed"></a>22.3.3. [TC-SC-3.3] CASE Session Resumption [DUT_Initiator] - REMOVED</h4>
<div class="sect4">
<h5 id="_category_79"><a class="anchor" href="#_category_79"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_80"><a class="anchor" href="#_purpose_80"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the Initiator and Responder can successfully resume a CASE exchange</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_79"><a class="anchor" href="#_pics_79"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_46"><a class="anchor" href="#_preconditions_46"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Underlying transport is reliable, either implicitly (i.e.: TCP) or explicitly (i.e.: MRP)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CASE was previously successfully completed between the Initiator and Responder through commissioning and the previous session context is known by both nodes.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_79"><a class="anchor" href="#_required_devices_79"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 11.1111%;">
<col style="width: 44.4444%;">
<col style="width: 44.4445%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness acting as a node on a Matter network - Responder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT acting as a node on a Matter network - Initiator</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_33"><a class="anchor" href="#_device_topology_33"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_22"><a class="anchor" href="#_test_setup_22"></a>Test Setup</h5>
<div class="paragraph">
<p>DUT is the Initiator and the TH is the Responder.TH and the DUT are commissioned.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_79"><a class="anchor" href="#_test_procedure_79"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Send Read Request from Initiator to Responder</p>
</li>
<li>
<p>Note: Example for Read Request could be reading OnOff attribute value from OnOff Cluster</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send a Close Session message from the Initiator to the Responder</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send Read Request from Initiator to Responder</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Initiator sends the Sigma1 message to Responder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.2,
4.13.2.3,
4.11.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Responder receives the Sigma1 message and extracts the following</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>initiatorRandom</p>
</li>
<li>
<p>initiatorSessionId</p>
</li>
<li>
<p>destinationId</p>
</li>
<li>
<p>resumptionID</p>
</li>
<li>
<p>initiatorResumeMIC</p>
</li>
<li>
<p>initiatorEphPubKey</p>
</li>
<li>
<p>initiatorSessionParams</p>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the message is properly formatted:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>I Flag is set to 1</p>
</li>
<li>
<p>S flag and DSIZ fields of message flags are set to 0</p>
</li>
<li>
<p>The Session Key Type field is set to 0</p>
</li>
<li>
<p>The Protocol ID field is set to 0x0000 and</p>
</li>
<li>
<p>The Protocol Opcode field is set to 0x30</p>
</li>
</ol>
</div>
</li>
<li>
<p>Verify that the initiatorRandom is of Octet String maximum of length 32 bytes</p>
</li>
<li>
<p>Verify that the initiatorSessionId is of uint16</p>
</li>
<li>
<p>Verify that the destinationId is of Octet string</p>
</li>
<li>
<p>Verify that the resumptionID from the Initiator matches with the precondition</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that the resumptionID is of Octet String maximum of length 16 bytes</p>
</li>
</ol>
</div>
</li>
<li>
<p>Verify that the initiatorEphPubKey is of Octet string</p>
</li>
<li>
<p>Verify that the initiatorResumeMIC is of Octet string</p>
</li>
<li>
<p>Verify that the responderSessionParams is from any one of the following:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>SESSION_IDLE_INTERVAL</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Verify that it is of uint32</p>
</li>
</ol>
</div>
</li>
<li>
<p>SESSION_ACTIVE_INTERVAL</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Verify that it is of uint32</p>
</li>
</ol>
</div>
</li>
<li>
<p>SESSION_ACTIVE_THRESHOLD</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Verify that it is of uint16</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Responder sends a TLV-encoded Sigma2_Resume message to Initiator containing</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>resumptionID</p>
</li>
<li>
<p>responderSessionID</p>
</li>
<li>
<p>sigma2ResumeMIC</p>
</li>
<li>
<p>responderMRPParams</p>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Initiator sends a SigmaFinished message to Responder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Responder receives the SigmaFinished message and extracts the following</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>ProtocolId</p>
</li>
<li>
<p>ProtocolCode</p>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that the SigmaFinished Status report with the following</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>GeneralCode as SUCCESS</p>
</li>
<li>
<p>ProtocolId as SECURE_CHANNEL</p>
</li>
<li>
<p>ProtocolCode as SESSION_ESTABLISHMENT_SUCCESS</p>
</li>
</ol>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that Responder receives the Read Request Message sent from the Initiator</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_58"><a class="anchor" href="#_notestesting_considerations_58"></a>Notes/Testing considerations</h5>

</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_3_4_case_error_handling_dut_responder_removed"><a class="anchor" href="#_tc_sc_3_4_case_error_handling_dut_responder_removed"></a>22.3.4. [TC-SC-3.4] CASE Error Handling [DUT_Responder] - REMOVED</h4>
<div class="sect4">
<h5 id="_category_80"><a class="anchor" href="#_category_80"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance - Negative testing</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_81"><a class="anchor" href="#_purpose_81"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT can handle CASE error scenarios as a responder</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_80"><a class="anchor" href="#_pics_80"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_47"><a class="anchor" href="#_preconditions_47"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.12.2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Underlying transport is reliable, either implicitly (i.e.: TCP) or explicitly (i.e.: MRP)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_80"><a class="anchor" href="#_required_devices_80"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness acting as a node on a Matter network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device acting as a node on a Matter network</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_34"><a class="anchor" href="#_device_topology_34"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_23"><a class="anchor" href="#_test_setup_23"></a>Test Setup</h5>
<div class="paragraph">
<p>The TH is the Initiator and the DUT is the Responder</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_80"><a class="anchor" href="#_test_procedure_80"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH constructs and sends a Sigma1 message with a <em>resumptionID</em> and no <em>initiatorResumeMIC</em> to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT sends a status report to the TH with a <em>FAILURE</em> general code , Protocol ID of <em>SECURE_CHANNEL</em> (0x0000), and Protocol Code of <em>INVALID_PARAMETER</em> (0X0002).</p>
</li>
<li>
<p>Verify that the DUT performs no further processing after sending the status report.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH constructs and sends a Sigma1 message with a <em>initiatorResumeMIC</em> and no <em>resumptionID</em> to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT sends a status report to the TH with a <em>FAILURE</em> general code, Protocol ID of <em>SECURE_CHANNEL</em> (0x0000), and Protocol Code of <em>INVALID_PARAMETER</em> (0X0002).</p>
</li>
<li>
<p>Verify that the DUT performs no further processing after sending the status report.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH constructs and sends a Sigma1 message with an invalid <em>destinationId</em> to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT sends a status report to the TH with a <em>FAILURE</em> general code, Protocol ID of <em>SECURE_CHANNEL</em> (0x0000), and Protocol Code of <em>NO_SHARED_TRUST_ROOTS</em> (0X0001).</p>
</li>
<li>
<p>Verify that the DUT performs no further processing after sending the status report.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH constructs and sends a properly formatted and encoded Sigma1 message to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a Sigma2 message to TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH constructs and sends a Sigma3 message with improperly generated encrypted integrity data (TBEData3Encrypted) to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT sends a status report to the TH with a <em>FAILURE</em> general code, Protocol ID of <em>SECURE_CHANNEL</em> (0x0000), and Protocol Code of <em>INVALID_PARAMETER</em> (0X0002)</p>
</li>
<li>
<p>Verify that the DUT performs no further processing after sending the status report.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH constructs and sends a properly formatted and encoded Sigma1 message to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a Sigma2 message to TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH constructs and sends a Sigma3 message with invalid initiatorNOC data to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT sends a status report to the TH with a <em>FAILURE</em> general code, Protocol ID of <em>SECURE_CHANNEL</em> (0x0000), and Protocol Code of <em>INVALID_PARAMETER</em> (0X0002)</p>
</li>
<li>
<p>Verify that the DUT performs no further processing after sending the status report.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH constructs and sends a properly formatted and encoded Sigma1 message to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a Sigma2 message to TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH constructs and sends a Sigma3 message with invalid signature data to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT sends a status report to the TH with a <em>FAILURE</em> general code, Protocol ID of <em>SECURE_CHANNEL</em> (0x0000), and Protocol Code of <em>INVALID_PARAMETER</em> (0X0002)</p>
</li>
<li>
<p>Verify that the DUT performs no further processing after sending the status report.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH constructs and sends a properly formatted and encoded Sigma1 message to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a Sigma2 message to TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH constructs and sends a Sigma3 message with invalid initiatorICAC to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT sends a status report to the TH with a <em>FAILURE</em> general code, Protocol ID of <em>SECURE_CHANNEL</em> (0x0000), and Protocol Code of <em>INVALID_PARAMETER</em> (0X0002)</p>
</li>
<li>
<p>Verify that the DUT performs no further processing after sending the status report.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH constructs and sends a properly formatted and encoded Sigma1 message to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a Sigma2 message to TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH constructs and sends a Sigma3 message with invalid initiatorEphPubKey to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT sends a status report to the TH with a <em>FAILURE</em> general code, Protocol ID of <em>SECURE_CHANNEL</em> (0x0000), and Protocol Code of <em>INVALID_PARAMETER</em> (0X0002)</p>
</li>
<li>
<p>Verify that the DUT performs no further processing after sending the status report.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH constructs and sends a properly formatted and encoded Sigma1 message to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a Sigma2 message to TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH constructs and sends a Sigma3 message with invalid  responderEphPubKey to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT sends a status report to the TH with a <em>FAILURE</em> general code, Protocol ID of <em>SECURE_CHANNEL</em> (0x0000), and Protocol Code of <em>INVALID_PARAMETER</em> (0X0002)</p>
</li>
<li>
<p>Verify that the DUT performs no further processing after sending the status report.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_59"><a class="anchor" href="#_notestesting_considerations_59"></a>Notes/Testing considerations</h5>
<div class="paragraph">
<p>TODO - add ICAC scenarios</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_3_5_case_error_handling_dut_initiator_removed"><a class="anchor" href="#_tc_sc_3_5_case_error_handling_dut_initiator_removed"></a>22.3.5. [TC-SC-3.5] CASE Error Handling [DUT_Initiator] - REMOVED</h4>
<div class="sect4">
<h5 id="_category_81"><a class="anchor" href="#_category_81"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance - Negative testing</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_82"><a class="anchor" href="#_purpose_82"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT can handle CASE error scenarios as a initiator</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_81"><a class="anchor" href="#_pics_81"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_48"><a class="anchor" href="#_preconditions_48"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.12.2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Underlying transport is reliable, either implicitly (i.e.: TCP) or explicitly (i.e.: MRP)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_81"><a class="anchor" href="#_required_devices_81"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness acting as a node on a Matter network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device acting as a node on a Matter network</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_35"><a class="anchor" href="#_device_topology_35"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_24"><a class="anchor" href="#_test_setup_24"></a>Test Setup</h5>
<div class="paragraph">
<p>The DUT is the Initiator and the TH is the Responder</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_81"><a class="anchor" href="#_test_procedure_81"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT constructs and sends a Sigma1 message to TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH verifies Sigma1, then constructs and sends a Sigma2 message with improperly formatted encrypted data (TBEData2Encrypted) to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT  sends a status report to the TH with a <em>FAILURE</em> general code (value 1), protocol ID of <em>SECURE_CHANNEL</em> (0x0000), and Protocol code of <em>INVALID_PARAMETER</em> (0X0002).</p>
</li>
<li>
<p>Verify that the DUT performs no further processing after sending the status report.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT constructs and sends a Sigma1 message to TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH verifies Sigma1, then constructs and sends a Sigma2 message with invalid responderNOC data to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT sends a status report to the TH with a <em>FAILURE</em> general code (value 1), protocol ID of <em>SECURE_CHANNEL</em> (0x0000), and Protocol code of <em>INVALID_PARAMETER</em> (0X0002).</p>
</li>
<li>
<p>Verify that the DUT performs no further processing after sending the status report.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT constructs and sends a Sigma1 message to TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH verifies Sigma1, then constructs and sends a Sigma2 message with invalid signature data to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT sends a status report to the TH with a <em>FAILURE</em> general code (value 1), protocol ID of <em>SECURE_CHANNEL</em> (0x0000), and Protocol code of <em>INVALID_PARAMETER</em> (0X0002)</p>
</li>
<li>
<p>Verify that the DUT performs no further processing after sending the status report</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT constructs and sends a Sigma1 message to TH</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH verifies Sigma1, then constructs and sends a Sigma2 message with invalid responderICAC data to DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT receives the message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT sends a status report to the TH with a <em>FAILURE</em> general code (value 1), protocol ID of <em>SECURE_CHANNEL</em> (0x0000), and Protocol code of <em>INVALID_PARAMETER</em> (0X0002)</p>
</li>
<li>
<p>Verify that the DUT performs no further processing after sending the status report</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_3_6_case_resource_validation"><a class="anchor" href="#_tc_sc_3_6_case_resource_validation"></a>22.3.6. [TC-SC-3.6] CASE Resource validation</h4>
<div class="sect4">
<h5 id="_category_82"><a class="anchor" href="#_category_82"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_83"><a class="anchor" href="#_purpose_83"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT is able to handle at least three CASE sessions.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_82"><a class="anchor" href="#_pics_82"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_49"><a class="anchor" href="#_preconditions_49"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT&#8217;s CaseSessionsPerFabric in CapabilityMinima is at least 3</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_82"><a class="anchor" href="#_required_devices_82"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.6923%;">
<col style="width: 30.7692%;">
<col style="width: 61.5385%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD1A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 1A as the commissioner and subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD1B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 1B as the subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD1C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 1C as the subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD2A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 2A as the commissioner and subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD2B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 2B as the subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD2C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 2C as the subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD3A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 3A as the commissioner and subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD3B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 3B as the subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD3C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 3C as the subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD4A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 4A as the commissioner and subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD4B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 4B as the subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD4C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 4C as the subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD5A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 5A as the commissioner and subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD5B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 5B as the subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD5C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 5C as the subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as the target of the subscription.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_36"><a class="anchor" href="#_device_topology_36"></a>Device Topology</h5>
<div class="paragraph">
<p>RD1X, RD2X, RD3X, RD4X, RD5X should be on separate, distinct fabrics.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>RD1A, RD1B and RD1C should be on the same fabric.</p>
</li>
<li>
<p>RD2A, RD2B and RD2C should be on the same fabric.</p>
</li>
<li>
<p>RD3A, RD3B and RD3C should be on the same fabric.</p>
</li>
<li>
<p>RD4A, RD4B and RD4C should be on the same fabric.</p>
</li>
<li>
<p>RD5A, RD5B and RD5C should be on the same fabric.</p>
</li>
<li>
<p>DUT should be commissioned onto all fabrics</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_25"><a class="anchor" href="#_test_setup_25"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_82"><a class="anchor" href="#_test_procedure_82"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD1X, RD2X, RD3X, RD4X, RD5X each send 1 Subscribe Request Messages to DUT.(Total - 15 active subscriptions)</p>
<p class="tableblock">They can subscribe to any attribute.
Once all subscriptions are active, change the value of the attribute that has been subscribed to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that all subscribers get data reports.
Verify on each of these Reference Devices that the appropriate attribute value has been received.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_60"><a class="anchor" href="#_notestesting_considerations_60"></a>Notes/Testing considerations</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>RD1X indicates RD1A, RD1B, RD1C</p>
</li>
<li>
<p>RD2X indicates RD2A, RD2B, RD2C</p>
</li>
<li>
<p>RD3X indicates RD3A, RD3B, RD3C</p>
</li>
<li>
<p>RD4X indicates RD4A, RD4B, RD4C</p>
</li>
<li>
<p>RD5X indicates RD5A, RD5B, RD5C</p>
</li>
<li>
<p>Vendor can have greater than 3 CaseSessionsPerFabric</p>
</li>
</ol>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_discovery"><a class="anchor" href="#_discovery"></a>22.4. Discovery</h3>
<hr>
<div class="sect3">
<h4 id="_tc_sc_4_1_commissionable_node_discovery_dut_as_commissionee"><a class="anchor" href="#_tc_sc_4_1_commissionable_node_discovery_dut_as_commissionee"></a>22.4.1. [TC-SC-4.1] Commissionable Node Discovery [DUT as Commissionee]</h4>
<div class="sect4">
<h5 id="_category_83"><a class="anchor" href="#_category_83"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_84"><a class="anchor" href="#_purpose_84"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of this test case is to verify that a device is able to correctly advertise Commissionable Node Discovery service.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_83"><a class="anchor" href="#_pics_83"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_50"><a class="anchor" href="#_preconditions_50"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is connected to any Matter network</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is not commissioned</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_83"><a class="anchor" href="#_required_devices_83"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node that is advertising Commissionable Node Discovery service using DNS-SD.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner that is scanning for DNS-SD</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_37"><a class="anchor" href="#_device_topology_37"></a>Device Topology</h5>
<div class="paragraph">
<p>N/A</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_26"><a class="anchor" href="#_test_setup_26"></a>Test Setup</h5>
<div class="paragraph">
<p>N/A</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_83"><a class="anchor" href="#_test_procedure_83"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is Commissioned and put in Commissioning Mode using Open Basic Commissioning Window command and starts advertising Commissionable Node Discovery service using DNS-SD</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIFI</p>
<p class="tableblock">MCORE.COM.ETH</p>
<p class="tableblock">MCORE.COM.THR</p>
<p class="tableblock">MCORE.ICD</p>
<p class="tableblock">MCORE.SC.VENDOR_SUBTYPE
MCORE.SC.DEVTYPE_SUBTYPE
MCORE.SC.VP_KEY
MCORE.SC.SII_OP_DISCOVERY_KEY
MCORE.SC.SAI_OP_DISCOVERY_KEY
MCORE.SC.SAT_OP_DISCOVERY_KEY
MCORE.SC.DT_KEY
MCORE.SC.DN_KEY
MCORE.SC.RI_KEY
MCORE.SC.PH_KEY
MCORE.SC.PI_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- If MCORE.ICD and ICDM.S.A0002(ActiveModeThreshold), TH reads from the DUT the <em>ActiveModeThreshold</em> attribute.</p>
<p class="tableblock">- Check DNS-SD subtypes used by DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check DUT advertising for:</p>
<p class="tableblock">- DNS-SD instance name must be 64-bit randomly selected ID expressed as a sixteen-char hex string with capital letters</p>
<p class="tableblock">- service type must be _matterc._udp</p>
<p class="tableblock">- service domain is .local. For Unicast DNS such as used on Thread the service domain SHALL be as configured automatically by the Thread Border Router</p>
<p class="tableblock">- IF (MCORE.COM.WIFI) OR (MCORE.COM.ETH) target hostname is derived from the 48bit or 64bit MAC address expressed as a twelve or sixteen capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.</p>
<p class="tableblock">- IF (MCORE.COM.THR) target hostname is derived from the 48bit or 64bit MAC extended address expressed as a twelve or sixteen capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.</p>
<p class="tableblock">- subtype _L&lt;dddd&gt; 12-bit long discriminator, encoded as a variable-length decimal number in ASCII text, omitting any leading zeros</p>
<p class="tableblock">- subtype _S&lt;dd&gt; 4-bit short discriminator, encoded as a variable-length decimal number in ASCII text, omitting any leading zeros</p>
<p class="tableblock">- if (MCORE.SC.VENDOR_SUBTYPE) present, subtype _V&lt;ddddd&gt; is present must be 16-bit vendor id, encoded as a variable-length decimal number
in ASCII text, omitting any leading zeros</p>
<p class="tableblock">- if (MCORE.SC.DEVTYPE_SUBTYPE) present, subtype _T&lt;ddd&gt; is present, &lt;ddd&gt; represents device type from Data Model and must be represented as a variable length decimal number in ASCII without leading zeros</p>
<p class="tableblock">- subtype _CM must be present</p>
<p class="tableblock">- key D must be present and represents the discriminator which must be encoded as a variable-length decimal value with up to 4 digits omitting any leading zeros</p>
<p class="tableblock">- if (MCORE.SC.VP_KEY) present, VP key must contain at least Vendor ID and if Product ID is present, values must be separated by a + sign.</p>
<p class="tableblock">- if (MCORE.SC.SII_OP_DISCOVERY_KEY) present, SII key must be an unsigned integer with units of milliseconds and shall be encoded as a variable length decimal number in ASCII, omitting leading zeros. Shall not exceed 3600000.</p>
<p class="tableblock">- if (MCORE.SC.SAI_OP_DISCOVERY_KEY ) present, SAI key must be an unsigned integer with units of milliseconds and shall be encoded as a variable length decimal number in ASCII, omitting leading zeros. Shall not exceed 3600000.</p>
<p class="tableblock">- if (MCORE.SC.SAT_OP_DISCOVERY_KEY) and !MCORE.ICD, key SAT shall not exceed 65535 (65.535 seconds) and must be encoded as a decimal value omitting any leading zeros. if key is not
available or has an invalid value, the default SESSION_ACTIVE_THRESHOLD value shall be used</p>
<p class="tableblock">- if (MCORE.SC.SAT_OP_DISCOVERY_KEY) and MCORE.ICD, key SAT shall not exceed 65535 (65.535 seconds), must be encoded as a decimal value omitting any leading zeros, and equal to ICDM.S.A0002(ActiveModeThreshold)</p>
<p class="tableblock">- if (MCORE.SC.SAT_OP_DISCOVERY_KEY) presents, key SAI shall be present.</p>
<p class="tableblock">- key CM=1 must be present</p>
<p class="tableblock">- if (MCORE.SC.DT_KEY) present, DT key must contain the device type identifier from Data Model Device Types and must be encoded as a variable length decimal ASCII number without leading zeros</p>
<p class="tableblock">- if (MCORE.SC.DN_KEY) present, DN key must be a UTF-8 encoded string with a maximum length of 32B</p>
<p class="tableblock">- if (MCORE.SC.RI_KEY ) present, key RI must include the Rotating Device Identifier encoded as a uppercase string with a maximum length of 100 chars (each octet encoded as a 2-digit hex number, max 50 octets)</p>
<p class="tableblock">- if (MCORE.SC.PH_KEY) present, key PH must be encoded as a variable-length decimal number in ASCII text, omitting any leading zeros. If present value must be different of 0</p>
<p class="tableblock">- if (MCORE.SC.PI_KEY) present, key PI must be encoded as a valid UTF-8 string with a maximum length of 128 bytes</p>
<p class="tableblock">DUT must publish AAAA records for each IPv6 address upon which they are willing to accept Matter messages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is rebooted, then put in Commissioning Mode using Open Basic Commissioning Window command, starting advertising Commissionable Node Discovery service using DNS-SD</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.1.3
4.3.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIFI</p>
<p class="tableblock">MCORE.COM.ETH</p>
<p class="tableblock">MCORE.COM.THR</p>
<p class="tableblock">MCORE.ICD</p>
<p class="tableblock">MCORE.SC.VENDOR_SUBTYPE
MCORE.SC.DEVTYPE_SUBTYPE
MCORE.SC.VP_KEY
MCORE.SC.SII_OP_DISCOVERY_KEY
MCORE.SC.SAI_OP_DISCOVERY_KEY
MCORE.SC.SAT_OP_DISCOVERY_KEY
MCORE.SC.DT_KEY
MCORE.SC.DN_KEY
MCORE.SC.RI_KEY
MCORE.SC.PH_KEY
MCORE.SC.PI_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- If MCORE.ICD and ICDM.S.A0002(ActiveModeThreshold), TH reads from the DUT the <em>ActiveModeThreshold</em> attribute.</p>
<p class="tableblock">- Check DNS-SD subtypes used by DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check DUT advertising for:</p>
<p class="tableblock">- DNS-SD instance name must be 64-bit randomly selected ID expressed as a sixteen-char hex string with capital letters and must be different from the one at step 2</p>
<p class="tableblock">- service type must be _matterc._udp</p>
<p class="tableblock">- service domain is .local. For Unicast DNS such as used on Thread the service domain SHALL be as configured automatically by the Thread Border Router</p>
<p class="tableblock">- IF (MCORE.COM.WIFI) OR (MCORE.COM.ETH) target hostname is derived from the 48bit or 64bit MAC address expressed as a twelve or sixteen capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.</p>
<p class="tableblock">- IF (MCORE.COM.THR) target hostname is derived from the 48bit or 64bit MAC extended address expressed as a twelve or sixteen capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.</p>
<p class="tableblock">- subtype _L&lt;dddd&gt; 12-bit long discriminator, encoded as a variable-length decimal number in ASCII text, omitting any leading zeros</p>
<p class="tableblock">- subtype _S&lt;dd&gt; 4-bit short discriminator, encoded as a variable-length decimal number in ASCII text, omitting any leading zeros</p>
<p class="tableblock">- if (MCORE.SC.VENDOR_SUBTYPE ) present, subtype _V&lt;ddddd&gt; is present must be 16-bit vendor id, encoded as a variable-length decimal number
in ASCII text, omitting any leading zeros</p>
<p class="tableblock">- if (MCORE.SC.DEVTYPE_SUBTYPE) present, subtype _T&lt;ddd&gt; is present, &lt;ddd&gt; represents device type from Data Model and must be represented as a variable length decimal number in ASCII  without leading zeros</p>
<p class="tableblock">- subtype _CM is present</p>
<p class="tableblock">- key D must be present and represents the discriminator which must be encoded as a variable-length decimal value with up to 4 digits omitting any leading zeros</p>
<p class="tableblock">- if (MCORE.SC.VP_KEY) present, VP key must contain at least Vendor ID and if Product ID is present, values must be separated by a + sign.</p>
<p class="tableblock">- if (MCORE.SC.SII_OP_DISCOVERY_KEY ) present, SII key must be an unsigned integer with units of milliseconds and shall be encoded as a variable length decimal number in ASCII, omitting leading zeros. Shall not exceed 3600000.</p>
<p class="tableblock">- if (MCORE.SC.SAI_OP_DISCOVERY_KEY) present, SAI key must be an unsigned integer with units of milliseconds and shall be encoded as a variable length decimal number in ASCII, omitting leading zeros. Shall not exceed 3600000.</p>
<p class="tableblock">- if (MCORE.SC.SAT_OP_DISCOVERY_KEY) and !MCORE.ICD, key SAT shall not exceed 65535 (65.535 seconds) and must be encoded as a decimal value omitting any leading zeros. if key is not
available or has an invalid value, the default SESSION_ACTIVE_THRESHOLD value shall be used</p>
<p class="tableblock">- if (MCORE.SC.SAT_OP_DISCOVERY_KEY) and MCORE.ICD, key SAT shall not exceed 65535 (65.535 seconds), must be encoded as a decimal value omitting any leading zeros, and equal to ICDM.S.A0002(ActiveModeThreshold)</p>
<p class="tableblock">- if (MCORE.SC.SAT_OP_DISCOVERY_KEY) presents, key SAI shall be present.</p>
<p class="tableblock">- key CM=1 must be present</p>
<p class="tableblock">- if (MCORE.SC.DT_KEY) present, DT key must contain the device type identifier from Data Model Device Types and must be encoded as a variable length decimal ASCII number without leading zeros</p>
<p class="tableblock">- if (MCORE.SC.DN_KEY) present, DN key must be a UTF-8 encoded string with a maximum length of 32B</p>
<p class="tableblock">- if (MCORE.SC.RI_KEY) present, key RI must include the Rotating Device Identifier encoded as a uppercase string with a maximum length of 100 chars (each octet encoded as a 2-digit hex number, max 50 octets)</p>
<p class="tableblock">- if (MCORE.SC.PH_KEY) present, key PH must be encoded as a variable-length decimal number in ASCII text, omitting any leading zeros. If present value must be different of 0</p>
<p class="tableblock">- if (MCORE.SC.PI_KEY) present, key PI must be encoded as a valid UTF-8 string with a maximum length of 128 bytes</p>
<p class="tableblock">DUT must publish AAAA records for each IPv6 address upon which they are willing to accept Matter messages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for OpenBasicCommissioningWindow timeout to expire</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should stop sending DNS-SD advertisements</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is Commissioned and instructed to enter in commissioning mode using Open Commissioning Window command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should start to send Commissionable Node Discovery DNS-SD advertisements</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIFI</p>
<p class="tableblock">MCORE.COM.ETH</p>
<p class="tableblock">MCORE.COM.THR</p>
<p class="tableblock">MCORE.ICD</p>
<p class="tableblock">MCORE.SC.VENDOR_SUBTYPE
MCORE.SC.DEVTYPE_SUBTYPE
MCORE.SC.VP_KEY
MCORE.SC.SII_OP_DISCOVERY_KEY
MCORE.SC.SAI_OP_DISCOVERY_KEY
MCORE.SC.SAT_OP_DISCOVERY_KEY
MCORE.SC.DT_KEY
MCORE.SC.DN_KEY
MCORE.SC.RI_KEY
MCORE.SC.PH_KEY
MCORE.SC.PI_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check DNS-SD subtypes used by DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check DUT advertising for:</p>
<p class="tableblock">- DNS-SD instance name must be 64-bit randomly selected ID expressed as a sixteen-char hex string with capital letters</p>
<p class="tableblock">- service type must be _matterc._udp</p>
<p class="tableblock">- service domain is .local. For Unicast DNS such as used on Thread the service domain SHALL be as configured automatically by the Thread Border Router</p>
<p class="tableblock">- IF (MCORE.COM.WIFI) OR (MCORE.COM.ETH) target hostname is derived from the 48bit or 64bit MAC address expressed as a twelve or sixteen capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.</p>
<p class="tableblock">- IF (MCORE.COM.THR) target hostname is derived from the 48bit or 64bit MAC extended address expressed as a twelve or sixteen capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.</p>
<p class="tableblock">- subtype _L&lt;dddd&gt; 12-bit long discriminator, encoded as a variable-length decimal number in ASCII text, omitting any leading zeros</p>
<p class="tableblock">- subtype _S&lt;dd&gt; 4-bit short discriminator, encoded as a variable-length decimal number in ASCII text, omitting any leading zeros</p>
<p class="tableblock">- if (MCORE.SC.VENDOR_SUBTYPE) present, subtype _V&lt;ddddd&gt; is present must be 16-bit vendor id, encoded as a variable-length decimal number
in ASCII text, omitting any leading zeros</p>
<p class="tableblock">- if (MCORE.SC.DEVTYPE_SUBTYPE) present, subtype _T&lt;ddd&gt; is present, &lt;ddd&gt; represents device type from Data Model and must be represented as a variable length decimal number in ASCII  without leading zeros</p>
<p class="tableblock">- subtype _CM is present</p>
<p class="tableblock">- key D must be present and represents the discriminator which must be encoded as a variable-length decimal value with up to 4 digits omitting any leading zeros</p>
<p class="tableblock">- if (MCORE.SC.VP_KEY ) present, VP key must contain at least Vendor ID and if Product ID is present, values must be separated by a + sign.</p>
<p class="tableblock">- if (MCORE.SC.SII_OP_DISCOVERY_KEY) present, SII key must be an unsigned integer with units of milliseconds and shall be encoded as a variable length decimal number in ASCII, omitting leading zeros. Shall not exceed 3600000.</p>
<p class="tableblock">- if (MCORE.SC.SAI_OP_DISCOVERY_KEY) present, SAI key must be an unsigned integer with units of milliseconds and shall be encoded as a variable length decimal number in ASCII, omitting leading zeros. Shall not exceed 3600000.</p>
<p class="tableblock">- if (MCORE.SC.SAT_OP_DISCOVERY_KEY) and !MCORE.ICD, key SAT shall not exceed 65535 (65.535 seconds) and must be encoded as a decimal value omitting any leading zeros. if key is not
available or has an invalid value, the default SESSION_ACTIVE_THRESHOLD value shall be used</p>
<p class="tableblock">- if (MCORE.SC.SAT_OP_DISCOVERY_KEY) and MCORE.ICD, key SAT shall not exceed 65535 (65.535 seconds), must be encoded as a decimal value omitting any leading zeros, and equal to ICDM.S.A0002(ActiveModeThreshold)</p>
<p class="tableblock">- if (MCORE.SC.SAT_OP_DISCOVERY_KEY) presents, key SAI shall be present.</p>
<p class="tableblock">- key CM=2 must be present</p>
<p class="tableblock">- if (MCORE.SC.DT_KEY) present, DT key must contain the device type identifier from Data Model Device Types and must be encoded as a variable length decimal ASCII number without leading zeros</p>
<p class="tableblock">- if (MCORE.SC.DN_KEY) present, DN key must be a UTF-8 encoded string with a maximum length of 32B</p>
<p class="tableblock">- if (MCORE.SC.RI_KEY) present, key RI must include the Rotating Device Identifier encoded as a uppercase string with a maximum length of 100 chars (each octet encoded as a 2-digit hex number, max 50 octets)</p>
<p class="tableblock">- if (MCORE.SC.PH_KEY) present, key PH must be encoded as a variable-length decimal number in ASCII text, omitting any leading zeros. If present value must be different of 0</p>
<p class="tableblock">- if (MCORE.SC.PI_KEY) present, key PI must be encoded as a valid UTF-8 string with a maximum length of 128 bytes</p>
<p class="tableblock">DUT must publish AAAA records for each IPv6 address upon which they are willing to accept Matter messages.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for OCW timeout to expire</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should stop sending DNS-SD advertisements</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.EXTENDED_DISCOVERY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If (MCORE.SC.EXTENDED_DISCOVERY ) enable Extended Discovery</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should start to send Commissionable Node Discovery DNS-SD advertisements</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.EXTENDED_DISCOVERY
MCORE.COM.WIFI</p>
<p class="tableblock">MCORE.COM.ETH</p>
<p class="tableblock">MCORE.COM.THR</p>
<p class="tableblock">MCORE.ICD</p>
<p class="tableblock">MCORE.SC.VENDOR_SUBTYPE
MCORE.SC.DEVTYPE_SUBTYPE
MCORE.SC.VP_KEY
MCORE.SC.SII_OP_DISCOVERY_KEY
MCORE.SC.SAI_OP_DISCOVERY_KEY
MCORE.SC.SAT_OP_DISCOVERY_KEY
MCORE.SC.DT_KEY
MCORE.SC.DN_KEY
MCORE.SC.RI_KEY
MCORE.SC.PH_KEY
MCORE.SC.PI_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If (MCORE.SC.EXTENDED_DISCOVERY ),</p>
<p class="tableblock">- If MCORE.ICD and ICDM.S.A0002(ActiveModeThreshold), TH reads from the DUT the <em>ActiveModeThreshold</em> attribute.</p>
<p class="tableblock">- check DNS-SD subtypes used by DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check DUT advertising for:</p>
<p class="tableblock">- DNS-SD instance name must be 64-bit randomly selected ID expressed as a sixteen-char hex string with capital letters</p>
<p class="tableblock">- service type must be _matterc._udp</p>
<p class="tableblock">- service domain is .local. For Unicast DNS such as used on Thread the service domain SHALL be as configured automatically by the Thread Border Router</p>
<p class="tableblock">- IF (MCORE.COM.WIFI) OR (MCORE.COM.ETH) target hostname is derived from the 48bit or 64bit MAC address expressed as a twelve or sixteen capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.</p>
<p class="tableblock">- IF (MCORE.COM.THR) target hostname is derived from the 48bit or 64bit MAC extended address expressed as a twelve or sixteen capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.</p>
<p class="tableblock">- subtype _L&lt;dddd&gt; 12-bit long discriminator, encoded as a variable-length decimal number in ASCII text, omitting any leading zeros</p>
<p class="tableblock">- subtype _S&lt;dd&gt; 4-bit short discriminator, encoded as a variable-length decimal number in ASCII text, omitting any leading zeros</p>
<p class="tableblock">- if (MCORE.SC.VENDOR_SUBTYPE ) present, subtype _V&lt;ddddd&gt; is present must be 16-bit vendor id, encoded as a variable-length decimal number
in ASCII text, omitting any leading zeros</p>
<p class="tableblock">- if (MCORE.SC.DEVTYPE_SUBTYPE) present, subtype _T&lt;ddd&gt; is present, &lt;ddd&gt; represents device type from Data Model and must be represented as a variable length decimal number in ASCII  without leading zeros</p>
<p class="tableblock">- subtype _CM must not be present</p>
<p class="tableblock">- key D must be present and represents the discriminator which must be encoded as a variable-length decimal value with up to 4 digits omitting any leading zeros</p>
<p class="tableblock">- if (MCORE.SC.VP_KEY) present, VP key must contain at least Vendor ID and if Product ID is present, values must be separated by a + sign.</p>
<p class="tableblock">- if (MCORE.SC.SII_OP_DISCOVERY_KEY) present, SII key must be an unsigned integer with units of milliseconds and shall be encoded as a variable length decimal number in ASCII, omitting leading zeros. Shall not exceed 3600000.</p>
<p class="tableblock">- if (MCORE.SC.SAI_OP_DISCOVERY_KEY) present, SAI key must be an unsigned integer with units of milliseconds and shall be encoded as a variable length decimal number in ASCII, omitting leading zeros. Shall not exceed 3600000.</p>
<p class="tableblock">- if (MCORE.SC.SAT_OP_DISCOVERY_KEY) and !MCORE.ICD, key SAT shall not exceed 65535 (65.535 seconds) and must be encoded as a decimal value omitting any leading zeros. if key is not
available or has an invalid value, the default SESSION_ACTIVE_THRESHOLD value shall be used</p>
<p class="tableblock">- if (MCORE.SC.SAT_OP_DISCOVERY_KEY) and MCORE.ICD, key SAT shall not exceed 65535 (65.535 seconds), must be encoded as a decimal value omitting any leading zeros, and equal to ICDM.S.A0002(ActiveModeThreshold)</p>
<p class="tableblock">- if (MCORE.SC.SAT_OP_DISCOVERY_KEY) presents, key SAI shall be present.</p>
<p class="tableblock">- key CM=0 may be present</p>
<p class="tableblock">- if (MCORE.SC.DT_KEY) present, DT key must contain the device type identifier from Data Model Device Types and must be encoded as a variable length decimal ASCII number without leading zeros</p>
<p class="tableblock">- if (MCORE.SC.DN_KEY) present, DN key must be a UTF-8 encoded string with a maximum length of 32B</p>
<p class="tableblock">- if (MCORE.SC.RI_KEY) present, key RI must include the Rotating Device Identifier encoded as a uppercase string with a maximum length of 100 chars (each octet encoded as a 2-digit hex number, max 50 octets)</p>
<p class="tableblock">- if (MCORE.SC.PH_KEY) present, key PH must be encoded as a variable-length decimal number in ASCII text, omitting any leading zeros. If present value must be different of 0</p>
<p class="tableblock">- if (MCORE.SC.PI_KEY) present, key PI must be encoded as a valid UTF-8 string with a maximum length of 128 bytes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_61"><a class="anchor" href="#_notestesting_considerations_61"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_4_2_discovery_dut_as_commissioner"><a class="anchor" href="#_tc_sc_4_2_discovery_dut_as_commissioner"></a>22.4.2. [TC-SC-4.2] Discovery [DUT as Commissioner]</h4>
<div class="sect4">
<h5 id="_category_84"><a class="anchor" href="#_category_84"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_85"><a class="anchor" href="#_purpose_85"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of this test case is to verify that a commissioner is able to discover a node that announce Commissionable Node Discovery service.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_84"><a class="anchor" href="#_pics_84"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_51"><a class="anchor" href="#_preconditions_51"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is not commissioned</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_84"><a class="anchor" href="#_required_devices_84"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner scanning for commissionee nodes that advertise Commissionable Node Discovery service.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node that is advertising Commissionable Node Discovery service.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_38"><a class="anchor" href="#_device_topology_38"></a>Device Topology</h5>
<div class="paragraph">
<p>N/A</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_27"><a class="anchor" href="#_test_setup_27"></a>Test Setup</h5>
<div class="paragraph">
<p>N/A</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_84"><a class="anchor" href="#_test_procedure_84"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By any means, TH adds an unknown key/value pair in the advertised data(e.g. AB=12345) and is in Commissioning Mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH must advertise with new data added</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT attempts to commission TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT successfully commissions TH and the unknown key/value pair added at step 1 must be silently discarded</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_62"><a class="anchor" href="#_notestesting_considerations_62"></a>Notes/Testing considerations</h5>
<div class="paragraph">
<p>Open discussion over the utility of this TC. May be removed in the future!</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_4_3_discovery_dut_as_commissionee"><a class="anchor" href="#_tc_sc_4_3_discovery_dut_as_commissionee"></a>22.4.3. [TC-SC-4.3] Discovery [DUT as Commissionee]</h4>
<div class="sect4">
<h5 id="_category_85"><a class="anchor" href="#_category_85"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_86"><a class="anchor" href="#_purpose_86"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of this test case is to verify that a Matter node is discoverable and can advertise its services in a Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_85"><a class="anchor" href="#_pics_85"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_52"><a class="anchor" href="#_preconditions_52"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nodes are joined in the same Fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_85"><a class="anchor" href="#_required_devices_85"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matter Node that is advertising a service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matter Controller that is advertising a service</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_39"><a class="anchor" href="#_device_topology_39"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_28"><a class="anchor" href="#_test_setup_28"></a>Test Setup</h5>
<div class="paragraph">
<p>N/A</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_85"><a class="anchor" href="#_test_procedure_85"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned to TH and DUT is instructed to advertise its operational service (<code>_matter._tcp</code>).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should start to advertise service via DNS-SD</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.COM.WIFI</p>
<p class="tableblock">MCORE.COM.ETH</p>
<p class="tableblock">MCORE.COM.THR</p>
<p class="tableblock">MCORE.ICD</p>
<p class="tableblock">MCORE.SC.SII_OP_DISCOVERY_KEY
MCORE.SC.SAI_OP_DISCOVERY_KEY
MCORE.SC.SAT_OP_DISCOVERY_KEY
MCORE.SC.T_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">- If MCORE.ICD and ICDM.S.A0002(ActiveModeThreshold), TH reads from the DUT the <em>ActiveModeThreshold</em> attribute.</p>
<p class="tableblock">- Scan for DNS-SD advertising</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check DUT advertising for:</p>
<p class="tableblock">- DNS-SD instance name must be 64-bit compressed FabricID</p>
<p class="tableblock">- service type must be _matter._tcp</p>
<p class="tableblock">- subtype _I&lt;hhhh&gt; represents compressed FabricID encoded as 16 hex UPPERcase chars.</p>
<p class="tableblock">- service domain is .local. For Unicast DNS such as used on Thread the service domain SHALL be as configured automatically by the Thread Border Router</p>
<p class="tableblock">- IF (MCORE.COM.WIFI OR MCORE.COM.ETH) target hostname is derived from the 48bit MAC address expressed as a twelve capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.</p>
<p class="tableblock">- IF (MCORE.COM.THR) target hostname is derived from the 64bit MAC extended address expressed as a sixteen capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.</p>
<p class="tableblock">- if (MCORE.SC.SII_OP_DISCOVERY_KEY), key SII shall not exceed 3600000 (1h in ms) and must be encoded as a decimal value omitting any leading zeros. if key is not
available or has an invalid value, the default MRP_RETRY_INTERVAL_IDLE value must be used</p>
<p class="tableblock">- if (MCORE.SC.SAI_OP_DISCOVERY_KEY), key SAI shall not exceed 3600000 (1h in ms) and must be encoded as a decimal value omitting any leading zeros. if key is not
available or has an invalid value, the default MRP_RETRY_INTERVAL_ACTIVE value must be used</p>
<p class="tableblock">- if (MCORE.SC.SAT_OP_DISCOVERY_KEY) and !MCORE.ICD, key SAT shall not exceed 65535 (65.535 seconds) and must be encoded as a decimal value omitting any leading zeros. if key is not
available or has an invalid value, the default SESSION_ACTIVE_THRESHOLD value shall be used</p>
<p class="tableblock">- if (MCORE.SC.SAT_OP_DISCOVERY_KEY) and MCORE.ICD, key SAT shall not exceed 65535 (65.535 seconds), must be encoded as a decimal value omitting any leading zeros, and equal to ICDM.S.A0002(ActiveModeThreshold)</p>
<p class="tableblock">- if (MCORE.SC.SAT_OP_DISCOVERY_KEY) presents, key SAI shall be present.</p>
<p class="tableblock">- if (MCORE.SC.T_KEY), key T it can have only 0 or 1 values and must be encoded as a decimal value omitting any leading zeros. if key is not available or has an invalid value, the default value 0 must be used indicating TCP is not supported.</p>
<p class="tableblock">DUT must publish AAAA records for each IPv6 address upon which they are willing to accept Matter messages.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_63"><a class="anchor" href="#_notestesting_considerations_63"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_4_4_discovery_dut_as_controller"><a class="anchor" href="#_tc_sc_4_4_discovery_dut_as_controller"></a>22.4.4. [TC-SC-4.4] Discovery [DUT as Controller]</h4>
<div class="sect4">
<h5 id="_category_86"><a class="anchor" href="#_category_86"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_87"><a class="anchor" href="#_purpose_87"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of this test case is to verify that a Matter controller is able to discover the IP address of nodes that interacted with.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_86"><a class="anchor" href="#_pics_86"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.CONTROLLER</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_53"><a class="anchor" href="#_preconditions_53"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nodes are joined in the same Fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_86"><a class="anchor" href="#_required_devices_86"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matter Controller</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matter Node that is advertising a service</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_40"><a class="anchor" href="#_device_topology_40"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_29"><a class="anchor" href="#_test_setup_29"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_86"><a class="anchor" href="#_test_procedure_86"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH starts commissioning process with DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is commissioned by DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0002(VendorID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT reads Vendor Id attribute from TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives the read command and shows Vendor Id value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change the IP address of TH by any means within the same network</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0002(VendorID)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT reads Vendor Id attribute from TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives the read command and shows Vendor Id value</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_64"><a class="anchor" href="#_notestesting_considerations_64"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_4_5_discovery_dut_as_commissioneethread_removed"><a class="anchor" href="#_tc_sc_4_5_discovery_dut_as_commissioneethread_removed"></a>22.4.5. [TC-SC-4.5] Discovery [DUT as Commissionee][Thread] - REMOVED</h4>
<div class="sect4">
<h5 id="_category_87"><a class="anchor" href="#_category_87"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_88"><a class="anchor" href="#_purpose_88"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of this test case is to verify that a Matter node with Thread transport layer is able to discover and advertise it&#8217;s own services in a Matter network.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_87"><a class="anchor" href="#_pics_87"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_54"><a class="anchor" href="#_preconditions_54"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nodes are joined in the same Fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH must implement DNS-SD Discovery Proxy, SRP and Advertising Proxy</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must implement SRP</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_87"><a class="anchor" href="#_required_devices_87"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matter node that has Thread transport layer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matter controller has Thread transport layer</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_41"><a class="anchor" href="#_device_topology_41"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_30"><a class="anchor" href="#_test_setup_30"></a>Test Setup</h5>
<div class="paragraph">
<p>N/A</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_87"><a class="anchor" href="#_test_procedure_87"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2-1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is instructed to start advertising two or more services using DNS-SD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH should start advertising its services</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.SII_OP_DISCOVERY_KEY
MCORE.SC.SAI_OP_DISCOVERY_KEY
MCORE.SC.T_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By any means, DUT is instructed to perform an unicast UDP query to the DNS-SD Discovery Proxy on TH for services</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH should respond with a list of services available in Matter network containing the following:</p>
<p class="tableblock">- DNS-SD instance name must be build from the compressed FabricID and the NodeID, separated by a hyphen</p>
<p class="tableblock">- service type must be _matter._tcp</p>
<p class="tableblock">- subtype _I&lt;hhhh&gt; represents compressed FabricID encoded as 16 hex UPPERcase chars.</p>
<p class="tableblock">- service domain is .local. For Unicast DNS such as used on Thread the service domain SHALL be as configured automatically by the Thread Border Router</p>
<p class="tableblock">- target hostname is derived from the 64 bit extended MAC address expressed as a sixteen capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.</p>
<p class="tableblock">- if (MCORE.SC.SII_OP_DISCOVERY_KEY), key SII shall not exceed 3600000 (1h in ms) and must be encoded as a decimal value omitting any leading zeros. if key is not
available or has an invalid value, the default MRP_RETRY_INTERVAL_IDLE value must be used</p>
<p class="tableblock">- if (MCORE.SC.SAI_OP_DISCOVERY_KEY ), key SAI shall not exceed 3600000 (1h in ms) and must be encoded as a decimal value omitting any leading zeros. if key is not
available or has an invalid value, the default MRP_RETRY_INTERVAL_ACTIVE value must be used</p>
<p class="tableblock">- if (MCORE.SC.T_KEY), key T it can have only 0 or 1 values and must be encoded as a decimal value omitting any leading zeros. if key is not available or has an invalid value, the default value 0 must be used indicating TCP is not supported.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2-1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH performs a change in one of the services configured at step 1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.SII_OP_DISCOVERY_KEY
MCORE.SC.SAI_OP_DISCOVERY_KEY
MCORE.SC.T_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must receive a notification with new data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">New data must contain the changes from step 3 and include:</p>
<p class="tableblock">- DNS-SD instance name must be 64-bit compressed FabricID</p>
<p class="tableblock">- service type must be _matter._tcp</p>
<p class="tableblock">- subtype _I&lt;hhhh&gt; represents compressed FabricID encoded as 16 hex UPPERcase chars.</p>
<p class="tableblock">- service domain is .local. For Unicast DNS such as used on Thread the service domain SHALL be as configured automatically by the Thread Border Router</p>
<p class="tableblock">- target hostname is derived from the 64 bit MAC address expressed as a sixteen capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.</p>
<p class="tableblock">- if (MCORE.SC.SII_COMM_DISCOVERY_KEY), key SII shall not exceed 3600000 (1h in ms) and must be encoded as a decimal value omitting any leading zeros. if key is not
available or has an invalid value, the default MRP_RETRY_INTERVAL_IDLE value must be used</p>
<p class="tableblock">- if (MCORE.SC.SAI_COMM_DISCOVERY_KEY), key SAI shall not exceed 3600000 (1h in ms) and must be encoded as a decimal value omitting any leading zeros. if key is not
available or has an invalid value, the default MRP_RETRY_INTERVAL_ACTIVE value must be used</p>
<p class="tableblock">- if (MCORE.SC.T_KEY), key T it can have only 0 or 1 values and must be encoded as a decimal value omitting any leading zeros. if key is not available or has an invalid value, the default value 0 must be used indicating TCP is not supported.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_65"><a class="anchor" href="#_notestesting_considerations_65"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_4_6commissioner_discovery_dut_as_commissioner"><a class="anchor" href="#_tc_sc_4_6commissioner_discovery_dut_as_commissioner"></a>22.4.6. [TC-SC-4.6]Commissioner Discovery [DUT as Commissioner]</h4>
<div class="sect4">
<h5 id="_category_88"><a class="anchor" href="#_category_88"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_89"><a class="anchor" href="#_purpose_89"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of this test case is to verify that a device that support Commissioner Discovery is able to advertise its commissioner service. This feature is optional for both Commissioner and Commissionee and must be run only if the device have support for this.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_88"><a class="anchor" href="#_pics_88"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>MCORE.DD.COMM_DISCOVERY</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_55"><a class="anchor" href="#_preconditions_55"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is connected to the IP network or supports SoftAP</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT and TH support Commissioner Discovery</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_88"><a class="anchor" href="#_required_devices_88"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node that is scanning for DNS-SD records from DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node that is advertising its services using DNS-SD</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_42"><a class="anchor" href="#_device_topology_42"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are in the same IP network if DUT has support.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_31"><a class="anchor" href="#_test_setup_31"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_88"><a class="anchor" href="#_test_procedure_88"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is instructed to start advertising its presence as a commissioner in the network</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.3-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.DEVTYPE_SUBTYPE
MCORE.SC.VP_KEY
MCORE.SC.DT_KEY
MCORE.SC.DN_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check DNS-SD subtypes used by DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT must publish AAAA records for each IPv6 address with the following:</p>
<p class="tableblock">- DNS-SD instance name must be 64-bit randomly selected ID expressed as a sixteen-char hex string with capital letters</p>
<p class="tableblock">- service type must be _matterd._udp</p>
<p class="tableblock">- service domain is .local. For Unicast DNS such as used on Thread the service domain SHALL be as configured automatically by the Thread Border Router</p>
<p class="tableblock">- if (MCORE.SC.DEVTYPE_SUBTYPE) present, _T&lt;ddd&gt; subtype is present, &lt;ddd&gt; represents device type from Data Model and must be represented as a variable length decimal number in ASCII  without leading zeros.</p>
<p class="tableblock">- target hostname is derived from the 48bit MAC address expressed as a twelve capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.</p>
<p class="tableblock">- if (MCORE.SC.VP_KEY) present, VP key must contain at least Vendor ID and if Product ID is present, values must be separated by a + sign.</p>
<p class="tableblock">- if (MCORE.SC.DT_KEY) present, DT key must contain the device type identifier from Data Model Device Types and must be encoded as a variable length decimal ASCII number without leading zeros</p>
<p class="tableblock">- if (MCORE.SC.DN_KEY) present, DN key must be a UTF-8 encoded string with a maximum length of 32B</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_66"><a class="anchor" href="#_notestesting_considerations_66"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_4_7_commissioner_discovery_dut_as_commissionee"><a class="anchor" href="#_tc_sc_4_7_commissioner_discovery_dut_as_commissionee"></a>22.4.7. [TC-SC-4.7] Commissioner Discovery [DUT as Commissionee]</h4>
<div class="sect4">
<h5 id="_category_89"><a class="anchor" href="#_category_89"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_90"><a class="anchor" href="#_purpose_90"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of this test case is to verify that a device that is already connected to an IP network is able to discover a commissioner. This feature is optional for both Commissioner and Commissionee and must be run only if the device have support for this.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_89"><a class="anchor" href="#_pics_89"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.DD.COMM_DISCOVERY</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_56"><a class="anchor" href="#_preconditions_56"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is connected to the IP network</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT and TH support Commissioner Discovery</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_89"><a class="anchor" href="#_required_devices_89"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node that is scanning for DNS-SD records from DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node that is advertising its services using DNS-SD</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_43"><a class="anchor" href="#_device_topology_43"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are in the same IP network if DUT has support.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_32"><a class="anchor" href="#_test_setup_32"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_89"><a class="anchor" href="#_test_procedure_89"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH is instructed to start advertising its presence as a commissioner in the network</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.3-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SC.DEVTYPE_SUBTYPE
MCORE.SC.VP_KEY
MCORE.SC.DT_KEY
MCORE.SC.DN_KEY</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan for DNS-SD commissioner advertisements from TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH must publish AAAA records for each IPv6 address with the following:</p>
<p class="tableblock">- DNS-SD instance name must be 64-bit randomly selected ID expressed as a sixteen-char hex string with capital letters</p>
<p class="tableblock">- service type must be _matterd._udp</p>
<p class="tableblock">- service domain is .local. For Unicast DNS such as used on Thread the service domain SHALL be as configured automatically by the Thread Border Router</p>
<p class="tableblock">- if (MCORE.SC.DEVTYPE_SUBTYPE) present, _T&lt;ddd&gt; subtype is present, &lt;ddd&gt; represents device type from Data Model and must be represented as a variable length decimal number in ASCII  without leading zeros.</p>
<p class="tableblock">- target hostname is derived from the 48bit MAC address expressed as a twelve capital letter hex string. If the MAC is randomized for privacy, the randomized version must be used each time.</p>
<p class="tableblock">- if (MCORE.SC.VP_KEY ) present, VP key must contain at least Vendor ID and if Product ID is present, values must be separated by a + sign.</p>
<p class="tableblock">- if (MCORE.SC.DT_KEY) present, DT key must contain the device type identifier from Data Model Device Types and must be encoded as a variable length decimal ASCII number without leading zeros</p>
<p class="tableblock">- if (MCORE.SC.DN_KEY) present, DN key must be a UTF-8 encoded string with a maximum length of 32B</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scan for DNS-SD commissioner advertisements from TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is able to discover TH</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_67"><a class="anchor" href="#_notestesting_considerations_67"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_4_8_compressed_fabric_id_remains_the_same_for_nodes_commissioned_to_the_same_fabric_dut_as_commissioner"><a class="anchor" href="#_tc_sc_4_8_compressed_fabric_id_remains_the_same_for_nodes_commissioned_to_the_same_fabric_dut_as_commissioner"></a>22.4.8. [TC-SC-4.8] Compressed Fabric ID remains the same for Nodes commissioned to the same fabric [DUT as Commissioner]</h4>
<div class="sect4">
<h5 id="_category_90"><a class="anchor" href="#_category_90"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_91"><a class="anchor" href="#_purpose_91"></a>Purpose</h5>
<div class="paragraph">
<p>This test case validates the following conditions:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Nodes on the same fabric has the same compressed fabric ID</p>
</li>
<li>
<p>Node removed from fabric and commissioned back to the same fabric has the same compressed fabric ID</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_90"><a class="anchor" href="#_pics_90"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_57"><a class="anchor" href="#_preconditions_57"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_90"><a class="anchor" href="#_required_devices_90"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_44"><a class="anchor" href="#_device_topology_44"></a>Device Topology</h5>
<div class="paragraph">
<p>TH1, TH2 and DUT are on the same fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_33"><a class="anchor" href="#_test_setup_33"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_90"><a class="anchor" href="#_test_procedure_90"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission TH1 to DUT&#8217;s Fabric</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extract the Compressed
Fabric ID assigned from DUT to TH1 and save the value for future use</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission TH2 to DUT&#8217;s Fabric</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Extract the Compressed
Fabric ID assigned from DUT to TH2 and save the value for future use</p>
</li>
<li>
<p>Verify that the value obtained from TH1 and TH2 are same</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send RemoveFabric from DUT to TH1 and commission DUT to TH1 again</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extract the Compressed Fabric ID assigned from DUT to TH1 and verify it is same as the value obtained in Step1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send RemoveFabric from DUT to TH2 and commission DUT to TH2 again</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extract the Compressed Fabric ID assigned from DUT to TH2 and verify it is same as the value obtained in Step2</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_68"><a class="anchor" href="#_notestesting_considerations_68"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_4_9_operational_discovery_rio_support_dut_as_commissionee"><a class="anchor" href="#_tc_sc_4_9_operational_discovery_rio_support_dut_as_commissionee"></a>22.4.9. [TC-SC-4.9] Operational Discovery - RIO support [DUT as Commissionee]</h4>
<div class="sect4">
<h5 id="_category_91"><a class="anchor" href="#_category_91"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_92"><a class="anchor" href="#_purpose_92"></a>Purpose</h5>
<div class="paragraph">
<p>This test case validates that RIO (Route Information Options) is properly processed by Matter nodes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_91"><a class="anchor" href="#_pics_91"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.SC.LWIP</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_58"><a class="anchor" href="#_preconditions_58"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 is a Commissioner, working over Ethernet or Wi-Fi transport, able to commission DUT into a given Fabric and implementing RFC-4191</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 is a Commissioner/Controller Thread 1.3 device (only on Thread, not on Wi-Fi or Ethernet), joined to the PAN of the BR and already commissioned on the same Fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is a Commissionee Ethernet or Wi-Fi device and implementing RFC-4191</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE will adopt an address on the GUA prefix e.g. 2001:12ab::/64 and use it as default route (::/0)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE sees the RA w/ RIO and adds the off-mesh prefix preferred route, so that any messages for that off-mesh prefix routes there INSTEAD of the default gateway</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BR is a Thread 1.3 border router, with link to DUT over Wi-Fi or Ethernet, in the same VLAN</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RT is a Wi-Fi or Ethernet router advertising a default route (i,e, against ::/0 prefix) with a GUA prefix advertised. That prefix MUST also route to the public internet to avoid the different entities bailing out of having this prefix because it&#8217;s an invalid environment detected to be artificial.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_91"><a class="anchor" href="#_required_devices_91"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as a Commissioner, working over Ethernet or Wi-Fi transport,</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as a Commissioner/Controller Thread 1.3 device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee over Ethernet or Wi-Fi transport</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Thread 1.3 Border Router - This is a passive element</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wi-Fi or Ethernet Router - This is a passive element</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_45"><a class="anchor" href="#_device_topology_45"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CR1 will use to commission DUT_CE. TH_CR2 is on thread network whose BR is reachable to TH_CR1.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_34"><a class="anchor" href="#_test_setup_34"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_91"><a class="anchor" href="#_test_procedure_91"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using TH_CR1, commission the DUT_CE onto the Matter network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1 on Fabric ID1 and is assigned a node ID1, under TH_CR1&#8217;s root of trust. Note the compressed fabric ID and node ID of DUT_CE post-commissioning for purposes of constructing an operational service instance name in step 3.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bring the TH_CR2 onto the thread network</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 is on a thread network whose BR is reachable to TH_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using TH_CR2, using ICMPv6 echo to ping with a payload &gt;= 32 bytes to the the DUT_CE that is already commissioned to the Matter network. IP address is determined by operational discovery of the DNS-SD operational service record (_matter._tcp service instance) of DUT_CE done by TH_CR2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Successful ping indicates DUT_CE is reachable from TH_CR2 and that it can route an echo response via a border router back to TH_CR2, which is only possible if a preferred route for the destination was properly handled by DUT_CE by processing of a Route Information Option within a Router Advertisement previously sent by BR.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_69"><a class="anchor" href="#_notestesting_considerations_69"></a>Notes/Testing considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_4_10_operational_discovery_sit_icd_node_dut_as_commissionee"><a class="anchor" href="#_tc_sc_4_10_operational_discovery_sit_icd_node_dut_as_commissionee"></a>22.4.10. [TC-SC-4.10] Operational Discovery - SIT ICD Node [DUT as Commissionee]</h4>
<div class="sect4">
<h5 id="_category_92"><a class="anchor" href="#_category_92"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_93"><a class="anchor" href="#_purpose_93"></a>Purpose</h5>
<div class="paragraph">
<p>The purpose of this test case is to verify that a Short Idle Time ICD node properly advertises SAI/SII values.  This verification is in addition any other operational/commissionable discovery test cases.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_92"><a class="anchor" href="#_pics_92"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>MCORE.SC.SIT_ICD</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_preconditions_59"><a class="anchor" href="#_preconditions_59"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nodes are joined in the same Fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is a Short Idle Time ICD (MCORE.SC.SIT_ICD)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_92"><a class="anchor" href="#_required_devices_92"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matter Node that is advertising a service</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Matter Controller</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_46"><a class="anchor" href="#_device_topology_46"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_35"><a class="anchor" href="#_test_setup_35"></a>Test Setup</h5>
<div class="paragraph">
<p>N/A</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_92"><a class="anchor" href="#_test_procedure_92"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.3.2.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is instructed to advertise its service</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should start to advertise its service via DNS-SD</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH scans for DNS-SD advertising</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH finds the DUT advertisement.</p>
<p class="tableblock">Verify the DUT advertising for:</p>
<p class="tableblock">- SII key is higher than the SESSION_IDLE_INTERVAL default value (&gt; 300 milliseconds)</p>
<p class="tableblock">- SII key and SAI key is less than 3600000 (1hour in milliseconds)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_70"><a class="anchor" href="#_notestesting_considerations_70"></a>Notes/Testing considerations</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Refer to device manufacturer specifications for polling intervals.</p>
</li>
</ol>
</div>
<hr>
</div>
</div>
</div>
</div>
</div>
<h1 id="_group_communication" class="sect0"><a class="anchor" href="#_group_communication"></a><strong>Group Communication</strong></h1>
<div class="sect1">
<h2 id="_pics_definition_7"><a class="anchor" href="#_pics_definition_7"></a>23. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Group Communication related PICS items that are referenced in the following test cases.</p>
</div>
<div class="sect2">
<h3 id="_role_5"><a class="anchor" href="#_role_5"></a>23.1. Role</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the Groups cluster as a server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the Groups cluster as a client?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the Group Key Management cluster as a server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the Group Key Management cluster as a client?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_server_5"><a class="anchor" href="#_server_5"></a>23.2. Server</h3>
<div class="sect3">
<h4 id="_features_3"><a class="anchor" href="#_features_3"></a>23.2.1. Features</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.S.F00(GN)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Server) support Group Names feature?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.F00(CS)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Server) support CacheAndSync security policy and MCSP feature?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_attributes_5"><a class="anchor" href="#_attributes_5"></a>23.2.2. Attributes</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0000(GroupKeyMap)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the GroupKeyMap attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0001(GroupTable)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the GroupTable attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0002(MaxGroupsPerFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the MaxGroupsPerFabric attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0003(MaxGroupKeysPerFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the MaxGroupKeysPerFabric attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_commands_received_5"><a class="anchor" href="#_commands_received_5"></a>23.2.3. Commands received</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the KeySetWrite command}?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C01.Rsp(KeySetRead)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the KeySetRead  command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C03.Rsp(KeySetRemove)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the KeySetRemove  command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C04.Rsp(KeySetReadAllIndices)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the KeySetReadAllIndices command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.S.C00.Rsp(AddGroup)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the AddGroup Command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.S.C01.Rsp(ViewGroup)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the ViewGroup Command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.S.C04.Rsp(RemoveAllGroups)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the RemoveAllGroups Command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_commands_generated_5"><a class="anchor" href="#_commands_generated_5"></a>23.2.4. Commands generated</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C02.Tx(KeySetReadResponse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement transmitting of the KeySetReadResponse command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C05.Tx(KeySetReadAllIndicesResponse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement transmitting of the KeySetReadAllIndicesResponse command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_client_3"><a class="anchor" href="#_client_3"></a>23.3. Client</h3>
<div class="sect3">
<h4 id="_attributes_6"><a class="anchor" href="#_attributes_6"></a>23.3.1. Attributes</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.C.A0000(GroupKeyMap)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) have access privileges for the GroupKeyMap attribute implemented on the server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.C.A0001(GroupKeyTable)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) have access privileges for the GroupKeyTable attribute implemented on the server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_commands_generated_6"><a class="anchor" href="#_commands_generated_6"></a>23.3.2. Commands generated</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.C.C00.Tx(AddGroup)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Client) implement sending AddGroup Command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.C.C01.Tx(ViewGroup)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Client) implement sending ViewGroup Command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.C.C00.Tx(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Client) implement sending KeySetWrite Command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.C.C01.Tx(KeySetRead)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(Client) implement sending KeySetRead Command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pixit_definition_3"><a class="anchor" href="#_pixit_definition_3"></a>24. PIXIT Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Group Communication related PIXIT items that are referenced in the following test cases</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.G.ENDPOINT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endpoint supported for Groups cluster is given by the DUT Manufacturer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_case_list_6"><a class="anchor" href="#_test_case_list_6"></a>25. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>TC UUID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case Name</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-GRPKEY-1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Global Attributes with DUT as Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-GRPKEY-2.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attributes {DUT-Server}</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-GRPKEY-2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commands - All Commands of Group Key Management Cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-5.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adding member to a group - TH as Admin and DUT as Group Member</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Receiving a group message - TH to DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sending a group message - TH to DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-GRPKEY-5.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verification for KeySetReadResponse Command for CacheAndSync</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SC-6.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adding member to a group - DUT as Admin and TH as Group Member [DUT-Client]</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases_6"><a class="anchor" href="#_test_cases_6"></a>26. Test Cases</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_generic_test_cases_4"><a class="anchor" href="#_generic_test_cases_4"></a>26.1. Generic test cases</h3>
<div class="sect3">
<h4 id="_tc_grpkey_1_1_global_attributes_with_dut_as_server"><a class="anchor" href="#_tc_grpkey_1_1_global_attributes_with_dut_as_server"></a>26.1.1. [TC-GRPKEY-1.1] Global Attributes with DUT as Server</h4>
<div class="sect4">
<h5 id="_category_93"><a class="anchor" href="#_category_93"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_94"><a class="anchor" href="#_purpose_94"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the behavior of the global attributes of the cluster server.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_93"><a class="anchor" href="#_pics_93"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>GRPKEY.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_93"><a class="anchor" href="#_required_devices_93"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_93"><a class="anchor" href="#_test_procedure_93"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission DUT to TH (can be skipped if done in a preceding test).</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>ClusterRevision</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>ClusterRevision</em> attribute and has the value 2.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>FeatureMap</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the FeatureMap attribute and have the following bit set:</p>
<p class="tableblock">- bit 0: SHALL be 1 if and only if GRPKEY.S.F00(CS)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>AttributeList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>AttributeList</em> attribute and have the list of supported attributes:</p>
<p class="tableblock">The list SHALL include all the mandatory entries:<br>
0x0000, 0x0001, 0x0002, 0x003,
0xfff8, 0xfff9, 0xfffb, 0xfffc and 0xfffd.</p>
<p class="tableblock">The list SHALL NOT contain any additional values in the standard or scoped range: (0x0000_0000 - 0x0000_4FFF) and (0x0000_F000 - 0x0000_FFFE)<br></p>
<p class="tableblock">The list MAY contain values in the Manufacturer Extensible Identifier (MEI) range: (0xXXXX_0000 - 0xXXXX_4FFF), where XXXX is the allowed MEI range (0x0001 - 0xFFF0), these values SHALL be ignored.<br></p>
<p class="tableblock">The list SHALL NOT contain any values in the Test Vendor or invalid range: (0x0000_5000 - 0x0000_EFFF and 0x0000_FFFF), (0xXXXX_5000 - 0xXXXX_FFFF) and (0xFFF1_0000 - 0xFFFF_FFFF), where XXXX is the allowed MEI range (0x0001 - 0xFFF0).<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5<sup>*</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>EventList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>EventList</em> attribute and have the list of supported events:</p>
<p class="tableblock">This cluster has no entries in the standard or scoped range.<br></p>
<p class="tableblock">The list SHALL NOT contain any additional values in the standard or scoped range: (0x0000_0000 - 0x0000_00FF)<br></p>
<p class="tableblock">The list MAY contain values in the Manufacturer Extensible Identifier (MEI) range: (0xXXXX_0000 - 0xXXXX_00FF), where XXXX is the allowed MEI range (0x0001 - 0xFFF0), these values SHALL be ignored.<br></p>
<p class="tableblock">The list SHALL NOT contain any values in the Test Vendor or invalid range: (0x0000_0100 - 0x0000_FFFF), (0xXXXX_0100 - 0xXXXX_FFFF) and (0xFFF1_0000 - 0xFFFF_FFFF), where XXXX is the allowed MEI range (0x0001 - 0xFFF0).<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>AcceptedCommandList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>AcceptedCommandList</em> attribute and have the list of Accepted Command:</p>
<p class="tableblock">The list SHALL include all the mandatory entries:<br>
0x00, 0x01, 0x03 &amp; 0x04</p>
<p class="tableblock">The list SHALL NOT contain any additional values in the standard or scoped range: (0x0000_0000 - 0x0000_00FF)<br></p>
<p class="tableblock">The list MAY contain values in the Manufacturer Extensible Identifier (MEI) range: (0xXXXX_0000 - 0xXXXX_00FF), where XXXX is the allowed MEI range (0x0001 - 0xFFF0), these values SHALL be ignored.<br></p>
<p class="tableblock">The list SHALL NOT contain any values in the Test Vendor or invalid range: (0x0000_0100 - 0x0000_FFFF), (0xXXXX_0100 - 0xXXXX_FFFF) and (0xFFF1_0000 - 0xFFFF_FFFF), where XXXX is the allowed MEI range (0x0001 - 0xFFF0).<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.7.13.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads from the DUT the <em>GeneratedCommandList</em> attribute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT response contains the <em>GeneratedCommandList</em> attribute and have the list of Generated Command:</p>
<p class="tableblock">The list SHALL include all the mandatory entries:<br>
0x02 &amp; 0x05.</p>
<p class="tableblock">The list SHALL NOT contain any additional values in the standard or scoped range: (0x0000_0000 - 0x0000_00FF)<br></p>
<p class="tableblock">The list MAY contain values in the Manufacturer Extensible Identifier (MEI) range: (0xXXXX_0000 - 0xXXXX_00FF), where XXXX is the allowed MEI range (0x0001 - 0xFFF0), these values SHALL be ignored.<br></p>
<p class="tableblock">The list SHALL NOT contain any values in the Test Vendor or invalid range: (0x0000_0100 - 0x0000_FFFF), (0xXXXX_0100 - 0xXXXX_FFFF) and (0xFFF1_0000 - 0xFFFF_FFFF), where XXXX is the allowed MEI range (0x0001 - 0xFFF0).<br></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_71"><a class="anchor" href="#_notestesting_considerations_71"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p><sup>*</sup> Step 5 is currently not supported and SHALL be skipped.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_server_as_dut"><a class="anchor" href="#_server_as_dut"></a>26.2. Server as DUT</h3>
<hr>
</div>
<div class="sect2">
<h3 id="_dut_as_server_4"><a class="anchor" href="#_dut_as_server_4"></a>26.3. DUT as Server</h3>
<hr>
<div class="sect3">
<h4 id="_tc_grpkey_2_1_attributes_dut_server"><a class="anchor" href="#_tc_grpkey_2_1_attributes_dut_server"></a>26.3.1. [TC-GRPKEY-2.1] Attributes [DUT-Server]</h4>
<div class="sect4">
<h5 id="_category_94"><a class="anchor" href="#_category_94"></a>Category</h5>
<div class="paragraph">
<p>Functional.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_95"><a class="anchor" href="#_purpose_95"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the non-global attributes of the Group Key Management cluster server.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_94"><a class="anchor" href="#_pics_94"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>GRPKEY.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_94"><a class="anchor" href="#_required_devices_94"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_47"><a class="anchor" href="#_device_topology_47"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_36"><a class="anchor" href="#_test_setup_36"></a>Test Setup</h5>
<div class="paragraph">
<p>Commission DUT to TH (can be skipped if done in a preceding test).</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_94"><a class="anchor" href="#_test_procedure_94"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.6.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0000(GroupKeyMap)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads GroupKeyMap attribute from DUT using a fabric-filtered read.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH is able to read the GroupKeyMap attribute list successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.6.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0000(GroupKeyMap)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH binds GroupId 0x0103 with GroupKeySetID 0x01a3 in the GroupKeyMap attribute list on GroupKeyManagement cluster by writing the GroupKeyMap attribute with one entry as follows:</p>
<p class="tableblock">List item 1:</p>
<p class="tableblock">GroupId: 0x0103</p>
<p class="tableblock">GroupKeySetId: 0x01a3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status SUCCESS(0x00)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.6.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0000(GroupKeyMap)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads GroupKeyMap Attribute from the GroupKeyManagement cluster from DUT using a fabric-filtered read.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that the returned list contains a a single list item with structure fields:</p>
</div>
<div class="paragraph">
<p>GroupId: 0x0103</p>
</div>
<div class="paragraph">
<p>GroupKeySetId: 0x01a3</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT. GroupKeySet fields are as follows:</p>
<p class="tableblock">* GroupKeySetID: 0x01a3</p>
<p class="tableblock">* GroupKeySecurityPolicy: TrustFirst (0)</p>
<p class="tableblock">* EpochKey0: d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
<p class="tableblock">* EpochStartTime0:1</p>
<p class="tableblock">* EpochKey1: d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
<p class="tableblock">* EpochStartTime1: 18446744073709551613</p>
<p class="tableblock">* EpochKey2: d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
<p class="tableblock">* EpochStartTime2: 18446744073709551614</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status SUCCESS(0x00)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.2.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0001(GroupTable)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads GroupTable attribute from GroupKeyManagement cluster on DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH is able to read the GroupTable attribute list successfully.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0001(GroupTable),
G.S.F00(GN)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH attempts to write to the GroupTable attribute from GroupKeyManagement cluster on DUT with one entry as follows:</p>
<p class="tableblock">GroupId: 0x0104</p>
<p class="tableblock">Endpoints: [PIXIT.G.ENDPOINT]</p>
<p class="tableblock">GroupName: "Test Group2"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status UNSUPPORTED_WRITE(0x88)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0001(GroupTable),
!G.S.F00(GN)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH attempts to write to the GroupTable attribute from GroupKeyManagement cluster on DUT with one entry as follows:</p>
<p class="tableblock">GroupId: 0x0104</p>
<p class="tableblock">Endpoints: [PIXIT.G.ENDPOINT]</p>
<p class="tableblock">GroupName: ""</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status UNSUPPORTED_WRITE(0x88)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.6.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0002(MaxGroupsPerFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads MaxGroupsPerFabric attribute from GroupKeyManagement cluster on DUT using a fabric-filtered read.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the MaxGroupsPerFabric attribute, Value has to be between a range of [min=0, max=65535].</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.6.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0002(MaxGroupsPerFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH attempts to write MaxGroupsPerFabric attribute of GroupKeyManagement cluster to the same value as read in step 8.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status UNSUPPORTED_WRITE(0x88)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.6.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0003(MaxGroupKeysPerFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads MaxGroupKeysPerFabric attribute from GroupKeyManagement cluster on DUT using a fabric-filtered read.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the value is within the range from 1 to 65535.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.6.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0003(MaxGroupKeysPerFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH attempts to write MaxGroupKeysPerFabric attribute of GroupKeyManagement cluster on DUT to the same value as read in step 10.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status UNSUPPORTED_WRITE(0x88)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_72"><a class="anchor" href="#_notestesting_considerations_72"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>This test checks for attribute values in basic ranges. The Resource Requirement test (TC-RR-1.1) will test that the minimum values are set correctly based on the device requirements.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tc_grpkey_2_2_primary_functionality_with_dut_as_server"><a class="anchor" href="#_tc_grpkey_2_2_primary_functionality_with_dut_as_server"></a>26.3.2. [TC-GRPKEY-2.2] Primary functionality with DUT as Server</h4>
<div class="sect4">
<h5 id="_category_95"><a class="anchor" href="#_category_95"></a>Category</h5>
<div class="paragraph">
<p>Functional.</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_96"><a class="anchor" href="#_purpose_96"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the primary functionality of the Group Key Management cluster server.
The test case verifies for the  DUT response when the below commands are sent with different EpochKey,EpochKeyStartTime and GroupKeySetID values covering negative checks.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>KeySetWrite
KeySetRead
KeySetRemove
KeySetReadAllIndices</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_pics_95"><a class="anchor" href="#_pics_95"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>GRPKEY.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_95"><a class="anchor" href="#_required_devices_95"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_48"><a class="anchor" href="#_device_topology_48"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_37"><a class="anchor" href="#_test_setup_37"></a>Test Setup</h5>
<div class="paragraph">
<p>Commission DUT to TH (can be skipped if done in a preceding test).</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_95"><a class="anchor" href="#_test_procedure_95"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.3.6.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0003(MaxGroupKeysPerFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads MaxGroupKeysPerFabric  attribute from GroupKeyManagement cluster on DUT  using a fabric-filtered read. Save the value as Max_GrpKey for future use.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT on EP0 with GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0: d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: 1</p>
</li>
<li>
<p>EpochKey1: d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: 18446744073709551613</p>
</li>
<li>
<p>EpochKey2: d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2:18446744073709551614</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status SUCCESS(0x00)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C01.Rsp(KeySetRead),GRPKEY.S.C02.Tx(KeySetReadResponse)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetRead command to GroupKeyManagement cluster with GroupKeySetID as 0x01a</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that EpochKey fields are replaced by null.</p>
</li>
<li>
<p>Verify that EpochStartTime values matches the values sent in step 2</p>
</li>
<li>
<p>Verify that the DUT sends a KeySetReadResponse with the GroupKeySet having the following fields:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>GroupKeySetID: 0x01a</p>
</div>
<div class="paragraph">
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</div>
<div class="paragraph">
<p>EpochKey0: null</p>
</div>
<div class="paragraph">
<p>EpochStartTime0: 1</p>
</div>
<div class="paragraph">
<p>EpochKey1: null</p>
</div>
<div class="paragraph">
<p>EpochStartTime1: 18446744073709551613</p>
</div>
<div class="paragraph">
<p>EpochKey2: null</p>
</div>
<div class="paragraph">
<p>EpochStartTime2: 18446744073709551614</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT on EP0 with GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0: d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: 1</p>
</li>
<li>
<p>EpochKey1: null</p>
</li>
<li>
<p>EpochStartTime1: null</p>
</li>
<li>
<p>EpochKey2: null</p>
</li>
<li>
<p>EpochStartTime2: null</p>
<div class="ulist">
<ul>
<li>
<p>Note: EpochKey1 and  EpochKey2 are null</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status SUCCESS(0x00)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT on EP0 with GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0: d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: 1</p>
</li>
<li>
<p>EpochKey1: d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: 18446744073709551613</p>
</li>
<li>
<p>EpochKey2: null</p>
</li>
<li>
<p>EpochStartTime2: null</p>
<div class="ulist">
<ul>
<li>
<p>Note: Only EpochKey2 is null</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status SUCCESS(0x00)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT on EP0 with command fields as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0: null</p>
</li>
<li>
<p>EpochStartTime0: 1</p>
</li>
<li>
<p>EpochKey1: d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: 18446744073709551613</p>
</li>
<li>
<p>EpochKey2: d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2:  18446744073709551614</p>
<div class="ulist">
<ul>
<li>
<p>Note: EpochKey0 is null</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status INVALID_COMMAND(0x85)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT on EP0 with GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0:  d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: null</p>
</li>
<li>
<p>EpochKey1: d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: 18446744073709551613</p>
</li>
<li>
<p>EpochKey2: d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2:  18446744073709551614</p>
<div class="ulist">
<ul>
<li>
<p>Note: EpochStartTime0 is null</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status INVALID_COMMAND(0x85)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT on EP0 with GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0: d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: 0</p>
</li>
<li>
<p>EpochKey1: d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: 18446744073709551613</p>
</li>
<li>
<p>EpochKey2: d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2:18446744073709551614</p>
<div class="ulist">
<ul>
<li>
<p>Note:  EpochStartTime0 is set to 0</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status INVALID_COMMAND(0x85)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT on EP0 with GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0: d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: 1</p>
</li>
<li>
<p>EpochKey1: null</p>
</li>
<li>
<p>EpochStartTime1: 18446744073709551613</p>
</li>
<li>
<p>EpochKey2: d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2:18446744073709551614</p>
<div class="ulist">
<ul>
<li>
<p>Note:  EpochKey1 is set to null and EpochStartTime1 is not null</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status INVALID_COMMAND(0x85)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT on EP0 with GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0: d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: 1</p>
</li>
<li>
<p>EpochKey1: d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: null</p>
</li>
<li>
<p>EpochKey2: d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2:18446744073709551614</p>
<div class="ulist">
<ul>
<li>
<p>Note:  EpochKey1 is not null and EpochStartTime1 is null</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status INVALID_COMMAND(0x85)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT on EP0 with GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0:   d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: 18446744073709551613</p>
</li>
<li>
<p>EpochKey1: d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: 1</p>
</li>
<li>
<p>EpochKey2: d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2: 18446744073709551614</p>
<div class="ulist">
<ul>
<li>
<p>Note: EpochStartTime1 is earlier than EpochStartTime0</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status INVALID_COMMAND(0x85)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT on EP0 with GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0:  d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: 1</p>
</li>
<li>
<p>EpochKey1: null</p>
</li>
<li>
<p>EpochStartTime1: null</p>
</li>
<li>
<p>EpochKey2: d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2:  18446744073709551614</p>
<div class="ulist">
<ul>
<li>
<p>Note: EpochKey1 and EpochStartTime1 are null when EpochKey2 and EpochStartTime2 are not null</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status INVALID_COMMAND(0x85)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT on EP0 with GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0:   d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: 1</p>
</li>
<li>
<p>EpochKey1: d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: 18446744073709551613</p>
</li>
<li>
<p>EpochKey2: null</p>
</li>
<li>
<p>EpochStartTime2: 18446744073709551614</p>
<div class="ulist">
<ul>
<li>
<p>Note:  EpochKey2 is set to null and EpochStartTime2 is not null</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status INVALID_COMMAND(0x85)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT on EP0 with GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0:   d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: 1</p>
</li>
<li>
<p>EpochKey1: d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: 18446744073709551613</p>
</li>
<li>
<p>EpochKey2: d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2: null</p>
<div class="ulist">
<ul>
<li>
<p>Note:  EpochKey2 is not null and EpochStartTime2 is null</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status INVALID_COMMAND(0x85)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT on EP0 with GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0:   d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: 1</p>
</li>
<li>
<p>EpochKey1: d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: 18446744073709551613</p>
</li>
<li>
<p>EpochKey2: d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2: 1</p>
<div class="ulist">
<ul>
<li>
<p>Note: EpochStartTime2 is earlier than EpochStartTime1</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status INVALID_COMMAND(0x85)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="KeySetWrite"></a>16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT on EP0 with GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0:   d0</p>
</li>
<li>
<p>EpochStartTime0: 1</p>
</li>
<li>
<p>EpochKey1: d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: 18446744073709551613</p>
</li>
<li>
<p>EpochKey2: d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2: 1</p>
<div class="ulist">
<ul>
<li>
<p>Note1: Repeat the step by sending EpochKey1 and  EpochKey2 with 1 byte value (&lt; 16 bytes)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status CONSTRAINT_ERROR(0x87)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Repeat step <a href="#KeySetWrite">16</a> by sending KeySetWrite Command with EpochKey0, EpochKey1 and EpochKey2 having 15 bytes value (&lt; 16 byte)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status CONSTRAINT_ERROR(0x87)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Repeat step <a href="#KeySetWrite">16</a> by sending KeySetWrite Command with EpochKey0, EpochKey1 and EpochKey2 having 17 bytes value (&gt; 16 bytes)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status CONSTRAINT_ERROR(0x87)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT on EP0 with GroupKeySet fields  as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0: d3d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: 1</p>
</li>
<li>
<p>EpochKey1: d4d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: 17446744073709551613</p>
</li>
<li>
<p>EpochKey2: d5d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2: 17446744073709551614</p>
<div class="ulist">
<ul>
<li>
<p>Note: KeySetWrite command is sent with different EpochKeys,EpochStartTime1 and EpochStartTime2 values</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status SUCCESS(0x00)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C01.Rsp(KeySetRead)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetRead command to GroupKeyManagement cluster with GroupKeySetID as 0x01a</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that EpochStartTime values matches the values sent in the previous step</p>
</li>
<li>
<p>Verify that the DUT sends a KeySetReadResponse with the GroupKeySet having the following fields:</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>GroupKeySetID: 0x01a</p>
</div>
<div class="paragraph">
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</div>
<div class="paragraph">
<p>EpochKey0: null</p>
</div>
<div class="paragraph">
<p>EpochStartTime0: 1</p>
</div>
<div class="paragraph">
<p>EpochKey1: null</p>
</div>
<div class="paragraph">
<p>EpochStartTime1: 17446744073709551613</p>
</div>
<div class="paragraph">
<p>EpochKey2: null</p>
</div>
<div class="paragraph">
<p>EpochStartTime2: 17446744073709551614</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C01.Rsp(KeySetRead)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetRead command to GroupKeyManagement cluster with GroupKeySetID as 0x01b that does not exist in the GroupKeyMap attribute list.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify DUT responds w/ status NOT_FOUND(0x8b)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C03.Rsp(KeySetRemove)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH removes the Group key set that was added by sending a KeySetRemove command to the GroupKeyManagement cluster with the GroupKeySetID field set to 0x01a.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status SUCCESS(0x00)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends KeySetWrite command to DUT until size of list for TH&#8217;s fabric in GroupKeyMap attribute contains Max_GrpKey entries, starting with GroupKeySetID 1 and incrementing by 1 each time.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH again sends KeySetWrite command to DUT with any other GroupKeySetID not used yet.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status RESOURCE_EXHAUSTED(0x89)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C04.Rsp(KeySetReadAllIndices),GRPKEY.S.C05.Tx(KeySetReadAllIndicesResponse)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends KeySetReadAllIndices command to DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT sends KeySetReadAllIndicesResponse Command with Max_GrpKey number of GroupKeySetID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C03.Rsp(KeySetRemove)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH removes the Group key set that was added by sending a KeySetRemove command to the GroupKeyManagement cluster with the GroupKeySetID field set to 0x0</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status INVALID_COMMAND(0x85)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C03.Rsp(KeySetRemove)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH removes the Group key set that was added by sending a KeySetRemove command to the GroupKeyManagement cluster with the GroupKeySetID field set to 0x01b that does not exist in the GroupKeyMap attribute list.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status NOT_FOUND(0x8b)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_5_1_adding_member_to_a_group_th_as_admin_and_dut_as_group_member"><a class="anchor" href="#_tc_sc_5_1_adding_member_to_a_group_th_as_admin_and_dut_as_group_member"></a>26.3.3. [TC-SC-5.1] Adding member to a group - TH as Admin and DUT as Group Member</h4>
<div class="sect4">
<h5 id="_category_96"><a class="anchor" href="#_category_96"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_97"><a class="anchor" href="#_purpose_97"></a>Purpose</h5>
<div class="paragraph">
<p>To verify that GroupKeySets and Groups can be added and removed from DUT</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_96"><a class="anchor" href="#_pics_96"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>GRPKEY.S</p>
</li>
<li>
<p>G.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_precondition_4"><a class="anchor" href="#_precondition_4"></a>Precondition</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned by TH</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_96"><a class="anchor" href="#_required_devices_96"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 85%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Under Test</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_49"><a class="anchor" href="#_device_topology_49"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT is commissioned to a single fabric by TH.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_38"><a class="anchor" href="#_test_setup_38"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_96"><a class="anchor" href="#_test_procedure_96"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH writes the ACL attribute in the Access Control cluster to add Operate privileges for group 0x0103 and maintain the current administrative privileges for the TH. The following access control list shall be used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>List item 1 (TH admin):</p>
<div class="ulist">
<ul>
<li>
<p>Privilege: Administer (5)</p>
</li>
<li>
<p>AuthMode: CASE (2)</p>
</li>
<li>
<p>Subjects: TH node id ([<code>N1</code>])</p>
</li>
<li>
<p>Targets: all (null)</p>
</li>
</ul>
</div>
</li>
<li>
<p>List item 2 (group operate access):</p>
<div class="ulist">
<ul>
<li>
<p>Privilege: Operate (3)</p>
</li>
<li>
<p>AuthMode: Group (3)</p>
</li>
<li>
<p>Subjects: group 0x0103 ([0x0103])</p>
</li>
<li>
<p>Targets: all (null)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status SUCCESS(0x00)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT using a key that is NOT installed on the TH. This is intended to test that the key set is correctly updated in the next step. GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a3</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0: 00000000000000000000000000000001</p>
</li>
<li>
<p>EpochStartTime0: 111</p>
</li>
<li>
<p>EpochKey1: 00000000000000000000000000000002</p>
</li>
<li>
<p>EpochStartTime1: 222</p>
</li>
<li>
<p>EpochKey2: 00000000000000000000000000000003</p>
</li>
<li>
<p>EpochStartTime2: 333</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status SUCCESS(0x00)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT using a key that is pre-installed on the TH. GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a3</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0: d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: 1</p>
</li>
<li>
<p>EpochKey1: d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: 18446744073709551613</p>
</li>
<li>
<p>EpochKey2: d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2: 18446744073709551614</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status SUCCESS(0x00)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0000(GroupKeyMap)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH binds GroupId 0x0103 with GroupKeySetID 0x01a3 in the GroupKeyMap attribute list on GroupKeyManagement cluster by writing the GroupKeyMap attribute with one entry as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>List item 1:</p>
<div class="ulist">
<ul>
<li>
<p>GroupId: 0x0103</p>
</li>
<li>
<p>GroupKeySetId: 0x01a3</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status SUCCESS(0x00)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">appclusters-1.3.7.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.S.C04.Rsp(RemoveAllGroups)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends RemoveAllGroups command to the DUT on PIXIT.G.ENDPOINT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a id="add-group"></a>5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">appclusters-1.3.6.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.S.C00.Rsp(AddGroup)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends AddGroup Command to DUT on PIXIT.G.ENDPOINT with the the following settings</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupID: 0x0103</p>
</li>
<li>
<p>GroupName: "Test Group"</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a AddGroupResponse with the Status set to SUCCESS and the GroupID set to 0x0103</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">6a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">appclusters-1.3.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.S.F00(GN),G.S.C01.Rsp(ViewGroup)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ViewGroup command with the GroupID to the Group cluster on the DUT on PIXIT.G.ENDPOINT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify DUT sends a ViewGroupResponse command with</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Status: SUCCESS</p>
</li>
<li>
<p>GroupID: 0x0103</p>
</li>
<li>
<p>GroupName: "Test Group"</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">6b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">appclusters-1.3.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">!G.S.F00(GN),G.S.C01.Rsp(ViewGroup)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends ViewGroup command with the GroupID to the Group cluster on the DUT on PIXIT.G.ENDPOINT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify DUT sends a ViewGroupResponse command with</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Status: SUCCESS</p>
</li>
<li>
<p>GroupID: 0x0103</p>
</li>
<li>
<p>GroupName: ""</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C01.Rsp(KeySetRead)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends KeySetRead command to GroupKeyManagement cluster with GroupKeySetID as 0x01a3</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that the DUT sends a KeySetReadResponse with the GroupKeySet having the following fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a3</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0: null</p>
</li>
<li>
<p>EpochStartTime0:1</p>
</li>
<li>
<p>EpochKey1: null</p>
</li>
<li>
<p>EpochStartTime1:18446744073709551613</p>
</li>
<li>
<p>EpochKey2: null</p>
</li>
<li>
<p>EpochStartTime2:18446744073709551614</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0000(GroupKeyMap)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads GroupKeyMap Attribute from the GroupKeyManagement cluster from DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that the returned list contains a a single list item with structure fields</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupId: 0x0103</p>
</li>
<li>
<p>GroupKeySetId: 0x01a3</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">9a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.7.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.S.F00(GN),GRPKEY.S.A0001(GroupTable)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads GroupTable attribute from GroupKeyManagement cluster on DUT using a fabric-filtered read.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify the returned list has a single item containing a GroupInfoMapStruct with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupId: 0x0103</p>
</li>
<li>
<p>Endpoints: [PIXIT.G.ENDPOINT]</p>
</li>
<li>
<p>GroupName: "Test Group"</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">9b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.7.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">!G.S.F00(GN),GRPKEY.S.A0001(GroupTable)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads GroupTable attribute from GroupKeyManagement cluster on DUT using a fabric-filtered read.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify the returned list has a single item containing a GroupInfoMapStruct with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupId: 0x0103</p>
</li>
<li>
<p>Endpoints: [PIXIT.G.ENDPOINT]</p>
</li>
<li>
<p>GroupName: ""</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><a id="remove-key-set"></a>10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.9.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C03.Rsp(KeySetRemove)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH removes the Group key set that was added by sending a KeySetRemove command to the GroupKeyManagement cluster with the GroupKeySetID field set to 0x01a3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.9.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0000(GroupKeyMap)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH verifies that the key set removal in step <a href="#remove-key-set">10</a> also removed the corresponding entries in the GroupKeyMap by Reading the GroupKeyMap attribute from the GroupKeyManagement cluster using a fabric-filtered read.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the returned list contains no items</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">appclusters-1.3.7.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.S.C04.Rsp(RemoveAllGroups)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH cleans up the groups by sending the RemoveAllGroups command to the DUT on PIXIT.G.ENDPOINT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.7.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0001(GroupTable)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads verifies the group has been removed by reading the GroupTable attribute from GroupKeyManagement cluster on DUT using a fabric-filtered read.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the returned list is empty</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH writes the ACL attribute in the Access Control cluster to remove Operate privileges for group 0x0103 and maintain the current administrative privileges for the TH. The following access control list shall be used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>List item 1 (TH admin):</p>
<div class="ulist">
<ul>
<li>
<p>Privilege: Administer (5)</p>
</li>
<li>
<p>AuthMode: CASE (2)</p>
</li>
<li>
<p>Subjects: TH node id ([<code>N1</code>])</p>
</li>
<li>
<p>Targets: all (null)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status SUCCESS(0x00)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_5_2_receiving_a_group_message_th_to_dut"><a class="anchor" href="#_tc_sc_5_2_receiving_a_group_message_th_to_dut"></a>26.3.4. [TC-SC-5.2] Receiving a group message - TH to DUT</h4>
<div class="sect4">
<h5 id="_category_97"><a class="anchor" href="#_category_97"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_98"><a class="anchor" href="#_purpose_98"></a>Purpose</h5>
<div class="paragraph">
<p>To verify that the DUT can receive group message sent by TH.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_97"><a class="anchor" href="#_pics_97"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_precondition_5"><a class="anchor" href="#_precondition_5"></a>Precondition</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT and TH  are commissioned</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_97"><a class="anchor" href="#_required_devices_97"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 75.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness with node ID <code>N1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_50"><a class="anchor" href="#_device_topology_50"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_39"><a class="anchor" href="#_test_setup_39"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_97"><a class="anchor" href="#_test_procedure_97"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH writes the ACL attribute in the Access Control cluster to add Manage privileges for group 0x0103 and maintain the current administrative privileges for the TH. The following access control list shall be used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>List item 1 (TH admin):</p>
<div class="ulist">
<ul>
<li>
<p>Privilege: Administer (5)</p>
</li>
<li>
<p>AuthMode: CASE (2)</p>
</li>
<li>
<p>Subjects: TH node id ([<code>N1</code>])</p>
</li>
<li>
<p>Targets: all (null)</p>
</li>
</ul>
</div>
</li>
<li>
<p>List item 2 (group operate access):</p>
<div class="ulist">
<ul>
<li>
<p>Privilege: Manage (4)</p>
</li>
<li>
<p>AuthMode: Group (3)</p>
</li>
<li>
<p>Subjects: group 0x0103 ([0x0103])</p>
</li>
<li>
<p>Targets: all (null)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT using a key that is pre-installed on the TH. GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a3</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0: d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0:1</p>
</li>
<li>
<p>EpochKey1: d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: 18446744073709551613</p>
</li>
<li>
<p>EpochKey2: d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2: 18446744073709551614</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status SUCCESS(0x00)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.A0000(GroupKeyMap)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH binds GroupId 0x0103 and 0x0101 with GroupKeySetID 0x01a3 in the GroupKeyMap attribute list on GroupKeyManagement cluster by writing the GroupKeyMap attribute with 2 entries as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>List item 1:</p>
<div class="ulist">
<ul>
<li>
<p>GroupId: 0x0103</p>
</li>
<li>
<p>GroupKeySetId: 0x01a3</p>
</li>
</ul>
</div>
</li>
<li>
<p>List item 2:</p>
<div class="ulist">
<ul>
<li>
<p>GroupId: 0x0101</p>
</li>
<li>
<p>GroupKeySetId: 0x01a3</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">appclusters-1.3.7.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.S.C04.Rsp(RemoveAllGroups)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH cleans up the groups by sending the RemoveAllGroups command to the DUT on PIXIT.G.ENDPOINT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status SUCCESS(0x00)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">appclusters-1.3.6.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.S.C00.Rsp(AddGroup)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends AddGroup Command to DUT on PIXIT.G.ENDPOINT with the the following settings</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupID: 0x0103</p>
</li>
<li>
<p>GroupName: "Test Group 0103"</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a AddGroupResponse with the Status set to SUCCESS and the GroupID set to 0x0103</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">appclusters-1.3.6.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.S.C00.Rsp(AddGroup)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends a AddGroup Command to the Groups cluster with the GroupID field set to 0x0101 and the GroupName set to an "Test Group 0101". The command is sent as a group command using GroupID 0x0103</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">appclusters-1.3.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.S.F00(GN), G.S.C01.Rsp(ViewGroup)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a ViewGroup Command to the Groups cluster on Endpoint PIXIT.G.ENDPOINT over CASE with the GroupID set to 0x0101 to confirm that the AddGroup command from step 6 was successful</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify DUT sends a ViewGroupResponse command with
                            * Status: SUCCESS
                            * GroupID: 0x0101
                            * GroupName: "Test Group 0101"</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">appclusters-1.3.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">!G.S.F00(GN), G.S.C01.Rsp(ViewGroup)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a ViewGroup Command to the Groups cluster on Endpoint PIXIT.G.ENDPOINT over CASE with the GroupID set to 0x0101 to confirm that the AddGroup command from step 6 was successful</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify DUT sends a ViewGroupResponse command with
                            * Status: SUCCESS
                            * GroupID: 0x0101
                            * GroupName: ""</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.9.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.C03.Rsp(KeySetRemove)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH removes the Group key set that was added by sending a KeySetRemove command to the GroupKeyManagement cluster with the GroupKeySetID field set to 0x01a3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">appclusters-1.3.7.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.S.C04.Rsp(RemoveAllGroups)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH cleans up the groups by sending the RemoveAllGroups command to the DUT on PIXIT.G.ENDPOINT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH writes the ACL attribute in the Access Control cluster to remove Manage privileges for group 0x0103 and maintain the current administrative privileges for the TH. The following access control list shall be used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>List item 1 (TH admin):</p>
<div class="ulist">
<ul>
<li>
<p>Privilege: Administer (5)</p>
</li>
<li>
<p>AuthMode: CASE (2)</p>
</li>
<li>
<p>Subjects: TH node id ([<code>N1</code>])</p>
</li>
<li>
<p>Targets: all (null)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sc_5_3_sending_a_group_message_dut_to_th"><a class="anchor" href="#_tc_sc_5_3_sending_a_group_message_dut_to_th"></a>26.3.5. [TC-SC-5.3] Sending a group message - DUT to TH</h4>
<div class="sect4">
<h5 id="_category_98"><a class="anchor" href="#_category_98"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_99"><a class="anchor" href="#_purpose_99"></a>Purpose</h5>
<div class="paragraph">
<p>To verify that the DUT can send group message to TH and validate the Group Message received by TH.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_98"><a class="anchor" href="#_pics_98"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>GRPKEY.C</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_precondition_6"><a class="anchor" href="#_precondition_6"></a>Precondition</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT and TH are commissioned.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports Groups Cluster</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_98"><a class="anchor" href="#_required_devices_98"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 75.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as server</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_51"><a class="anchor" href="#_device_topology_51"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_40"><a class="anchor" href="#_test_setup_40"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_98"><a class="anchor" href="#_test_procedure_98"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH should have the ACL entry with the AuthMode as Group by DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>DUT generates fabric-unique GroupID, GroupName, random key, EpochKey0 and GroupKeySetID.</p>
</li>
<li>
<p>Save the GroupID as GroupID_1, GroupName as GroupName_1 and GroupSetID_1</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.C.C00.Tx(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DUT sends KeySetWrite command to GroupKeyManagement cluster to TH on EP0</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Test Harness receives the KeySetWrite command from the DUT.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.C.A0000(GroupKeyMap)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT binds GroupId with GroupKeySetID in the GroupKeyMap attribute list on GroupKeyManagement cluster</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Test Harness receives the binding of GroupKeySetID with the GroupID from DUT</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">appclusters-1.3.6.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.C.C00.Tx(AddGroup)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DUT sends AddGroup Command to DUT on EP0 with the the following settings</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupID: GroupID_1</p>
</li>
<li>
<p>GroupName: GroupName_1</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Test Harness receives the AddGroup command from the DUT</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>DUT generates fabric-unique GroupID, GroupName.</p>
</li>
<li>
<p>Save the GroupID as GroupID_2, GroupName as GroupName_2</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">appclusters-1.3.6.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.C.C00.Tx(AddGroup)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DUT sends a AddGroup Command to the Groups cluster with the GroupID field set to GroupID_2 and the GroupName set to an GroupName_2. The command is sent as a group command using GroupID_1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Validate the group message received from DUT:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Verify that the IPv6 Destination Multicast address follows the format "FF35:0040:FD&lt;Fabric ID&gt;00:&lt;Group ID&gt;</p>
</li>
<li>
<p>Verify the UDP port is 5540</p>
</li>
<li>
<p>Verify the DSIZ flag is set to group</p>
</li>
<li>
<p>Verify the Destination Node ID matches the GroupID_1</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_73"><a class="anchor" href="#_notestesting_considerations_73"></a>Notes/Testing considerations</h5>
<div class="paragraph">
<p>In the above test case Groups cluster is used for testing the multicast message. Any other cluster like Identify can also be used depending on the DUT capability.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tc_grpkey_5_4_verification_for_keysetreadresponse_command_for_cacheandsync"><a class="anchor" href="#_tc_grpkey_5_4_verification_for_keysetreadresponse_command_for_cacheandsync"></a>26.3.6. [TC-GRPKEY-5.4] Verification for KeySetReadResponse Command for CacheAndSync</h4>
<div class="sect4">
<h5 id="_category_99"><a class="anchor" href="#_category_99"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_100"><a class="anchor" href="#_purpose_100"></a>Purpose</h5>
<div class="paragraph">
<p>To verify that the DUT sends the correct KeySetReadResponse command for CacheAndSync</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_99"><a class="anchor" href="#_pics_99"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>GRPKEY.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_precondition_7"><a class="anchor" href="#_precondition_7"></a>Precondition</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Group Member is commissioned with Admin</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_99"><a class="anchor" href="#_required_devices_99"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 85%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as Admin</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Under Test as GM-Group Member</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_52"><a class="anchor" href="#_device_topology_52"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT and Admin are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_41"><a class="anchor" href="#_test_setup_41"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_99"><a class="anchor" href="#_test_procedure_99"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 5%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">!GRPKEY.S.F00(CS),GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Admin sends KeySetWrite command by setting  GroupKeySecurityPolicy to CacheAndSync to GroupKeyManagement cluster on the DUT</p>
</li>
<li>
<p>Note: KeySetWrite command is sent by setting the following fields to the corresponding values. Values given below are for reference purpose.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>groupKeySetID:         0x01a3</p>
</li>
<li>
<p>groupKeySecurityPolicy: CacheAndSync (1)</p>
</li>
<li>
<p>epochKey0:               d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>epochStartTime0:        1</p>
</li>
<li>
<p>epochKey1:              d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>epochStartTime1:        2220001</p>
</li>
<li>
<p>epochKey2:               d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>epochStartTime2:        2220002</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that the DUT sends INVALID_COMMAND response as CacheAndSync is not supported.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.F00(CS) ,GRPKEY.S.C00.Rsp(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Admin sends KeySetWrite command by setting the values as given in Step 1</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that the DUT sends SUCCESS response as CacheAndSync is supported</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.F00(CS),GRPKEY.S.A0000(GroupKeyMap)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Admin maps GroupId 0x0103 with GroupKeySetID 0x01a3 in the GroupKeyMap attribute list on GroupKeyManagement cluster on the DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify DUT responds w/ status SUCCESS(0x00)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.S.F00(CS),GRPKEY.S.C01.Rsp(KeySetRead)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Admin sends KeySetRead Command to DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT sends a KeySetReadResponse Command with the GroupKeySetStructure.</p>
</li>
<li>
<p>Verify that GroupKeySetStructure has GroupKeySecurityPolicy value set to CacheAndSync (1)</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_client_as_dut"><a class="anchor" href="#_client_as_dut"></a>26.4. Client as DUT</h3>
<div class="sect3">
<h4 id="_tc_sc_6_1_adding_member_to_a_group_dut_as_admin_and_th_as_group_member_dut_client"><a class="anchor" href="#_tc_sc_6_1_adding_member_to_a_group_dut_as_admin_and_th_as_group_member_dut_client"></a>26.4.1. [TC-SC-6.1] Adding member to a group - DUT as Admin and TH as Group Member [DUT-Client]</h4>
<div class="sect4">
<h5 id="_category_100"><a class="anchor" href="#_category_100"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_101"><a class="anchor" href="#_purpose_101"></a>Purpose</h5>
<div class="paragraph">
<p>To verify that the TH can be added to a group by DUT</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_100"><a class="anchor" href="#_pics_100"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
<li>
<p>GRPKEY.C</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_precondition_8"><a class="anchor" href="#_precondition_8"></a>Precondition</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 45%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Group Member is commissioned with Admin</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT supports Groups Cluster</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_100"><a class="anchor" href="#_required_devices_100"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 85%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as GM-Group Member</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Under Test as Admin</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_53"><a class="anchor" href="#_device_topology_53"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT and TH are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_42"><a class="anchor" href="#_test_setup_42"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_100"><a class="anchor" href="#_test_procedure_100"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 35%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH should have the ACL entry with the AuthMode as Group by DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>DUT generates fabric-unique GroupID, GroupName, random key, EpochKey0 and GroupKeySetID.</p>
</li>
<li>
<p>Admin sets
GroupKeySecurityPolicy = TrustFirst (0)
EpochStartTime0 = 1</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.C.C00.Tx(KeySetWrite)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DUT sends KeySetWrite command to GroupKeyManagement cluster to TH on EP0</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Test Harness receives the KeySetWrite command from the DUT.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.C.A0000(GroupKeyMap)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT binds GroupID with GroupKeySetID in the GroupKeyMap attribute list on GroupKeyManagement cluster</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Test Harness receives the binding of GroupKeySetID with the GroupID from DUT</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">appclusters-1.3.6.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.C.C00.Tx(AddGroup)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends AddGroup Command to TH on EP0</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Test Harness receives the AddGroup command from the DUT</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">appclusters-1.3.7.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G.C.C01.Tx(ViewGroup)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends ViewGroup command with the GroupID and GroupName to the Group cluster on the TH on EP0</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Test Harness receives the ViewGroup command from the DUT</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.C.C01.Tx(KeySetRead)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends KeySetRead Command to TH</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Test Harness receives the KeySetRead command from the DUT</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.C.A0000(GroupKeyMap)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT reads GroupKeyMap Attribute from the GroupKeyManagement cluster from TH</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that DUT reads GroupKeyMap attribute from the TH successfully</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GRPKEY.C.A0001(GroupTable)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT reads GroupTable attribute from GroupKeyManagement cluster on TH</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that DUT reads GroupTable attribute from the TH successfully</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<h1 id="_device_attestation_test_plan" class="sect0"><a class="anchor" href="#_device_attestation_test_plan"></a><strong>Device Attestation Test Plan</strong></h1>
<div class="sect1">
<h2 id="_pics_definition_8"><a class="anchor" href="#_pics_definition_8"></a>27. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Door Lock Cluster related PICS items that are referenced in the following test cases.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DA.ATTEST_WARNING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does Commissioner notify user that Commissionee is not a fully trusted device on device attestation failure?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DA.CERTDECL_ORIGIN_VENDORID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does commissionee-provided certification declaration make use of dac_origin_vendor_id field?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DA.CERTDECL_ORIGIN_PRODUCTID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does commissionee-provided certification declaration make use of dac_origin_product_id field?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DA.CERTDECL_AUTH_PAA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does commissionee-provided certification declaration make use of authorized_paa_list field?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DA.ATTESTELEMENT_FW_INFO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does commissionee provide a Firmware Information field in the AttestationResponse?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_case_list_7"><a class="anchor" href="#_test_case_list_7"></a>28. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>TC UUID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case Name</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DA-1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The NOC SHALL be wiped on Factory Reset [DUT-Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DA-1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Attestation Request Validation [DUT-Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DA-1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Attestation Request Validation [DUT-Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DA-1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Attestation Request Validation-Error Scenario [DUT-Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DA-1.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOCSR Procedure Validation [DUT-Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DA-1.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOCSR Procedure Validation [DUT-Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DA-1.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validate CertificateChainRequest [DUT-Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DA-1.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Attestation Request Validation-Success Scenario [DUT-Commissioner]</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases_7"><a class="anchor" href="#_test_cases_7"></a>29. Test Cases</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_server_as_dut_2"><a class="anchor" href="#_server_as_dut_2"></a>29.1. Server as DUT</h3>
<div class="sect3">
<h4 id="_tc_da_1_1_the_noc_shall_be_wiped_on_factory_reset_dut_commissionee"><a class="anchor" href="#_tc_da_1_1_the_noc_shall_be_wiped_on_factory_reset_dut_commissionee"></a>29.1.1. [TC-DA-1.1] The NOC SHALL be wiped on Factory Reset [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_101"><a class="anchor" href="#_category_101"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_102"><a class="anchor" href="#_purpose_102"></a>Purpose</h5>
<div class="paragraph">
<p>This test case validates the following condition:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>NOCs attribute gets deleted on the DUT after factory reset.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_101"><a class="anchor" href="#_pics_101"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_25"><a class="anchor" href="#_pre_conditions_25"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT Commissioned to TH1&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT Supports Factory Reset Method</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_101"><a class="anchor" href="#_required_devices_101"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_54"><a class="anchor" href="#_device_topology_54"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT will be commissioned in a Fabric 1 with TH1 and a Fabric 2 with TH2. These
are separate fabrics.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_43"><a class="anchor" href="#_test_setup_43"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_101"><a class="anchor" href="#_test_procedure_101"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.1666%;">
<col style="width: 16.6666%;">
<col style="width: 12.5%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission DUT to TH1&#8217;s Fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 does a non-fabric filtered read of the <code>NOCs</code> attribute from the Node Operational Credentials cluster and saves the returned list as <code>noc_th1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is a single entry in the list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 does a non-fabric-filtered read of the <code>Fabrics</code> attribute from the Node Operational Credentials cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is a single entry in the list and the FabricID for that entry matches the FabricID for TH1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.UI.FACTORYRESET</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Factory reset DUT
and perform the necessary actions to put the DUT into a commissionable state</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission DUT to TH2&#8217;s Fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 does a non-fabric-filtered read of <code>Fabrics</code> attribute list from DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that there is only one entry in the 'Fabrics' List</p>
</li>
<li>
<p>Verify that the FabricID is the same as the TH2&#8217;s Fabric ID</p>
</li>
<li>
<p>Verify that the entry saved in Step 2 for TH1' Fabric does not appear in the list</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 does a non-fabric-filtered read of <code>NOCs</code> attribute list from DUT</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that there is only one entry in the 'NOCs' List and the NOC for that entry is different than the NOC entry in <code>noc_th1</code></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_da_1_2_device_attestation_request_validation_dut_commissionee"><a class="anchor" href="#_tc_da_1_2_device_attestation_request_validation_dut_commissionee"></a>29.1.2. [TC-DA-1.2] Device Attestation Request Validation [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_102"><a class="anchor" href="#_category_102"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_103"><a class="anchor" href="#_purpose_103"></a>Purpose</h5>
<div class="paragraph">
<p>To verify the following during the Device Attestation procedure:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>DUT responds with correct AttestationResponse upon receiving
AttestationRequest Command with AttestationNonce from TH1</p>
</li>
<li>
<p>DUT-generated AttestationResponse Information is valid and sent
through AttestationResponse Command to TH1</p>
</li>
<li>
<p>DUT does not accept invalid AttestationNonce sent by TH1</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_102"><a class="anchor" href="#_pics_102"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_26"><a class="anchor" href="#_pre_conditions_26"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAA certificates were obtained externally</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission DUT to TH1&#8217;s Fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_102"><a class="anchor" href="#_required_devices_102"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_55"><a class="anchor" href="#_device_topology_55"></a>Device Topology</h5>

</div>
<div class="sect4">
<h5 id="_test_setup_44"><a class="anchor" href="#_test_setup_44"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_102"><a class="anchor" href="#_test_procedure_102"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 25%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 generates 32-byte AttestationNonce</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends AttestationRequest Command with a random 32 bytes <code>AttestationNonce`</code> to the DUT.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT generates the Attestation Information and that it is sent to TH1 using AttestationResponse Command</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends <code>CertificateChainRequest</code> Command with <code>CertificateType</code> field set to <code>DACCertificate</code> (1) to DUT to obtain DAC</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 saves DAC certificate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT responds with <code>CertificateChainResponse</code> the DAC certificate in X.509v3 format with size &#8656; 600 bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends <code>CertificateChainRequest</code> Command with <code>CertificateType</code> field set to <code>PAICertificate</code> (2) to DUT to obtain DAC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT responds with <code>CertificateChainResponse</code> the PAI certificate in X.509v3 format with size &#8656; 600 bytes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 saves PAI certificate</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 Reads the <code>VendorID</code> attribute of the Basic Information cluster and saves it as <code>basic_info_vendor_id</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 Reads the <code>ProductID</code> attribute of the Basic Information cluster and saves it as <code>basic_info_product_id</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extract the attestation_elements_message structure fields from the AttestationResponse Command received by TH1 from DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the DUT generated the AttestationResponse has the following
fields:</p>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p>AttestationElements</p>
</li>
<li>
<p>AttestationSignature</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read the attestation_elements_message structure fields</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the
<code>attestation_elements_message</code> structure fields satisfy the following conditions:</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>AttestationElements field size should not be greater than RESP_MAX(900 bytes)</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>certification_declaration is present and is an octet string representation CMS-format certification declaration, as described in section 6.3.1</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify for the following contents of CD:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>format_version = 1</p>
</li>
<li>
<p>The vendor_id field matches the one saved as <code>basic_info_vendor_id</code> saved earlier</p>
</li>
<li>
<p>The vendor_id field is in range [0x0001 .. 0xFFF0]</p>
</li>
<li>
<p>The product_id_array field contains the value of <code>basic_info_product_id</code> saved earlier</p>
</li>
<li>
<p>device_type_id has a value between 0 and (2^31 - 1)</p>
</li>
<li>
<p>certificate_id has a length of 19</p>
</li>
<li>
<p>security level  = 0</p>
</li>
<li>
<p>security_information = 0</p>
</li>
<li>
<p><code>version_number</code> is an integer in range 0..65535</p>
</li>
<li>
<p>certification_type has a value between 1..2</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DA.CERTDECL_ORIGIN_VENDORID,
        MCORE.DA.CERTDECL_ORIGIN_PRODUCTID</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Confirm that both the fields dac_origin_vendor_id and dac_origin_product_id are present in Certification Declaration</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">!MCORE.DA.CERTDECL_ORIGIN_VENDORID,
        !MCORE.DA.CERTDECL_ORIGIN_PRODUCTID</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Or confirm both the fields dac_origin_vendor_id and dac_origin_product_id are not present in the Certification Declaration</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DA.CERTDECL_ORIGIN_VENDORID,
        MCORE.DA.CERTDECL_ORIGIN_PRODUCTID</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>If the Certification Declaration has both the dac_origin_vendor_id and the dac_origin_product_id fields then check for the following conditions:</p>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p>The Vendor ID (VID) in the DAC subject and PAI subject are the same as the dac_origin_vendor_id field in the Certification Declaration.</p>
</li>
<li>
<p>The Product ID (PID) in the DAC subject is same as the dac_origin_product_id field in the Certification Declaration.</p>
</li>
<li>
<p>If it is present in the PAI certificate, the Product ID (PID) in the subject is same as the dac_origin_product_id field in the Certification Declaration.</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">!MCORE.DA.CERTDECL_ORIGIN_VENDORID,
        !MCORE.DA.CERTDECL_ORIGIN_PRODUCTID</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>If the Certification Declaration has neither the dac_origin_vendor_id nor the dac_origin_product_id fields then check for the following conditions:</p>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p>The Vendor ID (VID) in the DAC subject and PAI subject are the same as the vendor_id field in the Certification Declaration.</p>
</li>
<li>
<p>The Product ID (PID) subject DN in the DAC is contained in the product_id_array field in the Certification Declaration.</p>
</li>
<li>
<p>If it is present in the PAI certificate, the Product ID (PID) in the subject is contained in the product_id_array field in the Certification Declaration.</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DA.CERTDECL_AUTH_PAA</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>If the Certification Declaration has authorized_paa_list then check for the following conditions:</p>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p>The authority key id extension of the PAI certificate matches the one found in the authorized_paa_list</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that the certification_declaration CMS enveloped can be verified with the well-known Certification Declaration public key used to originally sign the Certification Declaration</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>attestation_nonce is present in the attestation_elements_message structure</p>
</li>
<li>
<p>attestation_nonce value matches the AttestationNonce field value sent in the AttestationRequest Command sent by the commissioner</p>
</li>
<li>
<p>attestation_nonce is a 32 byte-long octet string</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DA.ATTESTELEMENT_FW_INFO</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>firmware_information is optional, may be present</p>
</li>
<li>
<p>if firmware_information field is present it is a octet string</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Using <em>Crypto_Verify</em> cryptographic primitive, validate that the AttestationSignature from the AttestationResponse Command is valid if verified against a message constructed by concatenating AttestationElements with the attestation challenge associated with the secure session over which the AttestationResponse was obtained, using the subject public key found in the DAC.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends AttestationRequest Command with Invalid AttestationNonce (size &gt; 32 bytes) as the field to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT responds w/ status INVALID_COMMAND(0x85)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends AttestationRequest Command with invalid AttestationNonce (size &lt; 32 bytes) as the field to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT reports an INVALID_COMMAND error</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_da_1_3_device_attestation_request_validation_dut_commissioner"><a class="anchor" href="#_tc_da_1_3_device_attestation_request_validation_dut_commissioner"></a>29.1.3. [TC-DA-1.3] Device Attestation Request Validation [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_103"><a class="anchor" href="#_category_103"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_104"><a class="anchor" href="#_purpose_104"></a>Purpose</h5>
<div class="paragraph">
<p>Validate correct handling of a well-formed AttestationResponse Command by the DUT, including all the following fields being valid:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>AttestationInformation</p>
<div class="ulist">
<ul>
<li>
<p>AttestationNonce properly repeated</p>
</li>
<li>
<p>certification_declaration present</p>
</li>
<li>
<p>firmware_information validated if present</p>
</li>
<li>
<p>AttestationSignature value</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pics_103"><a class="anchor" href="#_pics_103"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_27"><a class="anchor" href="#_pre_conditions_27"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI, DAC certificates are obtained and validated against externally obtained PAA certificate</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operations happen within the Fail-Safe Context</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 should be known about Commissioner based error condition/warning</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_103"><a class="anchor" href="#_required_devices_103"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_56"><a class="anchor" href="#_device_topology_56"></a>Device Topology</h5>

</div>
<div class="sect4">
<h5 id="_test_setup_45"><a class="anchor" href="#_test_setup_45"></a>Test Setup</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual intervention would be required during Device Attestation Test Procedure</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_103"><a class="anchor" href="#_test_procedure_103"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start the commissioning process of TH1 on DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT generates 32-byte AttestationNonce</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends AttestationRequest Command with AttestationNonce as field to the TH1.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 records the AttestationNonce received in AttestationRequest as Nonce_1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 responds with a well-formed AttestationResponse Command</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT Completes the commissioning process successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factory Reset TH1 so that it is commissionable again</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start the commissioning process of TH1 on DUT again</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT generates 32-byte AttestationNonce</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends AttestationRequest Command with AttestationNonce as field to the TH1.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 records the AttestationNonce received in AttestationRequest as Nonce_2</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Nonce_1 and Nonce_2 are different.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_da_1_4_device_attestation_request_validation_error_scenario_dut_commissioner"><a class="anchor" href="#_tc_da_1_4_device_attestation_request_validation_error_scenario_dut_commissioner"></a>29.1.4. [TC-DA-1.4] Device Attestation Request Validation-Error Scenario [DUT-Commissioner]</h4>
<div class="sect4">
<h5 id="_category_104"><a class="anchor" href="#_category_104"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_105"><a class="anchor" href="#_purpose_105"></a>Purpose</h5>
<div class="paragraph">
<p>Validate the handling of an invalid AttestationResponse received by the DUT from TH during commissioning process and ensure the DUT responds with correct warning message.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_104"><a class="anchor" href="#_pics_104"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_28"><a class="anchor" href="#_pre_conditions_28"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAA, PAI, DAC certificates are obtained and validated</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operations happen within the Fail-Safe Context</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH should be known about Commissioner based error condition/warning</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_104"><a class="anchor" href="#_required_devices_104"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_57"><a class="anchor" href="#_device_topology_57"></a>Device Topology</h5>

</div>
<div class="sect4">
<h5 id="_test_setup_46"><a class="anchor" href="#_test_setup_46"></a>Test Setup</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual intervention would be required during Device Attestation Test Procedure</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_104"><a class="anchor" href="#_test_procedure_104"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 25%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start the commissioning process of TH on DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT generates 32-byte AttestationNonce</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends AttestationRequest Command with AttestationNonce as field to the TH.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH responds to the DUT with an invalid AttestationResponse Command by setting the following error condition:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Commissionee is not yet certified</p>
</li>
</ol>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DA.ATTEST_WARNING</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DUT notifies a warning stating that Commissionee is not a fully trusted device.</p>
</li>
<li>
<p>Verify that the warning contains the information about the reason for error condition</p>
</li>
<li>
<p>If the warning message indicates that Commissioning is allowed then confirm that CSRRequest Command is sent from DUT to TH</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factory Reset TH so that it is commissionable again</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For each of the test cases in the <a href="#ref:da-1.4-certs">Certificates for TC-DA-1.4 table</a>, start the TH using the appropriate certificate set, commission the TH using the DUT, then factory reset the TH.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT indicates that the device is not genuine, or otherwise indicates a failure of device attestation, within its error handling APIs or user interface.</p></td>
</tr>
</tbody>
</table>
<div id="ref:da-1.4-certs" class="paragraph">
<p>Certificates for TC-DA-1.4</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">#</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cert Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example certs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAA Test Vector: Use Invalid PAA (Not Registered in the DCL).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">invalid_paa (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The authorized_paa_list contains one valid PAA which is authorized to sign the PAI.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_authorized_paa_list_count0 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The authorized_paa_list contains ten PAAs none of which is a valid PAA authorized to sign the PAI.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_authorized_paa_list_count10_invalid (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The authorized_paa_list contains three PAAs none of which is a valid PAA authorized to sign the PAI.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_authorized_paa_list_count3_invalid (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The certificate_id field has wrong length.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_cert_id_len_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The certificate_id field is missing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_cert_id_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The certification_type field is missing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_cert_type_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The certification_type field is set to invalid value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_cert_type_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: Invalid CMS digest algorithm SHA1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_cms_digest_algo_sha1 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: Invalid CMS eContentType is set to Microsoft Authenticode [MSAC] OID = { 1.3.6.1.4.1.311.2.1.4 }.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_cms_econtent_type_msac (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: Invalid CMS signature algorithm ECDSA_WITH_SHA1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_cms_sig_algo_ecdsa_with_sha1 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: Invalid CMS Signature.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_cms_signature (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: Invalid CMS version set to v2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_cms_v2 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The dac_origin_vendor_id fild is not present and dac_origin_product_id is present.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_dac_origin_vid_missing_pid_present (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The dac_origin_vendor_id and dac_origin_product_id fields present and the PID value doesn&#8217;t match the PID found in the DAC Subject DN.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_dac_origin_vid_pid_present_pid_mismatch (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The dac_origin_vendor_id and dac_origin_product_id fields present and the VID value doesn&#8217;t match the VID found in the DAC Subject DN.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_dac_origin_vid_pid_present_vid_mismatch (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The dac_origin_vendor_id fild is present and dac_origin_product_id fields is not present.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_dac_origin_vid_present_pid_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The device_type_id field is missing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_device_type_id_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: Invalid format_version field set to 2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_format_version_2 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The format_version field is missing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_format_version_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The product_id_array field is empty TLV array.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_pid_array_count0 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The product_id_array field has one PID value that doesn&#8217;t match the PID value in DAC.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_pid_array_count01_mismatch (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The product_id_array field has 100 PID values none of which matches the PID value in DAC.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_pid_array_count100_mismatch (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The product_id_array field has 10 PID values none of which matches the PID value in DAC.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_pid_array_count10_mismatch (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The product_id_array field is missing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_pid_array_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The security_information field is missing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_security_info_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The security_level field is missing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_security_level_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: Invalid Signer Info digest algorithm SHA1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_signer_info_digest_algo_sha1 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The subjectKeyIdentifier contains invalid SKID of a certificate unknown by Zigbee Alliance.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_signer_info_skid_invalid (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: Invalid Signer Info version set to v2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_signer_info_v2 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The version_number field is missing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_version_number_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The vendor_id field doesn&#8217;t match the VID in DAC.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_vid_mismatch (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The vendor_id field is missing.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_vid_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Invalid certificate version field set to v2(1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_cert_version_v2 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">35</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate doesn&#8217;t include Authority Key ID (AKID) extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_akid_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate Basic Constraint extension CA field is missing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_basic_ca_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">37</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate Basic Constraint extension CA field is wrong (TRUE for DAC and FALSE for PAI)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_basic_ca_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">38</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate Basic Constraint extension critical field is missing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_basic_critical_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">39</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate Basic Constraint extension critical field is set as 'non-critical'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_basic_critical_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">40</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate doesn&#8217;t include Basic Constraint extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_basic_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate Basic Constraint extension PathLen field set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_basic_pathlen0 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate Basic Constraint extension PathLen field set to 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_basic_pathlen1 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">43</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate Basic Constraint extension PathLen field set to 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_basic_pathlen2 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">44</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate Basic Constraint extension PathLen field presence is wrong (present for DAC not present for PAI)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_basic_pathlen_presence_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">45</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate Key Usage extension critical field is missing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_key_usage_critical_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">46</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate Key Usage extension critical field is set as 'non-critical'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_key_usage_critical_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">47</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate Key Usage extension cRLSign field is wrong (present for DAC and not present for PAI)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_key_usage_crl_sign_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate Key Usage extension digitalSignature field is wrong (not present for DAC and present for PAI, which is OK as optional)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_key_usage_dig_sig_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate Key Usage extension keyCertSign field is wrong (present for DAC and not present for PAI)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_key_usage_key_cert_sign_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">50</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate doesn&#8217;t include Key Usage extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_key_usage_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate doesn&#8217;t include Subject Key ID (SKID) extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_skid_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Invalid certificate signature algorithm ECDSA_WITH_SHA1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_sig_algo_ecdsa_with_sha1 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Invalid certificate public key curve secp256k1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_sig_curve_secp256k1 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">54</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: PID in Subject field doesn&#8217;t match PID in Issuer field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_subject_pid_mismatch (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">55</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: VID in Subject field doesn&#8217;t match VID in Issuer field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_subject_vid_mismatch (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">56</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate validity period starts in the future</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_valid_in_future (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">57</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate validity period starts in the past</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_valid_in_past (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">58</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Fallback VID and PID encoding example from spec: invalid, since substring following Mvid: is not exactly 4 uppercase hexadecimal digits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_06 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">59</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Fallback VID and PID encoding example from spec: invalid, since substring following Mvid: is not exactly 4 uppercase hexadecimal digits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_07 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">60</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Fallback VID and PID encoding example from spec: invalid, since substring following Mpid: is not exactly 4 uppercase hexadecimal digits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_08 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">61</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Fallback VID and PID encoding example from spec: invalid, since substring following Mpid: is not exactly 4 uppercase hexadecimal digits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_09 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">62</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Fallback VID and PID encoding example: invalid VID encoding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_10 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">63</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Fallback VID and PID encoding example: invalid, PID not present and VID not upper case</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_12 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Fallback VID and PID encoding example: invalid VID prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_13 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">65</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Fallback VID and PID encoding example: invalid PID and VID prefixes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_14 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">66</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Mix of Fallback and Matter OID encoding for VID and PID: wrong, Correct values encoded in the common-name are ignored</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_16 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">67</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Mix of Fallback and Matter OID encoding for VID and PID: invalid, PID is using Matter OID then VID must also use Matter OID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_17 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">68</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Invalid certificate version field set to v2(1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_cert_version_v2 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">69</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate doesn&#8217;t include Authority Key ID (AKID) extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_akid_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">70</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate Basic Constraint extension CA field is missing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_basic_ca_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">71</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate Basic Constraint extension CA field is wrong (TRUE for DAC and FALSE for PAI)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_basic_ca_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">72</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate Basic Constraint extension critical field is missing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_basic_critical_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">73</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate Basic Constraint extension critical field is set as 'non-critical'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_basic_critical_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">74</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate doesn&#8217;t include Basic Constraint extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_basic_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">75</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate Basic Constraint extension PathLen field set to 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_basic_pathlen1 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate Basic Constraint extension PathLen field set to 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_basic_pathlen2 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">77</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate Basic Constraint extension PathLen field presence is wrong (present for DAC not present for PAI)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_basic_pathlen_presence_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">78</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate Key Usage extension critical field is missing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_key_usage_critical_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">79</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate Key Usage extension critical field is set as 'non-critical'</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_key_usage_critical_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">80</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate Key Usage extension cRLSign field is wrong (present for DAC and not present for PAI)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_key_usage_crl_sign_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">81</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate Key Usage extension keyCertSign field is wrong (present for DAC and not present for PAI)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_key_usage_key_cert_sign_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">82</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate doesn&#8217;t include Key Usage extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_key_usage_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">83</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate doesn&#8217;t include Subject Key ID (SKID) extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_skid_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">84</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Invalid certificate signature algorithm ECDSA_WITH_SHA1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_sig_algo_ecdsa_with_sha1 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">85</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Invalid certificate public key curve secp256k1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_sig_curve_secp256k1 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">86</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: PID in Subject field doesn&#8217;t match PID in Issuer field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_subject_pid_mismatch (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">87</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: VID in Subject field doesn&#8217;t match VID in Issuer field</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_subject_vid_mismatch (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">88</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate validity period starts in the future</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_valid_in_future (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate validity period starts in the past</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_valid_in_past (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">90</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Fallback VID and PID encoding example from spec: invalid, since substring following Mvid: is not exactly 4 uppercase hexadecimal digits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_06 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">91</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Fallback VID and PID encoding example from spec: invalid, since substring following Mvid: is not exactly 4 uppercase hexadecimal digits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_07 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">92</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Fallback VID and PID encoding example from spec: invalid, since substring following Mpid: is not exactly 4 uppercase hexadecimal digits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_08 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">93</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Fallback VID and PID encoding example from spec: invalid, since substring following Mpid: is not exactly 4 uppercase hexadecimal digits</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_09 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">94</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Fallback VID and PID encoding example: invalid VID encoding</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_10 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">95</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Fallback VID and PID encoding example: invalid, PID not present and VID not upper case</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_12 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">96</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Fallback VID and PID encoding example: invalid VID prefix</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_13 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">97</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Fallback VID and PID encoding example: invalid PID and VID prefixes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_14 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">98</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Mix of Fallback and Matter OID encoding for VID and PID: wrong, Correct values encoded in the common-name are ignored</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_16 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">99</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Mix of Fallback and Matter OID encoding for VID and PID: invalid, PID is using Matter OID then VID must also use Matter OID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_17 (pid=177)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_da_1_5_nocsr_procedure_validation_dut_commissionee"><a class="anchor" href="#_tc_da_1_5_nocsr_procedure_validation_dut_commissionee"></a>29.1.5. [TC-DA-1.5] NOCSR Procedure Validation [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_105"><a class="anchor" href="#_category_105"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_106"><a class="anchor" href="#_purpose_106"></a>Purpose</h5>
<div class="paragraph">
<p>To verify the following checks during the NOCSR procedure:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>DUT generates the NOCSR Information using CSRResponse Command</p>
</li>
<li>
<p>DUT generated NOCSR Information includes a signature using the Device
Attestation Private Key</p>
</li>
<li>
<p>CSR SHALL follow the encoding and rules from PKCS #10</p>
</li>
<li>
<p>DUT generated that Node Operational Key Pair is unique</p>
</li>
<li>
<p>DUT rejects invalid CSRNonce sent by TH1</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_105"><a class="anchor" href="#_pics_105"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_29"><a class="anchor" href="#_pre_conditions_29"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 fully commissions DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI, DAC certificates are obtained and validated against externally obtained PAA certificate</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operations happen within the Fail-Safe Context</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_105"><a class="anchor" href="#_required_devices_105"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_58"><a class="anchor" href="#_device_topology_58"></a>Device Topology</h5>

</div>
<div class="sect4">
<h5 id="_test_setup_47"><a class="anchor" href="#_test_setup_47"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_105"><a class="anchor" href="#_test_procedure_105"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 fully commissions the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT is commissioned successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 establishes a CASE session to the DUT and saves the attestation challenge as <code>attestation_challenge</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends a CertificateChainRequest command with the CertificateType field set to DACCertificate.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a CertificateChainResponse. TH1 saves the return certificate as <code>dac</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends an ArmFailSafe command to the General Commissioning cluster with the ExpiryLengthSeconds field set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends a CSRRequest command to the Node Operational Credentials cluster with the CSRNonce set to a random 32-bit value. The nonce is saved as <code>csr_nonce</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify that the DUT returns a CSRResponse command.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>TH1 saves the NOCSRElements field as <code>nocsr_elements</code></p>
</li>
<li>
<p>TH1 saves the AttestationSignature field as <code>noscr_attestation_signature</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 extracts extracts the TLV-encoded nocsr_elements_message from <code>nocsr_elements</code> and saves the following fields:</p>
</li>
<li>
<p>csr is saved as <code>csr</code></p>
</li>
<li>
<p>CSRNonce is saved as <code>csr_nonce_returned</code></p>
</li>
<li>
<p>if present, vendor_reserved fields are saved as <code>vendor1</code>, <code>vendor2</code> and <code>vendor3</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 verifies that:</p>
</li>
<li>
<p>the length of the nocsr_elements_message is &lt; = 900 bytes</p>
</li>
<li>
<p><code>csr</code> is DER-encoded octet string</p>
</li>
<li>
<p><code>csr</code> follows the encoding and rules from PKCS #10</p>
</li>
<li>
<p><code>csr</code> specifies Public Key algorithm id-ecPublicKey with curve prime256v1 (ASN1 OID) / P-256 (NIST)</p>
</li>
<li>
<p><code>csr</code> specifies a 256-bit public key (save as <code>csr_pubkey</code>)</p>
</li>
<li>
<p><code>csr</code> Signature Algorithm is ecdsa-with-SHA256</p>
</li>
<li>
<p><code>csr</code> Signature is valid</p>
</li>
<li>
<p><code>csr_nonce_returned</code> field is OCTET string of length 32</p>
</li>
<li>
<p><code>csr_nonce_returned</code> matches <code>csr_nonce</code></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 creates <code>nocsr_tbs</code> = <code>nocsr_elements_message</code> || <code>attestation_challenge</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 verifies <code>nocsr_attestation_signature</code> signs <code>nocsr_tbs</code> using the public key in <code>dac</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">if vendor_reserved fields are present in the nocsr_elements_message, TH1 verifies that <code>attestation_challenge</code> does not appear in any of the <code>vendor</code> fields</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends an ArmFailSafe command to the General Commissioning cluster with the ExpiryLengthSeconds field set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends an ArmFailSafe command to the General Commissioning cluster with the ExpiryLengthSeconds field set to 900</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends a CSRRequest command to the Node Operational Credentials cluster with the CSRNonce set to a random 31-bytes value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT responds with INVALID_COMMAND</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends an ArmFailSafe command to the General Commissioning cluster with the ExpiryLengthSeconds field set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.18.8.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends the OpenCommissioningWindow command to the Administrator Commissioning Cluster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the command completes successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 fully commissions the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify commissioning completes successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 reads the NOCs attribute from the Node Operational Credentials cluster using a fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is a single element in the list and save the NOC field as <code>th1_noc</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 reads the NOCs attribute from the Node Operational Credentials cluster using a fabric-filtered read</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is a single element in the list and save the NOC field as <code>th2_noc</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.4.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extract the pubic keys from <code>th1_noc</code> and <code>th2_noc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the public keys do not match</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 reads the CurrentFabricIndex attribute from the Node Operational Credentials cluster and saves as <code>th2_idx</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 sends the RemoveFabric command to the DUT with the FabricIndex set to <code>th2_idx</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_74"><a class="anchor" href="#_notestesting_considerations_74"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Test Steps 6,7,8 cannot be executed with V1.0 SDK</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tc_da_1_6_nocsr_procedure_validation_dut_commissioner"><a class="anchor" href="#_tc_da_1_6_nocsr_procedure_validation_dut_commissioner"></a>29.1.6. [TC-DA-1.6] NOCSR Procedure Validation [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_106"><a class="anchor" href="#_category_106"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_107"><a class="anchor" href="#_purpose_107"></a>Purpose</h5>
<div class="paragraph">
<p>To verify the following checks during the NOCSR procedure</p>
</div>
<div class="paragraph">
<p>To verify the following checks during the NOCSR procedure</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>DUT generates a valid 32 byte CSRNonce</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>2.DUT detects errors generated by the TH1 in the NOCSR Information and
reports failure</p>
</div>
<div class="paragraph">
<p>3.DUT detects collision in Node Operational Key Pair sent from TH1 and
reports failure</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_106"><a class="anchor" href="#_pics_106"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_30"><a class="anchor" href="#_pre_conditions_30"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device Attestation is completed</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAA, PAI, DAC certificates are obtained and validated</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operations happen within the Fail-Safe Context</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_106"><a class="anchor" href="#_required_devices_106"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_59"><a class="anchor" href="#_device_topology_59"></a>Device Topology</h5>

</div>
<div class="sect4">
<h5 id="_test_setup_48"><a class="anchor" href="#_test_setup_48"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_106"><a class="anchor" href="#_test_procedure_106"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT completes the attestation procedure</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT generates 32-byte CSRNonce and is sent to TH1 through
CSRRequest Command</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>TH1 generates Invalid NOCSR Information and sends the CSRResponse Command.</p>
</li>
<li>
<p>Refer Steps 6.1 to 6.8</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT reports error</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factory Reset DUT so that it is commissionable again</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat Step1 to Step 4 multiple times. For each time in Step 3 TH1 generates the following error:</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSRNonce is OCTET string of length &gt; 32</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSRNonce value does not match the value CSR Nonce field in the
corresponding CSRRequest Command</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NOCSRElement size is greater than RESP_MAX</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_75"><a class="anchor" href="#_notestesting_considerations_75"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Test Steps 3, 6, 6.1, 6.2, 6.3 cannot be executed with V1.0 SDK</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tc_da_1_7_validate_certificatechainrequest_dut_commissionee"><a class="anchor" href="#_tc_da_1_7_validate_certificatechainrequest_dut_commissionee"></a>29.1.7. [TC-DA-1.7] Validate CertificateChainRequest [DUT-Commissionee]</h4>
<div class="sect4">
<h5 id="_category_107"><a class="anchor" href="#_category_107"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_108"><a class="anchor" href="#_purpose_108"></a>Purpose</h5>
<div class="paragraph">
<p>This test case validates that the device attestation certificates are properly signed and use different device attestation keys on each individual device.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_107"><a class="anchor" href="#_pics_107"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_31"><a class="anchor" href="#_pre_conditions_31"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Doc. Ref.</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH only has official PAAs from DCL</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_107"><a class="anchor" href="#_required_devices_107"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee - different device within the same device family as DUT1 (same VID/PID)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_60"><a class="anchor" href="#_device_topology_60"></a>Device Topology</h5>

</div>
<div class="sect4">
<h5 id="_test_setup_49"><a class="anchor" href="#_test_setup_49"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_107"><a class="anchor" href="#_test_procedure_107"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission DUT1 to TH fabric</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the commissioning completes successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends CertificateChainRequest Command to DUT1 with the CertificateType set to PAICertificate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns a CertificateChainResponse. Save the returned Certificate as 'pai_1'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends CertificateChainRequest Command to DUT1 with the CertificateType set to DACCertificate</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns a CertificateChainResponse. Save the returned Certificate as 'dac_1'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.2.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH extracts the Authority Key Identifier from the PAI certificate</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that the Authority Key Identifier is signed by a PAA in the DCL.(Ensure that it is not SDK&#8217;s test PAA&#8217;s)</p>
</li>
<li>
<p>Verify that PAI authority key ID must not be one of:</p>
<div class="ulist">
<ul>
<li>
<p>78:5C:E7:05:B8:6B:8F:4E:6F:C7:93:AA:60:CB:43:EA:69:68:82:D5</p>
</li>
<li>
<p>6A:FD:22:77:1F:51:1F:EC:BF:16:41:97:67:10:DC:DC:31:A1:71:7E</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH extracts the public key from the DAC and saves as 'pk_1'</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat Step 1 to 4 with DUT2, saving the PAI, DAC and public key as <code>pk_2</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that <code>pk_1</code> does not match <code>pk_2</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_da_1_8_device_attestation_request_validation_success_scenario_dut_commissioner"><a class="anchor" href="#_tc_da_1_8_device_attestation_request_validation_success_scenario_dut_commissioner"></a>29.1.8. [TC-DA-1.8] Device Attestation Request Validation-Success Scenario [DUT-Commissioner]</h4>
<div class="sect4">
<h5 id="_category_108"><a class="anchor" href="#_category_108"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_109"><a class="anchor" href="#_purpose_109"></a>Purpose</h5>
<div class="paragraph">
<p>Validate successful handing of valid certificates with different properties.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_108"><a class="anchor" href="#_pics_108"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONER</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_108"><a class="anchor" href="#_required_devices_108"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_61"><a class="anchor" href="#_device_topology_61"></a>Device Topology</h5>

</div>
<div class="sect4">
<h5 id="_test_setup_50"><a class="anchor" href="#_test_setup_50"></a>Test Setup</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Condition</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Manual intervention would be required during Device Attestation Test Procedure</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_108"><a class="anchor" href="#_test_procedure_108"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 25%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For each of the test cases in the <a href="#ref:da-1.8-certs">Certificates for TC-DA-1.8 table</a>, start the TH using the appropriate certificate set, commission the TH using the DUT, then factory reset the TH:</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH is successfully commissioned for each test case</p></td>
</tr>
</tbody>
</table>
<div id="ref:da-1.8-certs" class="paragraph">
<p>Certificates for TC-DA-1.8</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">#</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cert Description</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Example certs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The authorized_paa_list contains ten PAAs one of which is valid PAA authorized to sign the PAI.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_authorized_paa_list_count10_valid (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The authorized_paa_list contains one valid PAA which is authorized to sign the PAI.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_authorized_paa_list_count1_valid (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The authorized_paa_list contains two PAAs one of which is valid PAA authorized to sign the PAI.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_authorized_paa_list_count2_valid (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The optional authorized_paa_list field is not present.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_authorized_paa_list_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: Valid CMS digest algorithm SHA256.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_cms_digest_algo_sha256 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: Valid CMS eContentType pkcs7-data.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_cms_econtent_type_pkcs7_data (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: Valid CMS signature algorithm ECDSA_WITH_SHA256.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_cms_sig_algo_ecdsa_with_sha256 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: Valid CMS version set to v3.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_cms_v3 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The dac_origin_vendor_id and dac_origin_product_id fields are not present.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_dac_origin_vid_pid_missing (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The dac_origin_vendor_id and dac_origin_product_id fields present and contain the VID and PID values that match the VID and PID found in the DAC Subject DN.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_dac_origin_vid_pid_present_match (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: Valid format_version field set to 1.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_format_version_1 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: Origin VID/PID different than VID/PID (correct use of origin)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_origin_pid_vid_correct (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The product_id_array field has one PID value which matches the PID value in DAC.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_pid_array_count01_valid (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The product_id_array field has 100 PID values one of which matches the PID value in DAC.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_pid_array_count100_valid (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The product_id_array field has 10 PID values one of which matches the PID value in DAC.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_pid_array_count10_valid (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The subjectKeyIdentifier contains SKID of a well-known Zigbee Alliance certificate.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_signer_info_skid_valid (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CD Test Vector: The version_number field matches the VID and PID used in a DeviceSoftwareVersionModel entry in the DCL matching the certification record associated with the product presenting this CD.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_cd_version_number_match (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Valid certificate version field set to v3(2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_cert_version_v3 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate includes optional Authority Information Access extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_authority_info_access_present (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate includes optional Extended Key Usage extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_extended_key_usage_present (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Certificate includes optional Subject Alternative Name extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_ext_subject_alt_name_present (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Valid certificate signature algorithm ECDSA_WITH_SHA256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_sig_algo_ecdsa_with_sha256 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Valid certificate public key curve prime256v1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_sig_curve_prime256v1 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Fallback VID and PID encoding example from spec: valid and recommended since easily human-readable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_01 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Fallback VID and PID encoding example from spec: valid and recommended since easily human-readable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_02 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Fallback VID and PID encoding example from spec: valid example showing that order or separators are not considered at all for the overall validity of the embedded fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_03 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Fallback VID and PID encoding example from spec: valid, but less readable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_04 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Fallback VID and PID encoding example from spec: valid, but highly discouraged, since embedding of substrings within other substrings may be confusing to human readers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_05 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Fallback VID and PID encoding example: valid, but less human-readable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_11 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DAC Test Vector: Mix of Fallback and Matter OID encoding for VID and PID: valid, Matter OIDs are used and wrong values in the common-name are ignored</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_dac_vidpid_fallback_encoding_15 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Valid certificate version field set to v3(2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_cert_version_v3 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate includes optional Authority Information Access extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_authority_info_access_present (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate Basic Constraint extension PathLen field set to 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_basic_pathlen0 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate includes optional Extended Key Usage extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_extended_key_usage_present (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">35</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate Key Usage extension digitalSignature field is wrong (not present for DAC and present for PAI, which is OK as optional)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_key_usage_dig_sig_wrong (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Certificate includes optional Subject Alternative Name extension</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_ext_subject_alt_name_present (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">37</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Valid certificate signature algorithm ECDSA_WITH_SHA256</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_sig_algo_ecdsa_with_sha256 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">38</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Valid certificate public key curve prime256v1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_sig_curve_prime256v1 (pid=32768)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">39</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Fallback VID and PID encoding example from spec: valid and recommended since easily human-readable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_01 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">40</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Fallback VID and PID encoding example from spec: valid and recommended since easily human-readable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_02 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Fallback VID and PID encoding example from spec: valid example showing that order or separators are not considered at all for the overall validity of the embedded fields</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_03 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Fallback VID and PID encoding example from spec: valid, but less readable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_04 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">43</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Fallback VID and PID encoding example from spec: valid, but highly discouraged, since embedding of substrings within other substrings may be confusing to human readers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_05 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">44</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Fallback VID and PID encoding example: valid, but less human-readable</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_11 (pid=177)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">45</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PAI Test Vector: Mix of Fallback and Matter OID encoding for VID and PID: valid, Matter OIDs are used and wrong values in the common-name are ignored</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">struct_pai_vidpid_fallback_encoding_15 (pid=177)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<h1 id="_interaction_data_model_test_plan" class="sect0"><a class="anchor" href="#_interaction_data_model_test_plan"></a><strong>Interaction Data Model Test Plan</strong></h1>
<div class="sect1">
<h2 id="_pics_definition_9"><a class="anchor" href="#_pics_definition_9"></a>30. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Interaction Data Model Test Plan related PICS items that are referenced in the following test cases.  Support for an item is considered as "true" for conditional statements within the test case steps.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.InvokeRequest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and Supports sending a Invoke Request Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and Supports sending a Read Request Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and Supports sending a Write Request Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and Supports sending a Subscribe Request Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.InvokeRequest.BatchCommands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and Supports sending multiple commands batched into a single Invoke Request Message</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports an attribute of DataType Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports an attribute of DataType String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_UnsignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports an attribute of DataType Unsigned Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_SignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports an attribute of DataType Signed Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_Struct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports an attribute of DataType Struct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_FloatingPoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports an attribute of DataType Floating Point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports an attribute of DataType List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_OctetString</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports an attribute of DataType Octet String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_Enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports an attribute of DataType Enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_Bitmap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports an attribute of DataType Bitmap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Reading an attribute of DataType Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Reading an attribute of DataType String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_UnsignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Reading an attribute of DataType Unsigned Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_SignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Reading an attribute of DataType Signed Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_Struct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Reading an attribute of DataType Struct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_FloatingPoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Reading an attribute of DataType Floating Point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Reading an attribute of DataType List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_OctetString</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Reading an attribute of DataType Octet String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_Enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Reading an attribute of DataType Enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_Bitmap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Reading an attribute of DataType Bitmap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Writing an attribute of DataType Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Writing an attribute of DataType String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_UnsignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Writing an attribute of DataType Unsigned Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_SignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Writing an attribute of DataType Signed Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_Struct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Writing an attribute of DataType Struct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_FloatingPoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Writing an attribute of DataType Floating Point</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Writing an attribute of DataType List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_OctetString</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Writing an attribute of DataType Octet String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_Enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Writing an attribute of DataType Enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_Bitmap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Writing an attribute of DataType Bitmap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports a writable attribute of DataType Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports a writable attribute of DataType String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_UnsignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports a writable attribute of DataType UnsignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_SignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports a writable attribute of DataType SignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_Struct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports a writable attribute of DataType Struct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_FloatingPoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports a writable attribute of DataType FloatingPoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports a writable attribute of DataType List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_OctetString</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports a writable attribute of DataType OctetString</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_Enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports a writable attribute of DataType Enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_Bitmap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports a writable attribute of DataType Bitmap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest.Attribute.DataType_Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports subscribing to an attribute of DataType Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest.Attribute.DataType_String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports subscribing to an attribute of DataType String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest.Attribute.DataType_UnsignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports subscribing to an attribute of DataType UnsignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest.Attribute.DataType_Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports subscribing to an attribute of DataType Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest.Attribute.DataType_FloatingPoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports subscribing to an attribute of DataType FloatingPoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest.Attribute.DataType_List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports subscribing to an attribute of DataType List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.LargeData</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and capable of generating large data which is greater than 1 MTU(1280 bytes)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeEvent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports subscribing to an individual Event</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadEvent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Client and supports Reading an individual Event</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest.MultipleAttributes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a client and supports subscribing to Multiple Attributes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.PersistentSubscription</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server and supports Persistent subscription</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Additionally, these PICS items from the ICD Management cluster are used in this test plan - these definitions are copies from the relevant test plan:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ICDM.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the ICD Management cluster as a server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_case_list_8"><a class="anchor" href="#_test_case_list_8"></a>31. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>TC UUID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case Name</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invoke Request Action from DUT to TH. [DUT as Client]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invoke Response Action from DUT to TH. [DUT as Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Batched Commands Invoke Request Action from DUT to TH. [DUT as Client]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Batched Commands Invoke Response Action from DUT to TH. [DUT as Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-2.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read Request Action from DUT to TH. [DUT as Client]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Report Data Action from DUT to TH. [DUT as Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Write Request Message from DUT to TH. [DUT as Client]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Write Response Message from DUT to TH. [DUT as Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-4.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscription Request Action from DUT. [DUT as Client]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-4.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscription Response Action from DUT. [DUT as Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-4.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Report Data Messages post Subscription Activation from DUT. [DUT as Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-4.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Persistent Subscription Test Cases. [DUT as Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-5.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timed Request Action from DUT to TH. [DUT as Client]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Status Response from DUT in response to a Timed Request Action from TH. [DUT as Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-6.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Events Read Interaction from TH to DUT. [DUT as Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Events Subscribe Interaction from TH to DUT. [DUT as Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-6.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Events Read Interaction from DUT to TH. [DUT as Client]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-6.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Events Subscribe Interaction from DUT to TH. [DUT as Client]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-7.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multi Fabric Subscription Test Cases. [DUT as Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-8.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fabric scoped test cases. [DUT as Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-9.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CONSTRAINT_ERROR status response test cases [DUT as Server] - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-10.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cluster requirements - Global attributes [DUT as Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-IDM-11.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data types - attribute strings [DUT as Server]</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases_8"><a class="anchor" href="#_test_cases_8"></a>32. Test Cases</h2>
<div class="sectionbody">
<hr>
<div class="sect2">
<h3 id="_invoke_transaction_test_cases"><a class="anchor" href="#_invoke_transaction_test_cases"></a>32.1. Invoke Transaction Test Cases</h3>
<hr>
<div class="sect3">
<h4 id="_tc_idm_1_1_invoke_request_action_from_dut_to_th_dut_as_client"><a class="anchor" href="#_tc_idm_1_1_invoke_request_action_from_dut_to_th_dut_as_client"></a>32.1.1. [TC-IDM-1.1] Invoke Request Action from DUT to TH - [DUT as Client]</h4>
<div class="sect4">
<h5 id="_category_109"><a class="anchor" href="#_category_109"></a>Category</h5>
<div class="paragraph">
<p>Functional, Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_110"><a class="anchor" href="#_purpose_110"></a>Purpose</h5>
<div class="paragraph">
<p>Verifying the Invoke Request Action sent from the DUT is according to the specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_109"><a class="anchor" href="#_pics_109"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.C.InvokeRequest</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_109"><a class="anchor" href="#_required_devices_109"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as device which is the recipient of the Invoke Request Message - Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as the device which sends the Invoke Request Message - Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_62"><a class="anchor" href="#_device_topology_62"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT will be commissioned and are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_51"><a class="anchor" href="#_test_setup_51"></a>Test Setup</h5>
<div class="paragraph">
<p>Test will need a reference implementation of the cluster of which the DUT is the client.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_109"><a class="anchor" href="#_test_procedure_109"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.1/10.6.9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Invoke Request Message to the TH.<br>
 The Message should contain one valid CommandDataIB, which has the specific Endpoint, Specific Cluster and Specific Command.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received request message has the same paths as provided in the command.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.1/10.6.9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Invoke Request Message to the TH.<br>
 The Message should contain the wildcard for Endpoint, specific Cluster and Specific Command  in the CommandDataIB.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received request message has the same paths as provided in the command.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.1/10.6.9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Invoke Request Message to the TH.<br>
 The Message should contain one valid CommandDataIB, which has the specific Endpoint, Specific Cluster and Specific Command.<br>
 Send 2 more Invoke Request Messages to the TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received request messages have the same paths as provided in the command.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_76"><a class="anchor" href="#_notestesting_considerations_76"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>The Cluster and Commands should be based on the cluster implementation on the DUT.<br>
Test Step 2 is not in scope for 1.3<br>
Test Step 3 can be tested by using the command scan networks.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_1_2_invoke_response_action_from_dut_to_th_dut_as_server"><a class="anchor" href="#_tc_idm_1_2_invoke_response_action_from_dut_to_th_dut_as_server"></a>32.1.2. [TC-IDM-1.2] Invoke Response Action from DUT to TH - [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_110"><a class="anchor" href="#_category_110"></a>Category</h5>
<div class="paragraph">
<p>Functional, Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_111"><a class="anchor" href="#_purpose_111"></a>Purpose</h5>
<div class="paragraph">
<p>Verifying the Invoke Response of the DUT once it receives the Invoke Request Action.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_110"><a class="anchor" href="#_pics_110"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_110"><a class="anchor" href="#_required_devices_110"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as device which sends the Invoke Request Message -  Client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as the device which responds to the Invoke Request Message - Server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_63"><a class="anchor" href="#_device_topology_63"></a>Device Topology</h5>
<div class="paragraph">
<p>Depending on the Test Case, TH and DUT will be commissioned and are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_52"><a class="anchor" href="#_test_setup_52"></a>Test Setup</h5>
<div class="paragraph">
<p>Test will need a reference implementation of the cluster of which the DUT is the server</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_110"><a class="anchor" href="#_test_procedure_110"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Invoke Request Message to the DUT with the path that indicates a specific endpoint that is unsupported.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received response message has the UNSUPPORTED_ENDPOINT Status Code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Invoke Request Message to the DUT with the path that indicates a specific cluster that is unsupported.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received response message has the UNSUPPORTED_CLUSTER Status Code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Invoke Request Message to the DUT with the path that indicates a specific command that is unsupported.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received response message has the UNSUPPORTED_COMMAND Status Code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Setup the TH such that it should not have the privilege for the cluster in the path.<br>
TH sends the Invoke Request Message to the DUT with a valid CommandDataIB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received response message has the UNSUPPORTED_ACCESS Status Code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Setup the TH such that there is no accessing fabric<br>
TH sends the Invoke Request Message to the DUT with a valid and fabric-scoped CommandDataIB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received response message has the UNSUPPORTED_ACCESS Status Code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[OPTIONAL] TH sends the Invoke Request Message to the DUT with the command which  requires a data response to be sent back.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT generates an InvokeResponseIB with a valid CommandDataIB and sends it to the TH.<br>
TH then verifies that this message is valid.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Invoke Request Message to the DUT with a valid CommandDataIB and SuppressResponse set to True</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT executes the command.<br>
Verify that the DUT does not send any response back to the TH.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Invoke Request Message to the DUT with the TimedRequest set as TRUE.(There should be no previous Timed Invoke action.)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify DUT sends back a Status Response with the TIMED_REQUEST_MISMATCH status code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Invoke Request Message to the DUT with the command in the path that requires a Timed Invoke transaction to invoke and this action is not part of a Timed Invoke transaction</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify that the DUT sends a status code NEEDS_TIMED_INTERACTION.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_77"><a class="anchor" href="#_notestesting_considerations_77"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Test Steps #7 cannot be executed with V1.0 SDK</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_1_3_batched_commands_invoke_request_action_from_dut_to_th_dut_as_client"><a class="anchor" href="#_tc_idm_1_3_batched_commands_invoke_request_action_from_dut_to_th_dut_as_client"></a>32.1.3. [TC-IDM-1.3] Batched Commands Invoke Request Action from DUT to TH - [DUT as Client]</h4>
<div class="sect4">
<h5 id="_category_111"><a class="anchor" href="#_category_111"></a>Category</h5>
<div class="paragraph">
<p>Functional, Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_112"><a class="anchor" href="#_purpose_112"></a>Purpose</h5>
<div class="paragraph">
<p>Verifying the Batched Commands Invoke Request Action sent from the DUT is according to the specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_111"><a class="anchor" href="#_pics_111"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.C.InvokeRequest.BatchCommands</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_111"><a class="anchor" href="#_required_devices_111"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as device which is the recipient of the Invoke Request Message - Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as the device which sends the Invoke Request Message - Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_64"><a class="anchor" href="#_device_topology_64"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT will be commissioned and are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_53"><a class="anchor" href="#_test_setup_53"></a>Test Setup</h5>
<div class="paragraph">
<p>Test will need a reference implementation of the cluster of which the DUT is the client.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_111"><a class="anchor" href="#_test_procedure_111"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.1/10.6.9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Invoke Request Message to the TH. The Message should contain multiple valid unique paths.<br>
For example this could be, Path = [[ Endpoint = Endpoint1, Cluster = ClusterID, Command = Command1 ], [ Endpoint = Endpoint1, Cluster =<br>
ClusterID, Command = Command2 ] ] TH responds with a single command response message containing responses to both<br>
of the messages in the same order</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received request message has the same paths as provided<br>
in the command (compare with information provided by the manufacturer) and that the paths are unique.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.1/10.6.9/10.6.10.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Invoke Request Message to the TH. The Message should contain multiple valid unique paths<br>
For example this could be, Path = [[ Endpoint = Endpoint1, Cluster = ClusterID, Command = Command1 ], [ Endpoint = Endpoint1, Cluster =<br>
ClusterID, Command = Command2 ] ]. TH SHALL responds with two Invoke Response Messages and respond to the commands in the<br>
same order</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the DUT, verify it does not crash.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.1/10.6.9/10.6.10.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Invoke Request Message to the TH. The Message should contain multiple valid unique paths<br>
For example this could be, Path = [[ Endpoint = Endpoint1, Cluster = ClusterID, Command = Command1 ], [ Endpoint = Endpoint1, Cluster =<br>
ClusterID, Command = Command2 ] ]. TH SHALL responds with two Invoke Response Messages and respond to the commands in the<br>
opposite order</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the DUT, verify it does not crash.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.1/10.6.9/10.6.10.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Invoke Request Message to the TH. The Message should contain multiple valid unique paths<br>
For example this could be, Path = [[ Endpoint = Endpoint1, Cluster = ClusterID, Command = Command1 ], [ Endpoint = Endpoint1, Cluster =<br>
ClusterID, Command = Command2 ] ]. TH SHALL responds with a single command response message containing responses to only<br>
single command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the DUT, verify it does not crash, and is able to send additional command (step 5).<br>
<br>
# This last step is only here to help make sure that DUT has not crashed and is able to send another non-batched command</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.1/10.6.9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Invoke Request Message to the TH. The Message should contain one valid CommandDataIB, which has the<br>
specific Endpoint, Specific Cluster and Specific Command. TH configured to send normal response to single InvokeRequest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH<br>
verify the received request message has the same paths as provided in the command.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_78"><a class="anchor" href="#_notestesting_considerations_78"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Test Steps 1 through 4 requires Product Maker to provide instructions for how to trigger sending multiple commands on the DUT to<br>
the TH. The commands used may be the same for all 4 test steps<br>
Test Step 1 requires Product Maker to provide the concrete command paths that the aforementioned instructions are targeting for<br>
validation.<br>
Test Step 5 requires Product Maker to provide instructions for how to trigger single command on the DUT to the TH.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_1_4_batched_commands_invoke_response_action_from_dut_to_th_dut_as_server"><a class="anchor" href="#_tc_idm_1_4_batched_commands_invoke_response_action_from_dut_to_th_dut_as_server"></a>32.1.4. [TC-IDM-1.4] Batched Commands Invoke Response Action from DUT to TH - [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_112"><a class="anchor" href="#_category_112"></a>Category</h5>
<div class="paragraph">
<p>Functional, Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_113"><a class="anchor" href="#_purpose_113"></a>Purpose</h5>
<div class="paragraph">
<p>Verifying the Invoke Response of the DUT once it receives the Invoke Request Action.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_112"><a class="anchor" href="#_pics_112"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_112"><a class="anchor" href="#_required_devices_112"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as device which sends the Invoke Request Message -  Client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as the device which responds to the Invoke Request Message - Server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_65"><a class="anchor" href="#_device_topology_65"></a>Device Topology</h5>
<div class="paragraph">
<p>Depending on the Test Case, TH and DUT will be commissioned and are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_112"><a class="anchor" href="#_test_procedure_112"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.12.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH establishes secure session to the DUT, TH reads session parameters to get reported <code>MaxPathsPerInvoke</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify <code>MaxPathsPerInvoke</code> is a value between 1 and 65535.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Invoke Request Message to the DUT with <code>MaxPathsPerInvoke +1</code> invalid but unique CommandPath in CommandDataIBs. This test step will only be executed if we are able<br>
to fit <code>MaxPathsPerInvoke +1</code> command required for test into single MTU.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received response message has single INVALID_ACTION Status Code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>MaxPathsPerInvoke</code> &gt; 1, TH sends the Invoke Request Message to the DUT with two valid but non-unique CommandPath in CommandDataIBs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received response message has<br>
single INVALID_ACTION Status Code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>MaxPathsPerInvoke</code> &gt; 1, TH sends the Invoke Request Message to the DUT with two valid and unique CommandPath in CommandDataIBs, but non-unique CommandRef in<br>
CommandDataIBs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received response message has single INVALID_ACTION Status Code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>MaxPathsPerInvoke</code> &gt; 1, TH sends the Invoke Request Message to the DUT with two valid and unique CommandPath in CommandDataIBs.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received response message has two<br>
SUCCESS Status Code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>MaxPathsPerInvoke</code> &gt; 1, TH sends the Invoke Request Message to the DUT with two CommandDataIBs. The first CommandDataIB is valid, while the second CommandDataIB contains<br>
a CommandPath that indicates a specific endpoint that is unsupported. The first CommandDataIB MUST have the larger CommandRef than the second CommandDataIB.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received response<br>
message has two Status Codes SUCCESS and UNSUPPORTED_ENDPOINT. Verify Status Codes match with the corresponding Commands that were sent out.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>MaxPathsPerInvoke</code> &gt; 1, TH sends the Invoke Request Message to the DUT with two CommandDataIBs. One of the two CommandDataIBs SHALL be a command that requires timed invoke.<br>
The TimedRequest of the Invoke Request Message SHALL be set as TRUE.(There SHALL be no previous Timed Invoke action.)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify DUT sends back a Status Response with the<br>
TIMED_REQUEST_MISMATCH status code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>MaxPathsPerInvoke</code> &gt; 1, TH sends the Invoke Request Message to the DUT with two CommandDataIBs. One of the two CommandDataIBs SHALL be a command that requires timed invoke.<br>
The TimedRequest of the Invoke Request Message SHALL be set as TRUE.(There SHALL be a previous Timed Invoke action.)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received response message has two path-specific responses.<br>
The response to the command that required a timed invoke MAY be a cluster specific error.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.3/10.6.10.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>MaxPathsPerInvoke</code> &gt; 1, TH sends the Invoke Request Message to the DUT with two CommandDataIBs that is capable of triggering a response that requires multiple<br>
Invoke Response Messages. The first response message must contain the element MoreChunkedMessages set to TRUE.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received response message has two SUCCESS Status Code. On<br>
TH verify that we received two Invoke Response Messages.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_79"><a class="anchor" href="#_notestesting_considerations_79"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Test does not try sending as many batched commands in a single invoke message indicated by <code>MaxPathsPerInvoke</code>. This is because the value provided might be higher than number of commands we can<br>
fit into single InvokeRequest base on packet MTU size.</p>
</div>
<hr>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_read_transaction_test_cases"><a class="anchor" href="#_read_transaction_test_cases"></a>32.2. Read Transaction Test Cases</h3>
<hr>
<div class="sect3">
<h4 id="_tc_idm_2_1_read_request_action_from_dut_to_th_dut_as_client"><a class="anchor" href="#_tc_idm_2_1_read_request_action_from_dut_to_th_dut_as_client"></a>32.2.1. [TC-IDM-2.1] Read Request Action from DUT to TH. [DUT as Client]</h4>
<div class="sect4">
<h5 id="_category_113"><a class="anchor" href="#_category_113"></a>Category</h5>
<div class="paragraph">
<p>Functional, Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_114"><a class="anchor" href="#_purpose_114"></a>Purpose</h5>
<div class="paragraph">
<p>Verifying the Read Request Action sent from the DUT is according to the specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_113"><a class="anchor" href="#_pics_113"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.C.ReadRequest</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_113"><a class="anchor" href="#_required_devices_113"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as device which is the recipient of the Read Request Message - Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as the device which sends the Read Request Message - Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_66"><a class="anchor" href="#_device_topology_66"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT will be commissioned and are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_54"><a class="anchor" href="#_test_setup_54"></a>Test Setup</h5>
<div class="paragraph">
<p>Test will need a reference implementation of the cluster of which the DUT is the client. TH with Manufacturer specific clusters and attributes to be used for Test #21.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_113"><a class="anchor" href="#_test_procedure_113"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read one attribute on a given cluster and endpoint.<br>
 AttributePath = [[Endpoint = Specific Endpoint, Cluster = Specific ClusterID, Attribute = Specific Attribute]]<br>
 On receipt of this message, TH should send a report data action with the attribute value to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message. +</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read all attributes on a given cluster and Endpoint<br>
AttributePath = [[Endpoint = Specific Endpoint, Cluster = Specific ClusterID]]<br>
 On receipt of this message, TH should send a report data action with the attribute value to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message. +</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read all attributes in all clusters and all endpoints<br>
Path = [[ ]]<br>
 On receipt of this message, TH should send a report data action with the attribute values to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message. +</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read a specific attribute from all endpoints and all clusters.<br>
 AttributePath = [[ Attribute = Specific Attribute]]<br>
 On receipt of this message, TH should send a report data action with the attribute value to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message. +</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read all attributes from a specific cluster on all endpoints<br>
 AttributePath = [[ Cluster = Specific ClusterID]]<br>
 On receipt of this message, TH should send a report data action with the attribute value to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message. +</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read a specific attribute from a given cluster on all endpoints.<br>
 AttributePath = [[ Cluster = Specific Cluster, Attribute = specific attribute]]<br>
 On receipt of this message, TH should send a report data action with the attribute value to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message. +</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read all attributes from all clusters at a given endpoint.<br>
 AttributePath = [[ Endpoint = Specific Endpoint]]<br>
 On receipt of this message, TH should send a report data action with the attribute value to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message. +</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to a specific endpoint to read a particular attribute from all the clusters at that endpoint<br>
 AttributePath = [[ Endpoint = Specific Endpoint, Attribute = specific attribute]]<br>
 On receipt of this message, TH should send a report data action with the attribute value to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message. +</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read an attribute of data type bool. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read an attribute of data type string. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_UnsignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read an attribute of data type unsigned integer. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_SignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read an attribute of data type signed integer. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_FloatingPoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read an attribute of data type floating point. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_OctetString</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read an attribute of data type Octet String. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_Struct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read an attribute of data type Struct. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read an attribute of data type List. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_Enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read an attribute of data type enum. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.ReadRequest.Attribute.DataType_Bitmap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read an attribute of data type bitmap. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read an attribute<br>
 Repeat the above steps 3 times.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received Read Request message is same for all the 3 times. +</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH to read something(Attribute) which is larger than 1 MTU(1280 bytes) and per spec can be chunked.<br>
For every chunked data message received, except the last one, DUT sends a status response.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends a status message back to the TH on receipt of the report data action for every chunked message except the last one.<br>
Verify that the last chunked message DUT does not send a status response back.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7.19</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Read Request Message to the TH  with Manufacturer specific clusters and attributes to read all attributes in all clusters and all endpoints<br>
Path = [[ ]].<br>
On receipt of this message, TH should send a report data action with the attribute values to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH receives the right Read Request Message.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_80"><a class="anchor" href="#_notestesting_considerations_80"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>The Cluster and Commands should be based on the cluster implementation on the DUT.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_2_2_report_data_action_from_dut_to_th_dut_as_server"><a class="anchor" href="#_tc_idm_2_2_report_data_action_from_dut_to_th_dut_as_server"></a>32.2.2. [TC-IDM-2.2] Report Data Action from DUT to TH. [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_114"><a class="anchor" href="#_category_114"></a>Category</h5>
<div class="paragraph">
<p>Functional, Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_115"><a class="anchor" href="#_purpose_115"></a>Purpose</h5>
<div class="paragraph">
<p>Verifying the Report Data Action sent from the DUT in response to the Read Request Action is according to the specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_114"><a class="anchor" href="#_pics_114"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_114"><a class="anchor" href="#_required_devices_114"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness sends Read Request Message - Client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as the device which responds to the Read Request Message - Server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_67"><a class="anchor" href="#_device_topology_67"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT will be commissioned and are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_55"><a class="anchor" href="#_test_setup_55"></a>Test Setup</h5>
<div class="paragraph">
<p>N/A</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_114"><a class="anchor" href="#_test_procedure_114"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read one attribute on a given cluster and endpoint.<br>
 AttributePath = [[Endpoint = Specific Endpoint, Cluster = Specific ClusterID, Attribute = Specific Attribute]]<br>
 On receipt of this message, DUT should send a report data action with the attribute value to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received report data message has the right attribute values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read all attributes on a given cluster and Endpoint<br>
AttributePath = [[Endpoint = Specific Endpoint, Cluster = Specific ClusterID]]<br>
 On receipt of this message, DUT should send a report data action with the attribute value to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received report data message has only the attributes that the TH has privilege to.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read an attribute from a cluster at all Endpoints<br>
AttributePath = [[Cluster = Specific ClusterID, Attribute = Specific Attribute]]<br>
On receipt of this message, DUT should send a report data action with the attribute value from all the Endpoints to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received report data message has all the right attribute values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read a global attribute from all clusters at that Endpoint<br>
AttributePath = [[Endpoint = Specific Endpoint, Attribute = Specific Global Attribute]]<br>
On receipt of this message, DUT should send a report data action with the attribute value from all the clusters to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received report data message has all the right attribute values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read all attributes from all clusters on all Endpoints <br>
AttributePath = [[]]<br>
On receipt of this message, DUT should send a report data action with the attribute value from all the clusters to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received report data message has all the right attribute values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read a global attribute from all clusters at all Endpoints<br>
AttributePath = [[Attribute = Specific Global Attribute]]<br>
On receipt of this message, DUT should send a report data action with the attribute value from all the clusters to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received report data message has all the right attribute values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read all attributes from a cluster at all Endpoints<br>
AttributePath = [[Cluster = Specific ClusterID]]<br>
On receipt of this message, DUT should send a report data action with the attribute value from all the Endpoints to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received report data message has all the right attribute values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read all attributes from all clusters at one Endpoint<br>
AttributePath = [[Endpoint = Specific Endpoint]]<br>
On receipt of this message, DUT should send a report data action with the attribute value from all the Endpoints to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received report data message has all the right attribute values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read an attribute of data type bool.<br>
DUT responds with the report data action with the right attribute value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the right attribute value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read an attribute of data type string.<br>
DUT responds with the report data action with the right attribute value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the right attribute value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_UnsignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read an attribute of data type unsigned integer.<br>
DUT responds with the report data action with the right attribute value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the right attribute value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_SignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read an attribute of data type signed integer.<br>
DUT responds with the report data action with the right attribute value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the right attribute value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_FloatingPoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read an attribute of data type floating point.<br>
DUT responds with the report data action with the right attribute value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the right attribute value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_OctetString</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read an attribute of data type Octet String.<br>
DUT responds with the report data action with the right attribute value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the right attribute value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_Struct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read an attribute of data type Struct.<br>
DUT responds with the report data action with the right attribute value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the right attribute value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read an attribute of data type List.<br>
DUT responds with the report data action with the right attribute value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the right attribute value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_Enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read an attribute of data type enum.<br>
DUT responds with the report data action with the right attribute value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the right attribute value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute.DataType_Bitmap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read an attribute of data type bitmap.<br>
DUT responds with the report data action with the right attribute value.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the right attribute value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read any attribute to an unsupported node.<br>
DUT responds with the report data action.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the status code UNSUPPORTED_NODE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read any attribute to an unsupported Endpoint.<br>
DUT responds with the report data action.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the status code UNSUPPORTED_ENDPOINT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read any attribute to an unsupported cluster.<br>
DUT responds with the report data action.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the status code UNSUPPORTED_CLUSTER</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read an unsupported attribute<br>
DUT responds with the report data action.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the status code UNSUPPORTED_ATTRIBUTE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read an attribute which is not readable.<br>
DUT responds with the report data action.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the status code UNSUPPORTED_READ</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read an attribute  in the path  that requires a privilege that is not granted for the cluster in the path.<br>
DUT responds with the report data action.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the status code UNSUPPORTED_ACCESS(0x7E)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the Read Request Message to the DUT to read an attribute<br>
 Repeat the above steps 3 times.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received Report data message has the right attribute values for all the 3 times.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Read Request Message to the DUT  to read a particular attribute with the DataVersionFilter Field not set.<br>
DUT sends back the attribute value with the DataVersion of the cluster.<br>
TH sends a second read request to the same cluster with the DataVersionFilter Field set with the dataversion value received before.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should not send a report data action with the attribute value to the TH if the data version is same as that requested.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Read Request Message to the DUT  to read a particular attribute with the DataVersionFilter Field not set.<br>
DUT sends back the attribute value with the DataVersion of the cluster.<br>
TH sends a write  request to the same cluster to write to any attribute.<br>
TH sends a second read request to read an attribute from the same cluster with the DataVersionFilter Field set with the dataversion value received before.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should send a report data action with the attribute value to the TH.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Read Request Message to the DUT  to read all attributes on a cluster with the DataVersionFilter Field not set.<br>
DUT sends back the all the attribute values with the DataVersion of the cluster.<br>
TH sends a write  request to the same cluster to write to any attribute.<br>
TH sends a second read request to read all the attributes from the same cluster with the DataVersionFilter Field set with the dataversion value received before.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should  send a report data action with all the attribute values to the TH.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Read Request Message to the DUT to read a particular attribute on a particular cluster with the DataVersionFilter Field not set.<br>
DUT sends back the attribute value with the DataVersion of the cluster.<br>
TH sends a read request to the same cluster to read any attribute with the right DataVersion(received in the previous step) and also an older DataVersion.<br>
The Read Request Message should have 2 DataVersionIB filters.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should send a report data action with the attribute value to the TH.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Read Request Message to the DUT to read any supported attribute/wildcard  on a particular cluster say A with the DataVersionFilter Field not set.<br>
DUT sends back the attribute value with the DataVersion of the cluster A.<br>
TH sends a Read Request Message to read any supported attribute/wildcard on cluster A and any supported attribute/wildcard on another cluster B.<br>
DataVersionList field should only contain the DataVersion of cluster A.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a report data action with the attribute value from the cluster B to the TH.<br>
Verify that the DUT does not send the attribute value from cluster A.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/10.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.LargeData</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Read Request Message to the DUT to read something(Attribute) which is larger than 1 MTU(1280 bytes) and per spec can be chunked  +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends a chunked data message with the SuppressResponse field set to False for all the messages except the last one.<br>
Verify the last chunked message sent has the SuppressResponse field set to True.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Read Request Message to the DUT to read a non global attribute from all clusters at that Endpoint<br>
AttributePath = [[Endpoint = Specific Endpoint, Attribute = Specific Non Global Attribute]] +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify that the DUT sends an error message and not the value of the attribute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Read Request Message to the DUT to read a non global attribute from all clusters at all Endpoints<br>
AttributePath = [[Attribute = Specific Non Global Attribute]] +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify that the DUT sends an error message and not the value of the attribute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">34</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH should have access to only a single cluster at one Endpoint1.<br>
TH sends a Read Request Message to the DUT to read all attributes from all clusters at Endpoint1<br>
AttributePath = [[Endpoint = Specific Endpoint]] +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends back data of all attributes only from that one cluster to which it has access.<br>
Verify that there are no errors sent back for attributes the TH has no access to.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">35</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1/10.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Read Request Message to read all events and attributes from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends back data of all attributes and events that the TH has access to.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_81"><a class="anchor" href="#_notestesting_considerations_81"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>The Cluster and Commands should be based on the cluster implementation on the DUT.<br>
Test Steps #19 cannot be executed with V1.0 SDK</p>
</div>
<hr>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_write_transaction_test_cases"><a class="anchor" href="#_write_transaction_test_cases"></a>32.3. Write Transaction Test Cases</h3>
<hr>
<div class="sect3">
<h4 id="_tc_idm_3_1_write_request_action_from_dut_to_th_dut_as_client"><a class="anchor" href="#_tc_idm_3_1_write_request_action_from_dut_to_th_dut_as_client"></a>32.3.1. [TC-IDM-3.1] Write Request Action from DUT to TH. [DUT as Client]</h4>
<div class="sect4">
<h5 id="_category_115"><a class="anchor" href="#_category_115"></a>Category</h5>
<div class="paragraph">
<p>Functional, Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_116"><a class="anchor" href="#_purpose_116"></a>Purpose</h5>
<div class="paragraph">
<p>Verifying the Write Request Action sent from the DUT is according to the specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_115"><a class="anchor" href="#_pics_115"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.C.WriteRequest</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_115"><a class="anchor" href="#_required_devices_115"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as device which is the recipient of the Write Request Message - Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as the device which sends the Write Request Message - Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_68"><a class="anchor" href="#_device_topology_68"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT will be commissioned and are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_56"><a class="anchor" href="#_test_setup_56"></a>Test Setup</h5>
<div class="paragraph">
<p>Test will need a reference implementation of the cluster of which the DUT is the client.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_115"><a class="anchor" href="#_test_procedure_115"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.1/10.6.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the WriteRequestMessage to the TH to modify one attribute data  +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the correct WriteRequestMessage has been received. +</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.1/10.6.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the WriteRequestMessage to the TH to modify one attribute on all Endpoints. <br>
 On receipt of this message, TH should modify the attribute and send a WriteResponseMessage to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the correct WriteRequestMessage has been received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.1/10.6.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the WriteRequestMessage to the TH to write an attribute of data type bool. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the correct WriteRequestMessage has been received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.1/10.6.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the WriteRequestMessage to the TH to write an attribute of data type string. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the correct WriteRequestMessage has been received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.1/10.6.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_UnsignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the WriteRequestMessage to the TH to write an attribute of data type unsigned integer. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the correct WriteRequestMessage has been received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.1/10.6.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_SignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the WriteRequestMessage to the TH to write an attribute of data type signed integer. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the correct WriteRequestMessage has been received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.1/10.6.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_FloatingPoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the WriteRequestMessage to the TH to write an attribute of data type floating point. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the correct WriteRequestMessage has been received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.1/10.6.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_OctetString</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the WriteRequestMessage to the TH to write an attribute of data type Octet String. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the correct WriteRequestMessage has been received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.1/10.6.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_Struct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the WriteRequestMessage to the TH to write an attribute of data type Struct. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the correct WriteRequestMessage has been received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.1/10.6.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the WriteRequestMessage to the TH to write an attribute of data type List. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the correct WriteRequestMessage has been received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.1/10.6.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_Enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the WriteRequestMessage to the TH to write an attribute of data type enum. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the correct WriteRequestMessage has been received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.1/10.6.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest.Attribute.DataType_Bitmap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the WriteRequestMessage to the TH to write an attribute of data type bitmap. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the correct WriteRequestMessage has been received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.1/10.6.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a WriteRequestMessage to the TH with a large list of attribute data, which is larger than 1 MTU(1280 bytes), that has to be sent in multiple messages.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the correct WriteRequestMessage has been received and MoreChunkedMessages is set to True. Verify that the DUT waits for the WriteResponse action from the TH before sending the next WriteRequestMessage.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.1/10.6.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the WriteRequestMessage to the TH to write one attribute on a given cluster and endpoint.<br>
 Repeat the above steps 3 times.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the correct WriteRequestMessage has been received. for all the 3 times.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a ReadRequest message to the TH to read any attribute on two clusters.<br>
TH returns with a report data action with the attribute values and the dataversions of the clusters.<br>
DUT sends a  WriteRequestMessage to the DUT to both the clusters with the appropriate dataversions(received in the previous step) to modify the value of an attribute  +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the TH sends a Write Response message with a success back to the DUT.<br>
Verify by sending a ReadRequest that the Write Action on TH was successful.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_82"><a class="anchor" href="#_notestesting_considerations_82"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>The Cluster and Commands should be based on the cluster implementation on the DUT.<br>
Test Steps #2 and #15 cannot be executed with V1.0 SDK</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_3_2_write_response_action_from_dut_to_th_dut_as_server"><a class="anchor" href="#_tc_idm_3_2_write_response_action_from_dut_to_th_dut_as_server"></a>32.3.2. [TC-IDM-3.2] Write Response Action from DUT to TH. [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_116"><a class="anchor" href="#_category_116"></a>Category</h5>
<div class="paragraph">
<p>Functional, Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_117"><a class="anchor" href="#_purpose_117"></a>Purpose</h5>
<div class="paragraph">
<p>Verifying the Write Response Action sent from the DUT in response to the Write Request Action is according to the specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_116"><a class="anchor" href="#_pics_116"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_116"><a class="anchor" href="#_required_devices_116"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness sends Write Request Message</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as the device which responds with a Write Response Message.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_69"><a class="anchor" href="#_device_topology_69"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT will be commissioned and are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_57"><a class="anchor" href="#_test_setup_57"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_116"><a class="anchor" href="#_test_procedure_116"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write one attribute on a given cluster and endpoint.<br>
 On receipt of this message, DUT should send a write response action.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
 Verify the updated value by sending a ReadRequestMessage to read the value that was modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a WriteRequestMessage to the DUT to write to an attribute on all endpoints.<br>
 On receipt of this message, DUT should send a Write Response action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
 Verify the updated value by sending a ReadRequestMessage to read the value that was modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write an attribute of data type bool. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
Verify the updated value by sending a ReadRequestMessage to read the value that was modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write an attribute of data type string. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
Verify the updated value by sending a ReadRequestMessage to read the value that was modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_UnsignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write an attribute of data type unsigned integer. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
Verify the updated value by sending a ReadRequestMessage to read the value that was modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_SignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write an attribute of data type signed integer. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
 Verify the updated value by sending a ReadRequestMessage to read the value that was modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_FloatingPoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write an attribute of data type floating point. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
 Verify the updated value by sending a ReadRequestMessage to read the value that was modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_OctetString</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write an attribute of data type Octet String. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
 Verify the updated value by sending a ReadRequestMessage to read the value that was modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_Struct</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write an attribute of data type Struct. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
 Verify the updated value by sending a ReadRequestMessage to read the value that was modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write an attribute of data type List. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
 Verify the updated value by sending a ReadRequestMessage to read the value that was modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_Enum</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write an attribute of data type enum. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
 Verify the updated value by sending a ReadRequestMessage to read the value that was modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_Bitmap</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write an attribute of data type bitmap. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
 Verify the updated value by sending a ReadRequestMessage to read the value that was modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write any attribute on an unsupported node.<br>
DUT responds with the Write Response action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the status code UNSUPPORTED_NODE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write any attribute on an unsupported Endpoint.<br>
DUT responds with the Write Response action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the status code UNSUPPORTED_ENDPOINT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write any attribute on an unsupported cluster.<br>
DUT responds with the Write Response action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the status code UNSUPPORTED_CLUSTER</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write an unsupported attribute<br>
DUT responds with the Write Response action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the status code UNSUPPORTED_ATTRIBUTE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write an attribute which is not writable.<br>
DUT responds with the Write Response action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the status code UNSUPPORTED_WRITE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write to an attribute  in the path that requires a privilege that is not granted for the cluster in the path.<br>
DUT responds with the Write Response action</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the status code UNSUPPORTED_ACCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to write one attribute on a given cluster and endpoint.<br>
Repeat the above steps 3 times.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
Verify the updated value by sending a ReadRequestMessage to read the value that was modified for all 3 times.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to modify the value of one attribute on a given cluster and endpoint to null. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
Verify the updated value by sending a ReadRequestMessage to read the value that was modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to append an attribute value  +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
Verify the updated value by sending a ReadRequestMessage to read the value that was modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to delete an attribute value  +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a WriteResponseMessage with the status set to Success.<br>
Verify the updated value by sending a ReadRequestMessage to read the value that was modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to modify the value of one attribute and Set SuppressResponse to True. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify that the DUT does not send a Write Response message with a success back to the TH.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a ReadRequest message to the DUT to read any attribute on any cluster.<br>
DUT returns with a report data action with the attribute values and the dataversion of the cluster.<br>
TH sends a  WriteRequestMessage to the DUT to modify the value of one attribute with the DataVersion field set to the one received in the prior step. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a Write Response message with a success back to the TH.<br>
Verify by sending a ReadRequest that the Write Action on DUT was successful.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a ReadRequest message to the DUT to read any attribute on any cluster.<br>
DUT returns with a report data action with the attribute values and the dataversion of the cluster.<br>
TH sends a  WriteRequestMessage to the DUT to modify the value of one attribute no DataVersion indicated.<br>
TH sends a second WriteRequestMessage to the DUT to modify the value of an attribute with the dataversion field set to the value received earlier.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a Write Response message with the error DATA_VERSION_MISMATCH for the second Write request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1/10.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the WriteRequestMessage to the DUT to modify the value of a specific attribute data that needs Timed Write transaction to write and this action is not part of a Timed Write transaction.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify that the DUT sends a status code NEEDS_TIMED_INTERACTION.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_83"><a class="anchor" href="#_notestesting_considerations_83"></a>Notes/Testing Considerations</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The Cluster and Commands should be based on the cluster implementation on the DUT.</p>
</li>
<li>
<p>Test Steps 2, 13, 20, 21, 22 and 23 cannot be executed with V1.0 SDK</p>
</li>
</ol>
</div>
<hr>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_subscription_transaction_test_cases"><a class="anchor" href="#_subscription_transaction_test_cases"></a>32.4. Subscription Transaction Test Cases</h3>
<hr>
<div class="sect3">
<h4 id="_tc_idm_4_1_subscriptionrequestmessage_from_dut_test_cases_dut_as_client"><a class="anchor" href="#_tc_idm_4_1_subscriptionrequestmessage_from_dut_test_cases_dut_as_client"></a>32.4.1. [TC-IDM-4.1] SubscriptionRequestMessage from DUT test cases. [DUT as Client]</h4>
<div class="sect4">
<h5 id="_category_117"><a class="anchor" href="#_category_117"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_118"><a class="anchor" href="#_purpose_118"></a>Purpose</h5>
<div class="paragraph">
<p>This test case will verify the subscription request messages sent from the DUT to the target node</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_117"><a class="anchor" href="#_pics_117"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.C.SubscribeRequest</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_117"><a class="anchor" href="#_required_devices_117"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Publisher/Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as subscriber/Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_70"><a class="anchor" href="#_device_topology_70"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT and TH are on the same fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_117"><a class="anchor" href="#_test_procedure_117"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.4/8.5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a subscription request message to the target node/reference device for a single attribute of any data type supported.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the reference device verify the subscription message received has the following fields.<br>
KeepSubscriptions which is of type bool<br>
MinIntervalFloor which is of type uint16<br>
MaxIntervalCeiling which is of type uint16<br>
[Optional]AttributeRequests which is of type list and contains the attribute paths<br>
[Optional]DataVersionFilters which is of type list and contains the data versions of the attributes requested.+<br>
[Optional]EventRequests which is of type list<br>
[Optional]EventFilters which is of type list<br>
[Optional]FabricFiltered which is of type bool +</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.4/8.5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the subscription request message to TH<br>
TH sends a report data<br>
DUT sends the status response back to TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the status response received from the DUT is "Success"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.4/8.5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest.Attribute.DataType_Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for an attribute of data type boolean. <br>
Modify that attribute on the TH. TH should send the modified data to the DUT.<br>
Modify the attribute multiple times (3 times).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the status response received from the DUT for every report data sent is a "Success"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.4/8.5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest.Attribute.DataType_String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for an attribute of data type string.<br>
Modify that attribute on the TH. TH should send the modified data to the DUT.<br>
Modify the attribute multiple times (3 times).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the status response received from the DUT for every report data sent is a "Success"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.4/8.5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest.Attribute.DataType_UnsignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for an attribute of data type unsigned integer.<br>
Modify that attribute on the TH. TH should send the modified data to the DUT.<br>
Modify the attribute multiple times (3 times).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the status response received from the DUT for every report data sent is a "Success"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.4/8.5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest.Attribute.DataType_Integer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for an attribute of data type signed integer.<br>
Modify that attribute on the TH.<br>
TH should send the modified data to the DUT.<br>
Modify the attribute multiple times (3 times)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the status response received from the DUT for every report data sent is a "Success"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.4/8.5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest.Attribute.DataType_FloatingPoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for an attribute of data type Floating Point.<br>
Modify that attribute on the TH.<br>
TH should send the modified data to the DUT.<br>
Modify the attribute multiple times (3 times)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the status response received from the DUT for every report data sent is a "Success"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.4/8.5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest.Attribute.DataType_List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for an attribute of data type list. <br>
Modify that attribute on the TH. TH should send the modified data to the DUT.<br>
Modify the attribute multiple times (3 times)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the status response received from the DUT for every report data sent is a "Success"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.4/8.5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for an attribute.<br>
Force the TH to not send any report data for the duration of the maximum interval.<br>
After the maximum interval, TH sends a report data with the subscription id created during the subscription activation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the status response received from the DUT says "INVALID_SUBSCRIPTION".</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.4/8.5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.SubscribeRequest.MultipleAttributes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a subscription request message to the target node/reference device for multiple attributes (&gt;1 attributes).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the reference device verify the subscription request message received has the following fields.<br>
KeepSubscriptions which is of type bool<br>
MinIntervalFloor which is of type uint16<br>
MaxIntervalCeiling which is of type uint16<br>
AttributeRequests which is of type list and contains the paths for the requested attributes.<br>
DataVersionFilters which is of type list and contains the data versions of the attributes requested.<br>
[Optional]EventRequests which is of type list<br>
[Optional]EventFilters which is of type list<br>
FabricFiltered which is of type bool +</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_84"><a class="anchor" href="#_notestesting_considerations_84"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>The Expected Outcome for the tests is verified by looking at the pretty printed TLV on the TH.<br>
Vendor needs to specify how to trigger the subscription on the DUT.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_4_2_subscription_response_messages_from_dut_test_cases_dut_as_server"><a class="anchor" href="#_tc_idm_4_2_subscription_response_messages_from_dut_test_cases_dut_as_server"></a>32.4.2. [TC-IDM-4.2] Subscription Response Messages from DUT Test Cases. [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_118"><a class="anchor" href="#_category_118"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_119"><a class="anchor" href="#_purpose_119"></a>Purpose</h5>
<div class="paragraph">
<p>This test case will verify the subscription response messages sent in response to the subscription request messages to activate a subscription are according to specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_118"><a class="anchor" href="#_pics_118"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_118"><a class="anchor" href="#_required_devices_118"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Controller 1 as the subscriber - client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Controller 2 as the subscriber with limited access to the DUT - client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as the target of the subscription - server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_71"><a class="anchor" href="#_device_topology_71"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT, CR1 and CR2 are on the same fabric.<br>
CR2 is setup such that it has limited access to the DUT based on the test step.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_118"><a class="anchor" href="#_test_procedure_118"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.11.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CR1 reads the Descriptor cluster ServerList attribute from EP0. Save as ep0_servers.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">0b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.11.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If ep0_servers contains the ICD Management cluster ID (0x0046), CR1 reads from the DUT the <em>IdleModeDuration</em> attribute and sets SUBSCRIPTION_MAX_INTERVAL_PUBLISHER_LIMIT = <em>IdleModeDuration</em>. Otherwise, set SUBSCRIPTION_MAX_INTERVAL_PUBLISHER_LIMIT = 60 mins</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CR1 sends a subscription message to the DUT with <em>MaxIntervalCeiling</em> set to a value greater than <em>SUBSCRIPTION_MAX_INTERVAL_PUBLISHER_LIMIT</em>.<br>
DUT sends a report data action to the TH.<br>
CR1 sends a success status response to the DUT.<br>
DUT sends a Subscribe Response Message to the CR1 to activate the subscription.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the CR1, a report data message is received.<br>
Verify it contains the following data<br>
Report data - data of the attribute/event requested earlier.<br>
Verify on the CR1 the Subscribe Response has the following fields,<br>
<em>SubscriptionId</em> - Verify it is of type uint32. <br>
<em>MaxInterval</em> - Verify it is of type uint32.<br>
Verify that the <em>MaxInterval</em> is less than or equal to <em>MaxIntervalCeiling</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CR1 sends a subscription message to the DUT with <em>MaxIntervalCeiling</em> set to a value less than <em>SUBSCRIPTION_MAX_INTERVAL_PUBLISHER_LIMIT</em>.<br>
DUT sends a report data action to the CR1.<br>
CR1 sends a success status response to the DUT.<br>
DUT sends a Subscribe Response Message to the CR1 to activate the subscription.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the CR1, a report data message is received.<br>
Verify it contains the following data<br>
Report data - data of the attribute/event requested earlier.<br>
Verify on the CR1 the Subscribe Response has the following fields,<br>
<em>SubscriptionId</em> - Verify it is of type uint32. <br>
<em>MaxInterval</em> - Verify it is of type uint32.<br>
Verify that the <em>MaxInterval</em> is less than or equal to <em>SUBSCRIPTION_MAX_INTERVAL_PUBLISHER_LIMIT</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Setup CR2 such that it does not have access to a specific cluster.<br>
CR2 sends a subscription message to subscribe to an attribute on that cluster for which it does not have access.<br>
 AttributePath = [[Attribute =  Attribute, Cluster = ClusterID, Endpoint = EndpointID ]].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns a "INVALID_ACTION" status response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Setup CR2 such that it does not have access to all attributes on a specific cluster and endpoint.<br>
CR2 sends a subscription request to subscribe to all attributes for which it does not have access.<br>
 AttributePath = [[Cluster = ClusterID, Endpoint = EndpointID ]].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns a "INVALID_ACTION" status response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Setup CR2 such that it does not have access to an Endpoint.<br>
CR2 sends a subscription request to subscribe to all attributes on all clusters on a specific Endpoint for which it does not have access.<br>
 AttributePath = [[ Endpoint = EndpointID ]].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns a "INVALID_ACTION" status response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Setup CR2 such that it does not have access to the Node.<br>
CR2 sends a subscription request to subscribe to all attributes on all clusters on all endpoints on a Node for which it does not have access.<br>
 AttributePath = [[  ]].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT returns a "INVALID_ACTION" status response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CR1 sends a subscription request action for an attribute with an empty DataVersionFilters field.<br>
DUT sends a report data action with the data of the attribute along with the data version.<br>
Tear down the subscription for that attribute.<br>
Start another subscription with the DataVersionFilter field set to the data version received above.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the subscription is activated between CR1 and DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CR1 sends a subscription request action for an attribute and sets the MinIntervalFloor value to be same as MaxIntervalCeiling.<br>
Activate the Subscription between CR1 and DUT.<br>
Modify the attribute which has been subscribed to on the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a report data with the value of the attribute after the MinIntervalFloor time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CR1 sends a subscription request action for an attribute and set the MinIntervalFloor value to be greater than MaxIntervalCeiling. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends an error message and the subscription is not established.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CR1 sends a subscription request to subscribe to a specific global attribute from all clusters on all endpoints. AttributePath = [[Attribute = Global Attribute]]. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Subscription succeeds and the DUT sends back the attribute values for the global attribute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CR1 sends a subscription request to subscribe to a global attribute on an endpoint on all clusters.  AttributePath = [[Attribute = Global Attribute, Endpoint = EndpointID ]]. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Subscription succeeds and the DUT sends back the attribute values for the global attribute.<br>
 Verify no data from other endpoints is sent back.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CR1 sends a subscription request to the DUT with both AttributeRequests and EventRequests as empty</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Subscription does not succeed and the DUT sends back a Status Response Action with the INVALID_ACTION Status Code</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_85"><a class="anchor" href="#_notestesting_considerations_85"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Test Steps 3, 4, 5 and 6 cannot be executed with V1.0 SDK</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_4_3_report_data_messages_post_subscription_activation_from_dut_test_cases_dut_as_server"><a class="anchor" href="#_tc_idm_4_3_report_data_messages_post_subscription_activation_from_dut_test_cases_dut_as_server"></a>32.4.3. [TC-IDM-4.3] Report Data Messages post Subscription Activation from DUT Test Cases. [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_119"><a class="anchor" href="#_category_119"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_120"><a class="anchor" href="#_purpose_120"></a>Purpose</h5>
<div class="paragraph">
<p>This test case will verify the report data messages sent from the DUT after activating subscription are according to specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_119"><a class="anchor" href="#_pics_119"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_119"><a class="anchor" href="#_required_devices_119"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as the subscriber - Client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as the target of the subscription - Server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_72"><a class="anchor" href="#_device_topology_72"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT and TH are on the same fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_119"><a class="anchor" href="#_test_procedure_119"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT and TH activate the subscription.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH, a report data message is received.<br>
Verify on the TH the Subscribe Response has the following fields: <em>SubscriptionId</em> and <em>MaxInterval</em><br>
In the following Steps 2, 3, 5-10, 13, and 15, the <em>MaxInterval</em> time reference in each step is the <em>MaxInterval</em> presented in the Subscribe Response of the subscription.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change the value of the attribute which has been subscribed on the DUT by manually changing some settings on the device.<br>
Example: Temperature sensor may update the value of the room temperature.<br>
Turning on/off on a light bulb.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is a report data message sent from the DUT for the changed value of the attribute.<br>
Verify that the Report Data is sent when the minimum interval time is reached and before the <em>MaxInterval</em> time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT and TH activate the subscription.<br>
Change the value of the attribute which has been subscribed on the DUT by sending an IMWrite or Invoke message to the DUT from the TH. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is a report data message sent from the DUT for the changed value of the attribute.<br>
Verify that the Report Data is sent when the minimum interval time is reached and before the <em>MaxInterval</em> time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT and TH activate the subscription for an attribute.<br>
Do not change the value of the attribute which has been subscribed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is an empty report data message sent from the DUT to the TH after <em>MaxInterval</em> time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT and TH activate the subscription.<br>
Change the value of the attribute which has been subscribed on the DUT.<br>
TH force sends a status response with an "invalid subscription".<br>
Change the value of the attribute which has been subscribed on the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT does not send report data for the second time after the subscription has been terminated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_Bool</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for an attribute of data type bool.<br>
Modify that attribute on the DUT.<br>
DUT should send the report data with the modified attribute value.<br>
Modify the attribute multiple times (3 times) before the <em>MaxInterval</em> time specified during the subscription activation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the correct value of the attribute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_String</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for an attribute of data type string.<br>
Modify that attribute on the DUT.<br>
DUT should send the report data with the modified attribute value<br>
Modify the attribute multiple times (3 times) before the <em>MaxInterval</em> time specified during the subscription activation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the correct value of the attribute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_UnsignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for an attribute of data type "unsigned integer".<br>
Modify that attribute on the DUT.<br>
DUT should send the report data with the modified attribute value.<br>
Modify the attribute multiple times (3 times) before the <em>MaxInterval</em> time specified during the subscription activation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the correct value of the attribute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_SignedInteger</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for an attribute of data type "signed integer".<br>
Modify that attribute on the DUT.<br>
DUT should send the report data with the modified attribute value.<br>
Modify the attribute multiple times (3 times)before the <em>MaxInterval</em> time specified during the subscription activation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the correct value of the attribute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_FloatingPoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for an attribute of data type "floating point".<br>
Modify that attribute on the DUT.<br>
DUT should send the report data with the modified attribute value.<br>
Modify the attribute multiple times (3 times) before the <em>MaxInterval</em> time specified during the subscription activation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the correct value of the attribute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S.Attribute_W.DataType_List</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for an attribute of data type list.<br>
Modify that attribute on the DUT.<br>
DUT should send the report data with the modified attribute value.<br>
Modify the attribute multiple times (3 times) before the <em>MaxInterval</em> time specified during the subscription activation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends the correct value of the attribute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for any attribute.<br>
KeepSubscriptions flag should be set to False<br>
After the Maximum interval time is elapsed, TH should send another subscription request message with different parameters than before.<br>
KeepSubscriptions flag should be set to False<br>
Change the value of the attribute requested on the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends the changed value of the attribute with the newest subscription id sent with the second request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for any attribute<br>
After the Maximum interval time is elapsed, change the value of the attribute requested on the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT  sends the changed value of the attribute to the TH after the next MinIntervalFloor time has passed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between the DUT and the TH for an attribute<br>
 There are no attribute value changes before <em>MaxInterval</em> elapses.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a Report Data action with no data to keep the subscription alive.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.2.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a subscription request action for an attribute to the DUT with the KeepSubscriptions flag set to True.<br>
Activate the subscription between DUT and the TH. Initiate another subscription request action to the DUT for another attribute with the KeepSubscriptions flag set to True.<br>
Change both the attribute values on the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that both the subscriptions are active and the TH receives reports for both these attributes on both subscriptions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.2.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a subscription request action for an attribute to the DUT with the KeepSubscriptions flag set to True. Activate the subscription between DUT and the TH. Initiate another subscription request action to the DUT for another attribute with the KeepSubscriptions flag set to False. Change both the attribute values on the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that both the subscriptions are active and the TH receives notifications for both these attributes.<br>
Verify that the first subscription is terminated after the <em>MaxInterval</em> of the first subscription is reached.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a subscription request action for an attribute and all events.<br>
Set the MinIntervalFloor to some value say "N"(seconds).<br>
Change the value of the attribute and trigger an action on the DUT to trigger any event.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on TH that DUT sends a report action data for both the attribute and the event after N seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a subscription request action for attribute wildcard -  AttributePath = [[Endpoint = EndpointID, Cluster = ClusterID]].<br>
Set the MinIntervalFloor to some value say "N"(seconds).<br>
Change all or few of the attributes on the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends reports for all the attributes that have changed after N seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a subscription request to subscribe to an attribute on a specific cluster from all endpoints   AttributePath = [[Attribute = Attribute, Cluster = ClusterID ]].<br>
Set the MinIntervalFloor to some value say "N"(seconds).<br>
Change the attribute on the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends reports for all the attributes that have changed after N seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a subscription request to subscribe to all attributes from all clusters from all endpoints.   AttributePath = [[]].<br>
Set the MinIntervalFloor to some value say "N"(seconds).<br>
Change all or few of the attributes on the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends reports for all the attributes that have changed after N seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a subscription request to subscribe to all attributes from all clusters on an endpoint.   AttributePath = [[Endpoint = EndpointID]].<br>
Set the MinIntervalFloor to some value say "N"(seconds).<br>
Change all or few of the attributes on the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends reports for all the attributes that have changed after N seconds.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10.6.5/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a subscription request to subscribe to all attributes from a specific cluster on all endpoints.  AttributePath = [[Cluster = ClusterID]].<br>
Set the MinIntervalFloor to some value say "N"(seconds).<br>
Change all or few of the attributes on the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends reports for all the attributes that have changed after N seconds.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_86"><a class="anchor" href="#_notestesting_considerations_86"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>The Expected Outcome for the tests is verified by looking at the pretty printed TLV on the TH.<br>
Test Steps 17 19, 20 and 21 cannot be executed with V1.0 SDK</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_4_4_persistent_subscription_test_cases_dut_as_server"><a class="anchor" href="#_tc_idm_4_4_persistent_subscription_test_cases_dut_as_server"></a>32.4.4. [TC-IDM-4.4] Persistent Subscription Test Cases. [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_120"><a class="anchor" href="#_category_120"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_121"><a class="anchor" href="#_purpose_121"></a>Purpose</h5>
<div class="paragraph">
<p>This test case will verify persistent subscription on a server device.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_120"><a class="anchor" href="#_pics_120"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
<li>
<p>MCORE.IDM.S.PersistentSubscription</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_120"><a class="anchor" href="#_required_devices_120"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as the subscriber - Client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as the Publisher - Server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_73"><a class="anchor" href="#_device_topology_73"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT and TH are on the same fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_120"><a class="anchor" href="#_test_procedure_120"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.3.1.1/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a subscription request action for an attribute to the DUT. Activate the subscription between DUT and the TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the Report data messages are sent from the DUT to the TH.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.3.1.1/8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Power off the DUT. Power on the DUT immediately.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the subscription between the DUT and TH is reestablished and DUT is able to send report data messages for the attribute which was subscribed to in step 1 within the MaxInterval time.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_87"><a class="anchor" href="#_notestesting_considerations_87"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>MaxInterval time will start after all DUT initialization is done (example: bootup, connect to Wi-Fi, etc.)</p>
</div>
<hr>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_timed_request_action_test_cases"><a class="anchor" href="#_timed_request_action_test_cases"></a>32.5. Timed Request Action Test Cases</h3>
<hr>
<div class="sect3">
<h4 id="_tc_idm_5_1_timed_request_action_from_dut_to_th_dut_as_client"><a class="anchor" href="#_tc_idm_5_1_timed_request_action_from_dut_to_th_dut_as_client"></a>32.5.1. [TC-IDM-5.1] Timed Request Action from DUT to TH. [DUT as Client]</h4>
<div class="sect4">
<h5 id="_category_121"><a class="anchor" href="#_category_121"></a>Category</h5>
<div class="paragraph">
<p>Functional, Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_122"><a class="anchor" href="#_purpose_122"></a>Purpose</h5>
<div class="paragraph">
<p>Verifying the Timed Request Action sent from the DUT is according to the specification for various scenarios.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_121"><a class="anchor" href="#_pics_121"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.C</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_121"><a class="anchor" href="#_required_devices_121"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as device which is the recipient of the Timed Request message - Server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as the device which sends the Timed Request Message - Client</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_74"><a class="anchor" href="#_device_topology_74"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT will be commissioned and are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_58"><a class="anchor" href="#_test_setup_58"></a>Test Setup</h5>
<div class="paragraph">
<p>Test will need a reference implementation of the cluster of which the DUT is the client.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_121"><a class="anchor" href="#_test_procedure_121"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.1/10.6.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.InvokeRequest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Timed Request to the TH and then sends an Invoke Request Message to the TH after receiving the status response message from the TH.<br>
 The Timed Request Message should contain a timeout value in milliseconds. (Example - 200 milliseconds)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received timed request message has the timeout value as sent by the DUT.<br>
  Verify that the message is unicast.<br>
  Verify that the DUT sends the Invoke Request Message to the TH before the specified timeout value.<br>
  Verify that the Invoke Request has TimedRequest set to True.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.2/10.6.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Timed Request to the TH and then sends a WriteRequestMessage to the TH after receiving the status response message from the TH.<br>
 The Timed Request Message should contain a timeout value in milliseconds. (Example - 200 milliseconds)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the received timed request message has the timeout value as sent by the DUT.<br>
  Verify that the message is unicast.<br>
  Verify that the DUT sends the WriteRequestMessage to the TH before the specified timeout value.<br>
  Verify the WriteRequestMessage has the TimedRequest field set to TRUE.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.2/10.6.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.C.WriteRequest OR MCORE.IDM.C.InvokeRequest</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the Timed Request to the TH <br>
 The Timed Request Message should contain a timeout value in milliseconds. (Example - 200 milliseconds)<br>
 Force the TH to not send a response back to the DUT for the received timed request.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT does not send a follow up message to the TH as it did not receive the initial response for the Timed request.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_88"><a class="anchor" href="#_notestesting_considerations_88"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>The DUT should have a way of triggering the Timed Request Message for Testing.<br>
Test Step #3 might not be testable.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_5_2_status_response_from_dut_in_response_to_a_timed_request_action_from_th"><a class="anchor" href="#_tc_idm_5_2_status_response_from_dut_in_response_to_a_timed_request_action_from_th"></a>32.5.2. [TC-IDM-5.2] Status Response from DUT in response to a Timed Request Action from TH.</h4>
<div class="sect4">
<h5 id="_category_122"><a class="anchor" href="#_category_122"></a>Category</h5>
<div class="paragraph">
<p>Functional, Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_123"><a class="anchor" href="#_purpose_123"></a>Purpose</h5>
<div class="paragraph">
<p>Verifying that the DUT sends a status response when a Timed Request Action is received. Verifies other error conditions as well.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_122"><a class="anchor" href="#_pics_122"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_122"><a class="anchor" href="#_required_devices_122"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Name</strong></th>
<th class="tableblock halign-left valign-top"><strong>Device Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as device which sends the Timed Request Message - Client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as the device which receives the Timed Request Message - Server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_75"><a class="anchor" href="#_device_topology_75"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT will be commissioned and are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_59"><a class="anchor" href="#_test_setup_59"></a>Test Setup</h5>
<div class="paragraph">
<p>TH will act as the client.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_122"><a class="anchor" href="#_test_procedure_122"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.1/10.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Timed Request Message with the timeout value set. (Example - 200 milliseconds). +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify the DUT sends a status response back to TH.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.2/10.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Timed Request Message(Timed Write Transaction) with the timeout value set. (Example - 200 milliseconds).<br>
Wait for the status response message to be received.<br>
Send the Write Request Message to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify DUT sends back a Write Response after performing the write action.<br>
Verify by sending a ReadRequest that the Write action was performed correctly.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.2/10.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Timed Request Message(Timed Invoke Transaction) with the timeout value set. (Example - 200 milliseconds).<br>
Wait for the status response message to be received.<br>
Wait for 5 seconds(Timer has expired) and then send the Invoke Request Message to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify DUT sends back a Status Response with the UNSUPPORTED_ACCESS status code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.2.2/10.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Timed Request Message(Timed Write Transaction) with the timeout value set. (Example - 200 milliseconds).<br>
Wait for the status response message to be received.<br>
Wait for 5 seconds(Timer has expired) and then send the Write Request Message to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH verify DUT sends back a Write Response with the UNSUPPORTED_ACCESS status code.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_89"><a class="anchor" href="#_notestesting_considerations_89"></a>Notes/Testing Considerations</h5>
<hr>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_events_test_cases"><a class="anchor" href="#_events_test_cases"></a>32.6. Events Test Cases</h3>
<hr>
<div class="sect3">
<h4 id="_tc_idm_6_1_events_read_interaction_from_th_to_dut_dut_as_server"><a class="anchor" href="#_tc_idm_6_1_events_read_interaction_from_th_to_dut_dut_as_server"></a>32.6.1. [TC-IDM-6.1] Events Read Interaction from TH to DUT. [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_123"><a class="anchor" href="#_category_123"></a>Category</h5>
<div class="paragraph">
<p>Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_124"><a class="anchor" href="#_purpose_124"></a>Purpose</h5>
<div class="paragraph">
<p>This test case will verify the report data messages for events sent from the DUT are according to specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_123"><a class="anchor" href="#_pics_123"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_123"><a class="anchor" href="#_required_devices_123"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Event reader - Client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Event publisher - Server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_76"><a class="anchor" href="#_device_topology_76"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_60"><a class="anchor" href="#_test_setup_60"></a>Test Setup</h5>
<div class="paragraph">
<p>DUT should be setup to generate events which the TH can read.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_123"><a class="anchor" href="#_test_procedure_123"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/8.9.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Read Request Message to DUT with EventRequests set to a specific event from a specific cluster on a specific endpoint on a specific node that is, [Node = Specific, Endpoint = Specific, Cluster = Specific, Event = Specific].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with the data for specific event in Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/8.9.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Read Request Message to DUT with EventRequests set to all events from a specific cluster on a specific endpoint on a specific node that is, [Node = Specific, Endpoint = Specific, Cluster = Specific, Event = Wildcard].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with the data for events in Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/8.9.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Read Request Message to DUT with EventRequests set to all events from all clusters on a specific endpoint on a specific node that is, [Node = Specific, Endpoint = Specific, Cluster = Wildcard, Event = Wildcard].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with the data for events in Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/8.9.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Read Request Message to DUT with EventRequests set to a specific event from a specific cluster on all endpoints on a specific node that is, [Node = Specific, Endpoint = Wildcard, Cluster = Specific, Event = Specific].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with the data for specific event in Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/8.9.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Read Request Message to DUT with EventRequests set to all events from a specific cluster on all endpoints on a specific node that is, [Node = Specific, Endpoint = Wildcard, Cluster = Specific, Event = Wildcard].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with the data for events in Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/8.9.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Read Request Message to DUT with EventRequests set to all events from all clusters on all endpoints on a specific node that is, [Node = Specific, Endpoint = Wildcard, Cluster = Wildcard, Event = Wildcard].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with the data for events in Read Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Read Request Message to DUT with EventRequests set to path which indicates a cluster event that is not supported.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message for the event with EventStatusIB generated with the UNSUPPORTED_EVENT Status Code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Read Request Message to DUT with EventRequests set to path which requires a privilege that is not granted for the cluster in the path.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message for the event with EventStatusIB generated with the UNSUPPORTED_ACCESS Status Code 0x7e.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Read Request Message to DUT with EventRequests set to Wildcard path where reading an event in the path requires a privilege that is not granted for the cluster in the path.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with no entry for that event in EventReports list.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2/8.9.3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Read Request Message to the DUT to read back events.<br>
Note down the largest event number received in the report data message sent back from the DUT.<br>
TH sends Read Request Message to DUT with the EventMin field set to a number less than what was received in the previous step.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with EventReports for event numbers higher than or equal to the EventMin field.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2/8.9.3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Read Request Message to the DUT to read back events.<br>
Note down the largest event number received in the report data message sent back from the DUT.<br>
TH sends Read Request Message to DUT with the EventMin field set to a number much greater than what was received in the previous step.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with empty EventReports, or if Events are present, then verify that it contains EventReports with event numbers bigger than the one provided.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2/8.9.3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">[Testing Chunked Event Data] TH sends Read Request Message to DUT with EventRequests set to all events so as to create a very large event data.<br>
For every chunked data message received, DUT sends a status response.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends a status response back to the TH on receipt of the report data action for every chunked message.<br>
The last chunked message should not receive any status response from the DUT.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_90"><a class="anchor" href="#_notestesting_considerations_90"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Test Steps 7 and 14 cannot be executed with V1.0 SDK<br>
'''</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_6_2_events_subscribe_interaction_from_th_to_dut_dut_as_server"><a class="anchor" href="#_tc_idm_6_2_events_subscribe_interaction_from_th_to_dut_dut_as_server"></a>32.6.2. [TC-IDM-6.2] Events Subscribe Interaction from TH to DUT. [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_124"><a class="anchor" href="#_category_124"></a>Category</h5>
<div class="paragraph">
<p>Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_125"><a class="anchor" href="#_purpose_125"></a>Purpose</h5>
<div class="paragraph">
<p>This test case will verify the report data messages for events sent from the DUT are according to specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_124"><a class="anchor" href="#_pics_124"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_124"><a class="anchor" href="#_required_devices_124"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Event subscriber - Client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Event publisher - Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_77"><a class="anchor" href="#_device_topology_77"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_124"><a class="anchor" href="#_test_procedure_124"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1/8.9.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Subscribe Request Message to DUT with EventRequests set to a specific event from a specific cluster on a specific endpoint on a specific node that is, [Node = Specific, Endpoint = Specific, Cluster = Specific, Event = Specific].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with SubscriptionId which uniquely identifies this subscription on the publisher and data for specific event in Subscribe Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1/8.9.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Subscribe Request Message to DUT with EventRequests set to all events from a specific cluster on a specific endpoint on a specific node that is, [Node = Specific, Endpoint = Specific, Cluster = Specific, Event = Wildcard].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with SubscriptionId which uniquely identifies this subscription on the publisher and data for events in Subscribe Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1/8.9.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Subscribe Request Message to DUT with EventRequests set to all events from all clusters on a specific endpoint on a specific node that is, [Node = Specific, Endpoint = Specific, Cluster = Wildcard, Event = Wildcard].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with SubscriptionId which uniquely identifies this subscription on the publisher and data for events in Subscribe Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1/8.9.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Subscribe Request Message to DUT with EventRequests set to a specific event from a specific cluster on all endpoints on a specific node that is, [Node = Specific, Endpoint = Wildcard, Cluster = Specific, Event = Specific].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with SubscriptionId which uniquely identifies this subscription on the publisher and data for specific event in Subscribe Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1/8.9.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Subscribe Request Message to DUT with EventRequests set to all events from a specific cluster on all endpoints on a specific node that is, [Node = Specific, Endpoint = Wildcard, Cluster = Specific, Event = Wildcard].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with SubscriptionId which uniquely identifies this subscription on the publisher and data for events in Subscribe Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1/8.9.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Subscribe Request Message to DUT with EventRequests set to all events from all clusters on all endpoints on a specific node that is, [Node = Specific, Endpoint = Wildcard, Cluster = Wildcard, Event = Wildcard].</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with SubscriptionId which uniquely identifies this subscription on the publisher and data for events in Subscribe Request Message.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate Event subscription from TH to DUT and trigger the subscribed event on the DUT before minimum interval.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message for event only after the minimum interval has expired.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate Event subscription from TH to DUT and and trigger the subscribed event on the DUT before minimum interval.<br>
'IsUrgent' flag is set to True for a particular event path in the EventPathIB in the SubscribeRequestMessage.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message for all subscribed events, including any queued events leading up to (and including) the urgent event, after the minimum interval time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate Event subscription from TH to DUT with no change in event triggering attribute values before maximum interval.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message every maximum interval or possibly more frequently to keep the subscription alive.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">With an active Event subscription from TH to DUT, TH sends another Subscribe Request Message to DUT with KeepSubscriptions as False.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All existing or pending subscriptions on the publisher for this subscriber shall be terminated.<br>
Verify TH receives report data message for any event changes for the second subscribe request sent by the TH.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Subscribe Request Message to DUT + DUT sends Report Data message to DUT.<br>
TH sends Status Response Message with a success Status code.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Subscribe Response action to activate the subscription with fields<br>
SubscriptionId - identifies the subscription (uint32 type).<br>
MaxInterval - the final maximum interval for the subscription in seconds (uint16 type).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1/8.3.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Subscribe Request Message to DUT.<br>
DUT sends Report Data message to DUT + TH sends Status Response Message with an error Status.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT terminates the Subscribe interaction and no further Report Data messages are received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Subscribe Request Message to DUT with EventRequests set to path which indicates a cluster event that is not supported.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message for the event with EventStatusIB generated with the UNSUPPORTED_EVENT Status Code 0xC7.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Subscribe Request Message to DUT with EventRequests set to path which requires a privilege that is not granted for the cluster in the path.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message for the event with EventStatusIB generated with the UNSUPPORTED_ACCESS Status Code 0x7E.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Subscribe Request Message to DUT with EventRequests set to Wildcard path where reading an event in the path requires a privilege that is not granted for the cluster in the path.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with no entry for that event in EventReports list.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2/8.9.3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Subscribe Request Message to DUT with EventFilterIB Node information field matching the node indicated in the path and EventMin field.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with EventReports for event numbers higher than the EventMin field.<br>
Verify that the subsequent ReportData actions as part of the subscription include the latest EventNo associated with each node generating new events.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2/8.9.3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends Subscribe Request Message to DUT with EventFilterIB Node information field matching the node indicated in the path and the event number is less than the EventMin field.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH receives Report Data Message with empty EventReports.<br>
Verify that the subsequent ReportData actions as part of the subscription include the latest EventNo associated with each node generating new events.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2/8.9.3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">With an active Event subscription from TH to DUT, trigger events on DUT multiple times.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that each event record is assigned a number that is exactly 1 greater than the last created event record on that Node.<br>
Verify that for all the events that it has either System/Epoch timestamp or Delta System/Epoch Timestamp if this is not first event in current report</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2/8.9.3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">With an active Event subscription from TH to DUT, change attribute values on DUT to create events multiple times.<br>
Perform a factory data reset on DUT, re-subscribe to events and continue to change attribute values on DUT to create events multiple times.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that each event record is assigned a number that is exactly 1 greater than the last created event record on that Node before factory data reset.<br>
 Verify that this monotonicity is not preserved across factory data reset.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_91"><a class="anchor" href="#_notestesting_considerations_91"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Test Step #14 cannot be executed with V1.0 SDK.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_6_3_events_read_interaction_from_dut_to_th_dut_as_client"><a class="anchor" href="#_tc_idm_6_3_events_read_interaction_from_dut_to_th_dut_as_client"></a>32.6.3. [TC-IDM-6.3] Events Read Interaction from DUT to TH. [DUT as Client]</h4>
<div class="sect4">
<h5 id="_category_125"><a class="anchor" href="#_category_125"></a>Category</h5>
<div class="paragraph">
<p>Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_126"><a class="anchor" href="#_purpose_126"></a>Purpose</h5>
<div class="paragraph">
<p>This test case will verify the report data messages for events sent from the DUT are according to specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_125"><a class="anchor" href="#_pics_125"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.C</p>
</li>
<li>
<p>MCORE.IDM.C.ReadRequest</p>
</li>
<li>
<p>MCORE.IDM.C.ReadEvent</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_125"><a class="anchor" href="#_required_devices_125"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Event reader</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Event publisher</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_78"><a class="anchor" href="#_device_topology_78"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_125"><a class="anchor" href="#_test_procedure_125"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1/8.9.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends Read Request Message to the TH for a supported event.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the Read Request Message received has these fields<br>
EventRequests - list of request paths to cluster events. Should be a valid EventPathIB from the Valid Event Paths table and not target a group.<br>
EventFilters - list of minimum event numbers per specific node. (Optional)<br>
FabricFiltered which is of type bool.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_92"><a class="anchor" href="#_notestesting_considerations_92"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_6_4_events_subscribe_interaction_from_dut_to_th_dut_as_client"><a class="anchor" href="#_tc_idm_6_4_events_subscribe_interaction_from_dut_to_th_dut_as_client"></a>32.6.4. [TC-IDM-6.4] Events Subscribe Interaction from DUT to TH. [DUT as Client]</h4>
<div class="sect4">
<h5 id="_category_126"><a class="anchor" href="#_category_126"></a>Category</h5>
<div class="paragraph">
<p>Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_127"><a class="anchor" href="#_purpose_127"></a>Purpose</h5>
<div class="paragraph">
<p>This test case will verify the report data messages for events sent from the DUT are according to specification.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_126"><a class="anchor" href="#_pics_126"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.C</p>
</li>
<li>
<p>MCORE.IDM.C.SubscribeRequest</p>
</li>
<li>
<p>MCORE.IDM.C.SubscribeEvent</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_126"><a class="anchor" href="#_required_devices_126"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Event subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Event publisher</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_79"><a class="anchor" href="#_device_topology_79"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_126"><a class="anchor" href="#_test_procedure_126"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends Subscribe Request Message to the TH for a supported event.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the Subscribe Request Message received has these fields<br>
KeepSubscriptions which is of type bool.<br>
MinIntervalFloor which is of type uint16.<br>
MaxIntervalCeiling which is of type uint16.<br>
EventRequests - list of request paths to cluster events. Should be a valid EventPathIB from the Valid Event Paths table and not target a group.<br>
EventFilters - list of minimum event numbers per specific node. (Optional)<br>
FabricFiltered which is of type bool.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends Subscribe Request Message to the TH.<br>
TH sends Report Data message to DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends Status Response Action with a success Status Code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends Subscribe Request Message to the TH and TH does not respond with Report Data message to DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Subscribe interaction is terminated and DUT can send another Subscribe Request Message for events.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends Subscribe Request Message to the TH.<br>
TH sends Report Data message to DUT.<br>
DUT sends Status Response Message to the TH.<br>
TH does not respond with Subscribe Response message to DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Subscribe interaction is terminated and DUT can send another Subscribe Request Message for events.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">With an active Event subscription from DUT to TH, TH sends Report Data message to DUT with an invalid SubscriptionId.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends Status Response action with an INVALID_SUBSCRIPTION Status Code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">With an active Event subscription from DUT to TH, TH sends Report Data message to DUT after the maximum interval from the last Report Data.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends Status Response action with an INVALID_SUBSCRIPTION Status Code.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_93"><a class="anchor" href="#_notestesting_considerations_93"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Steps 3,4,5 and 6 can be optional if they cannot be tested.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_7_1_multi_fabric_subscription_test_cases_dut_as_server"><a class="anchor" href="#_tc_idm_7_1_multi_fabric_subscription_test_cases_dut_as_server"></a>32.6.5. [TC-IDM-7.1] Multi Fabric Subscription Test Cases. [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_127"><a class="anchor" href="#_category_127"></a>Category</h5>
<div class="paragraph">
<p>Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_128"><a class="anchor" href="#_purpose_128"></a>Purpose</h5>
<div class="paragraph">
<p>This test case will verify the report data messages for subscriptions requested from devices on different fabrics are handled correctly by the DUT.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_127"><a class="anchor" href="#_pics_127"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_127"><a class="anchor" href="#_required_devices_127"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 1 as the commissioner and subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD1A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 1A as the subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 2 as the commissioner and subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 3 as the commissioner and subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 4 as the commissioner and subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Device 5 as the commissioner and subscriber</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as the target of the subscription.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_80"><a class="anchor" href="#_device_topology_80"></a>Device Topology</h5>
<div class="paragraph">
<p>RD1, RD2, RD3, RD4, RD5 should be on separate, distinct fabrics. RD1 and RD1A should be on the same fabric.<br>
DUT should be commissioned onto all fabrics.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_127"><a class="anchor" href="#_test_procedure_127"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1/12.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD1, RD2, RD3, RD4, RD5 send 3 Subscribe Request Messages to DUT.(Total - 15 active subscriptions)<br>
Each subscribe request should contain 3 different paths.<br>
They can subscribe to different attributes and events.<br>
Once all subscriptions are active, change the value of all the attributes that have been subscribed or trigger an action on the DUT to generate an event.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that all Subscription Requests succeed.<br>
Verify on each of these Reference Devices that the appropriate attribute value has been received.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1/12.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factory Reset the DUT and  recommission it onto all fabrics.<br>
RD1, RD2, RD3, RD4, RD5 should be on separate, distinct fabrics.<br>
RD1 and RD1A should be on the same fabric.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should be successfully commissioned.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1/12.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD1, RD2, RD3, RD4, RD5 send 3 Subscribe Request Messages to DUT.(Total - 15 active subscriptions)<br>
Each subscribe requests should contain 3 different paths.<br>
The subscription request from RD1 should contain 4 paths. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the subscriptions from RD2, RD3, RD4 and RD5 are not affected.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1/12.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factory Reset the DUT and  recommission it onto all fabrics.<br>
RD1, RD2, RD3, RD4, RD5 should be on separate, distinct fabrics.<br>
RD1 and RD1A should be on the same fabric.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should be successfully commissioned.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1/12.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD2, RD3, RD4, RD5 send 3 Subscribe request messages each with each of them having 3 different paths.<br>
Verify that the subscription request messages from all reference devices succeed.<br>
Once all the Subscription Requests are activated, RD1 sends 6 subscription request messages with each of them having 3 different paths.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Subscriptions from RD2, RD3, RD4, RD5 are not affected.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1/12.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Factory Reset the DUT and  recommission it onto all fabrics.<br>
RD1, RD2, RD3, RD4, RD5 should be on separate, distinct fabrics.<br>
RD1 and RD1A should be on the same fabric.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should be successfully commissioned.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.2.1/12.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RD1, RD2, RD3, RD4, RD5 send 3 Subscribe request messages each with each of them having 3 different paths.<br>
Verify that the subscription request messages from RD1, RD2, RD3, RD4 and RD5 succeed.<br>
Once all the Subscription Requests are activated, send a Subscribe request messages having 3 different paths from RD1A to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Subscription from RD1A gets INVALID_ACTION and the previous subscriptions from RD2, RD3, RD4 and RD5 are not affected.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_94"><a class="anchor" href="#_notestesting_considerations_94"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Test Step #4 cannot be executed with V1.0 SDK.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_8_1_fabric_scoped_test_cases_dut_as_server"><a class="anchor" href="#_tc_idm_8_1_fabric_scoped_test_cases_dut_as_server"></a>32.6.6. [TC-IDM-8.1] Fabric scoped Test Cases. [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_128"><a class="anchor" href="#_category_128"></a>Category</h5>
<div class="paragraph">
<p>Protocol</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_129"><a class="anchor" href="#_purpose_129"></a>Purpose</h5>
<div class="paragraph">
<p>This test case will test if the DUT handles fabric scoped/sensitive data appropriately when it&#8217;s part of multiple fabrics.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_128"><a class="anchor" href="#_pics_128"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_128"><a class="anchor" href="#_required_devices_128"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RC1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Client 1 as client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RC2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reference Client 2 as client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server as the DUT [DUT as Server]</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_81"><a class="anchor" href="#_device_topology_81"></a>Device Topology</h5>
<div class="paragraph">
<p>RC1 and RC2 should be on separate, distinct fabrics. DUT should be commissioned onto both fabrics.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_128"><a class="anchor" href="#_test_procedure_128"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.2.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send a Read Request Message from RC1 and RC2 to read the ACL attribute, which is a fabric scoped list, from the DUT. Fabric filtered should be set to false. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the number of entries returned by the DUT for both the reads are same.<br>
Verify that the response to RC1 does not contain fabric sensitive data belonging to the other fabric. The fabric sensitive fields in the entries belonging to the other fabric should either be null or contain default values.<br>
Verify that the response to RC2 does not contain fabric sensitive data belonging to the other fabric. The fabric sensitive fields in the entries belonging to the other fabric should either be null or contain default values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use Access control  cluster to verify this test case.<br>
Send a fabric-filtered Read Request Message from each of RC1 and RC2 to read the ACL attribute, which is a fabric scoped list, from the DUT.<br>
From RC1 send a Write Request message to the DUT to write to an entry in the fabric scoped list associated with its own fabric.<br>
Send a fabric-filtered Read Request Message from each of RC1 and RC2 to read the fabric scoped list from the DUT. +</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the data received from DUT after the second read request from RC2 is same as the data received after the first read request from RC2.<br>
Verify that the data received from the DUT after the second read request from RC1 has the correct modifications to the data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.8.2.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send a Read Request Message to the DUT from RC1 and RC2 to read the fabric scoped list "Fabrics" from OperationalCredentialsCluster. Fabric filtered should be set to false.<br>
RC1 sends an Invoke command(UpdateFabricLabel) to update the label of its fabric.<br>
Send a non-filtered Read Request Message from RC1 and RC2 to read the fabric scoped list from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the label only for the fabric on which RC1 and DUT are present is updated.<br>
Verify that the label for the other fabric RC2 is on is not modified.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between RC1 and DUT for an attribute1 whose value is a list of structs which contain some fabric-sensitive data<br>
Activate the subscription between RC2 and DUT for the same attribute1 whose value is a list of structs which contain some fabric-sensitive data.<br>
Modify attribute1 on the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a response to RC1 and RC2 with the modified attribute values.<br>
Verify that the response to RC1 does not contain fabric sensitive data belonging to the other fabric. The fabric sensitive fields in the entries belonging to the other fabric should either be null or contain default values.<br>
Verify that the response to RC2 does not contain fabric sensitive data belonging to the other fabric. The fabric sensitive fields in the entries belonging to the other fabric should either be null or contain default values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate the subscription between RC1 and DUT for an Event1 which is fabric sensitive<br>
Activate the subscription between RC2 and DUT for the same Event1 which is fabric sensitive.<br>
Trigger Event1 on DUT on the fabric where RC1 is present.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a response to RC1 and not RC2.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RC1 sends Subscribe Request Message to DUT with EventRequests set to path where an event in the path is fabric-sensitive and the associated fabric does not match the accessing fabric.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a Report Data Message with no entry for that event in EventReports list.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RC1 sends Read Request Message to DUT with EventRequests set to path where an event in the path is fabric-sensitive and the associated fabric does not match the accessing fabric.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a Report Data Message with no entry for that event in EventReports list.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_95"><a class="anchor" href="#_notestesting_considerations_95"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Test Step #6 and #7 cannot be executed with V1.0 SDK.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_9_1_constraint_error_status_response_test_cases_dut_as_server_removed"><a class="anchor" href="#_tc_idm_9_1_constraint_error_status_response_test_cases_dut_as_server_removed"></a>32.6.7. [TC-IDM-9.1] CONSTRAINT_ERROR status response test cases [DUT as Server] - REMOVED</h4>
<div class="sect4">
<h5 id="_category_129"><a class="anchor" href="#_category_129"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_130"><a class="anchor" href="#_purpose_130"></a>Purpose</h5>
<div class="paragraph">
<p>This test case will verify that the server sends a status response with CONSTRAINT_ERROR when a particular field is out of range.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_129"><a class="anchor" href="#_pics_129"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_129"><a class="anchor" href="#_required_devices_129"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_82"><a class="anchor" href="#_device_topology_82"></a>Device Topology</h5>
<div class="paragraph">
<p>DUT and TH are on the same fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_129"><a class="anchor" href="#_test_procedure_129"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the data field of a command of data type uint16 to an out of range value in the Invoke Request message to the DUT from the TH. Example: Command - OpenCommissioningWindow, data field - Discriminator, Constraint - 0 to 4095</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends a Status Response with a CONSTRAINT_ERROR Status Code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the data field of a command of data type octstr to an out of range value in the Invoke Request message to the DUT from the TH. Set the length of the octstr to a value that is larger than the maximum length allowed. Example: Command - OpenCommissioningWindow, data field - Salt, Constraint - 16 to 32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends a Status Response with a CONSTRAINT_ERROR Status Code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the data field of a command of data type octstr to an out of range value in the Invoke Request message to the DUT from the TH. Set the length of the octstr to a value that is smaller than the minimum length allowed.  Example: Command - OpenCommissioningWindow, data field - Salt, Constraint - 16 to 32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends a Status Response with a CONSTRAINT_ERROR Status Code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the data field of a command of data type string to an out of range value in the Invoke Request message to the DUT from the TH. Set the length of the string to a value that is larger than the maximum length allowed. Example: Command - SetRegulatoryConfig, data field - CountryCode, Constraint - 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends a Status Response with a CONSTRAINT_ERROR Status Code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set the data field of a command of data type string to an out of range value in the Invoke Request message to the DUT from the TH. Set the length of the string to a value that is smaller than the minimum length allowed. Example: Command - SetRegulatoryConfig, data field - CountryCode, Constraint - 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends a Status Response with a CONSTRAINT_ERROR Status Code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.7.3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.IDM.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read every attribute that is writable with bounds from all the clusters from all the endpoints. For every writable attribute read, set the data field  to an out of bounds value in the Write Request message to the DUT from the TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify on the TH that the DUT sends a Status Response Action with a CONSTRAINT_ERROR Status Code.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_96"><a class="anchor" href="#_notestesting_considerations_96"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>This TC is removed for Matter 1.2 release. This test case will be modified for 1.3<br>
Step 2 needs to be automated to be run. Please use this as an example attribute till the automated test is ready.<br>
Cluster: Basic Information, Attribute name - NodeLabel, type - String, Constraint max 32</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_10_1_cluster_requirements_cluster_id_and_global_attribute_conformance_checks_dut_as_server"><a class="anchor" href="#_tc_idm_10_1_cluster_requirements_cluster_id_and_global_attribute_conformance_checks_dut_as_server"></a>32.6.8. [TC-IDM-10.1] Cluster requirements - Cluster ID and Global attribute conformance checks [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_130"><a class="anchor" href="#_category_130"></a>Category</h5>

</div>
<div class="sect4">
<h5 id="_purpose_131"><a class="anchor" href="#_purpose_131"></a>Purpose</h5>
<div class="paragraph">
<p>Tests global attribute presence and AttributeList correctness for every cluster on every endpoint</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_130"><a class="anchor" href="#_pics_130"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_130"><a class="anchor" href="#_required_devices_130"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_83"><a class="anchor" href="#_device_topology_83"></a>Device Topology</h5>
<div class="paragraph">
<p>TH can connect to DUT over PASE or CASE.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_130"><a class="anchor" href="#_test_procedure_130"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH performs a wildcard read of all attributes and endpoints</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For every cluster on every endpoint verify that the cluster includes all the mandatory global attributes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ClusterRevision</p>
</li>
<li>
<p>FeatureMap</p>
</li>
<li>
<p>AttributeList</p>
</li>
<li>
<p>AcceptedCommandList</p>
</li>
<li>
<p>GeneratedCommandList</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For every cluster on every endpoint verify that the following global attributes do not contain duplicate values and every value in the list is in the required range:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>AttributeList</p>
</li>
<li>
<p>AcceptedCommandList</p>
</li>
<li>
<p>GeneratedCommandList</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every cluster on every endpoint, verify that each attribute reported in the AttributeList exactly matches the set of received attributes from the wildcard read. In other words, if an attribute ID is present in the AttributeList, a report for that path must have been seen in the read of step 1, and if an attribute path exists in the read of step 1, its ID must be present in the AttributeList of the associated cluster within the hierarchy.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For every standard cluster on every endpoint, verify that none of the global attributes contain any additional values in their standard or scoped ranges that are not defined in the cluster specification. The global attributes to be checked and their standard and scoped ranges for the are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>AttributeList: (0x0000_0000 - 0x0000_4FFF) and (0x0000_F000 - 0x0000_FFFE)</p>
</li>
<li>
<p>AcceptedCommandList: 0x0000_0000 - 0x0000_00FF</p>
</li>
<li>
<p>GeneratedCommandList: 0x0000_0000 - 0x0000_00FF</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For every cluster on every endpoint, verify that none of the global attributes contain values with prefixes outside the allowed standard or test_vendor MEI prefix range. The disallowed range of values for all global attributes is 0xFFF5_0000 - 0xFFFF_FFFF. The set of global attributes to be checked is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>AttributeList</p>
</li>
<li>
<p>AcceptedCommandList</p>
</li>
<li>
<p>GeneratedCommandList</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For every cluster on every endpoint, verify that none of the global attributes contain MEI values outside of the allowed suffix range. The values to be checked and the allowed range of values is as follows:<br>
* AttributeList: (0xXXXX_0000 -  0xXXXX_4FFF) and (0xXXXX_F000 - 0xXXXX_FFFE)<br>
* AcceptedCommandList: 0xXXXX_0000 - 0xXXXX_00FF<br>
* GeneratedCommandList: 0xXXXX_0000 - 0xXXXX_00FF</p>
</div>
<div class="paragraph">
<p>where XXXX denotes any prefix value. The prefix of each item should be masked before performing suffix range checks.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For every cluster on every endpoint, verify that the cluster ID prefix is in the standard or MEI range.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For every cluster on every endpoint, verify that if the cluster ID is in the standard prefix range, that the ID is a known cluster ID.</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For every cluster on every endpoint, verify that if the cluster ID is in the MEI prefix range, that the suffix is in the manufacturer suffix range (0xFC00 - 0xFFFE)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For every standard cluster on every endpoint, verify that the FeatureMap contains only known feature flags for that cluster.</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_10_2_cluster_requirements_conformance_dut_as_server"><a class="anchor" href="#_tc_idm_10_2_cluster_requirements_conformance_dut_as_server"></a>32.6.9. [TC-IDM-10.2] Cluster requirements - Conformance [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_131"><a class="anchor" href="#_category_131"></a>Category</h5>
<div class="paragraph">
<p>Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_132"><a class="anchor" href="#_purpose_132"></a>Purpose</h5>
<div class="paragraph">
<p>Tests cluster conformance for features, attributes and commands across all endpoints.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_131"><a class="anchor" href="#_pics_131"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_131"><a class="anchor" href="#_required_devices_131"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_84"><a class="anchor" href="#_device_topology_84"></a>Device Topology</h5>
<div class="paragraph">
<p>TH can connect to DUT over PASE or CASE.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_131"><a class="anchor" href="#_test_procedure_131"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH performs a wildcard read of all attributes (including global attributes) from all endpoints</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, verify that all features listed in the feature map are known features from the specification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No non-spec features are present on the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="ref_idm10_2_feature"></a> 2b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, assess the conformance of each feature listed in the specification using the generated Data Model XML.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2c</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, for each feature listed in the FeatureMap, ensure that the feature is allowed per the conformance as assessed in step <a href="#ref_idm10_2_feature">2b</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No disallowed features are present in the feature map</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2d</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, for each feature present in the spec, if the feature is required per the conformance in step <a href="#ref_idm10_2_feature">2b</a>, ensure it is present</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No required features missing from the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, verify that all attributes in the standard range are known attributes from the specification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No non-spec standard attributes are present on the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="ref_idm10_2_attribute"></a> 3b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, assess the conformance of each attribute listed in the specification using the generated Data Model XML.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3c</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, for each attribute listed in the AttributeList, ensure that the attribute is allowed per the conformance as assessed in step <a href="#ref_idm10_2_attribute">3b</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No disallowed attributes are present in the AttributeList</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3d</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, for each attribute present in the spec, if the attribute is required per the conformance in step <a href="#ref_idm10_2_attribute">3b</a>, ensure it is present</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No required attributes missing from the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, verify that all commands listed in the AcceptedCommands list in the standard range are known commands from the specification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No non-spec standard commands are present in the AcceptedCommands list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="ref_idm10_2_accepted"></a> 4b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, assess the conformance of each client &#8658; server command listed in the specification using the generated Data Model XML.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4c</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, for each command listed in the AcceptedCommands list, ensure that the command is allowed per the conformance as assessed in step <a href="#ref_idm10_2_accepted">4b</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No disallowed commands are present in the AcceptedCommands</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4d</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, for each client &#8658; server command in the spec, if the command is required per the conformance in step <a href="#ref_idm10_2_accepted">4b</a>, ensure it is present</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No required AcceptedCommands are missing from the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, verify that all commands listed in the GeneratedCommands list in the standard range are known commands from the specification</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No non-spec standard commands are present in the GeneratedCommands list</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="ref_idm10_2_generated"></a> 5b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, assess the conformance of each server &#8658; client command listed in the specification using the generated Data Model XML.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5c</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, for each command listed in the GeneratedCommands list, ensure that the command is allowed per the conformance as assessed in step <a href="#ref_idm10_2_generated">5b</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No disallowed commands are present in the GeneratedCommands</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5d</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, for each server &#8658; client command in the spec, if the command is required per the conformance in step <a href="#ref_idm10_2_generated">5b</a>, ensure it is present</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No required GeneratedCommands are missing from the DUT</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_10_3_cluster_requirements_revision_dut_as_server"><a class="anchor" href="#_tc_idm_10_3_cluster_requirements_revision_dut_as_server"></a>32.6.10. [TC-IDM-10.3] Cluster requirements - Revision [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_132"><a class="anchor" href="#_category_132"></a>Category</h5>
<div class="paragraph">
<p>Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_133"><a class="anchor" href="#_purpose_133"></a>Purpose</h5>
<div class="paragraph">
<p>Tests the cluster revisions on the DUT are the most recent per the spec.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_132"><a class="anchor" href="#_pics_132"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_132"><a class="anchor" href="#_required_devices_132"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_85"><a class="anchor" href="#_device_topology_85"></a>Device Topology</h5>
<div class="paragraph">
<p>TH can connect to DUT over PASE or CASE.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_132"><a class="anchor" href="#_test_procedure_132"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH performs a wildcard read of all attributes and endpoints</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every server cluster on every endpoint, ensure that the ClusterRevision is the highest cluster revision listed in the spec</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No clusters have ClusterRevisions that do not match the specification</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_10_4_cluster_requirements_pics_dut_as_server"><a class="anchor" href="#_tc_idm_10_4_cluster_requirements_pics_dut_as_server"></a>32.6.11. [TC-IDM-10.4] Cluster requirements - PICS [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_133"><a class="anchor" href="#_category_133"></a>Category</h5>
<div class="paragraph">
<p>Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_134"><a class="anchor" href="#_purpose_134"></a>Purpose</h5>
<div class="paragraph">
<p>Tests the PICS for clusters, features, attributes, and commands on the DUT match exactly the PICS.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_133"><a class="anchor" href="#_pics_133"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_133"><a class="anchor" href="#_required_devices_133"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_86"><a class="anchor" href="#_device_topology_86"></a>Device Topology</h5>
<div class="paragraph">
<p>TH can connect to DUT over PASE or CASE.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This test should be run for each endpoint on the device, using the appropriate PICS file.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_133"><a class="anchor" href="#_test_procedure_133"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH performs a wildcard read of all attributes on the endpoint under test</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every standard cluster:<br>
                If the cluster is present on the endpoint, ensure the server-side PICS code for the cluster is present in the PICS file (e.g. <code>OO.S</code> for On/Off cluster).<br>
                If the cluster is not present on the endpoint, ensure the cluster server PICS code is not present in the PICS file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PICS exactly match for server clusters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every standard cluster, for every attribute in the cluster:<br>
                If the cluster is present on the endpoint and the attribute ID is present in the <code>AttributeList</code> global attribute within the cluster, ensure the server-side PICS code for the attribute is present in the PICS file (e.g. OO.S.A000 for On/Off cluster&#8217;s <code>OnOff</code> attribute).<br>
                Otherwise, ensure the attribute PICS code is NOT present in the PICS file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PICS exactly match for all attributes in all clusters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every cluster present in the spec, for every client &#8594; server command in the cluster:<br>
                If the cluster is present on the endpoint and the command id is present in the accepted commands list, ensure the PICS code for the accepted command is present in the PICS file.<br>
                Otherwise, ensure the accepted command PICS code is not present in the PICS file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PICS exactly match for all accepted commands in all clusters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every cluster present in the spec, for every server &#8594; client command in the cluster:<br>
                If the cluster is present on the endpoint and the command id is present in the generated commands list, ensure the PICS code for the generated command is present in the PICS file.<br>
                Otherwise, ensure the generated command PICS code is not present in the PICS file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PICS exactly match for all generated commands in all clusters.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every cluster present in the spec, for every feature in the cluster:<br>
                If the cluster is present on the endpoint and the feature is marked in the feature map, ensure the PICS code for the feature is present in the PICS file.<br>
                Otherwise, ensure the feature PICS code is not present in the PICS file.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PICS exactly match for all features in all clusters.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_idm_11_1_data_types_attribute_strings_dut_as_server_data_model"><a class="anchor" href="#_tc_idm_11_1_data_types_attribute_strings_dut_as_server_data_model"></a>32.6.12. [TC-IDM-11.1] Data types - attribute strings [DUT as Server] - data model</h4>
<div class="sect4">
<h5 id="_category_134"><a class="anchor" href="#_category_134"></a>Category</h5>

</div>
<div class="sect4">
<h5 id="_purpose_135"><a class="anchor" href="#_purpose_135"></a>Purpose</h5>
<div class="paragraph">
<p>Tests that no string attributes on the node contain invalid characters.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_134"><a class="anchor" href="#_pics_134"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_134"><a class="anchor" href="#_required_devices_134"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_87"><a class="anchor" href="#_device_topology_87"></a>Device Topology</h5>
<div class="paragraph">
<p>TH can connect to DUT over PASE or CASE.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_134"><a class="anchor" href="#_test_procedure_134"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH performs a wildcard read of all attributes and endpoints</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For every returned attribute, if the attribute type is string and the returned value is not Null or empty, ensure the returned value is a valid UTF-8-encoded string. It is not permitted to have partially encoded codepoints between the last legally-encoded codepoint and the end of the string.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All string-type attributes are valid UTF-8.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<h1 id="_administrator_commissioning_cluster_test_plan" class="sect0"><a class="anchor" href="#_administrator_commissioning_cluster_test_plan"></a><strong>Administrator Commissioning Cluster Test Plan</strong></h1>
<div class="sect1">
<h2 id="_pics_definition_10"><a class="anchor" href="#_pics_definition_10"></a>33. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Multiple Fabrics Test Plan related PICS items that are referenced in the following test cases.</p>
</div>
<div class="sect2">
<h3 id="_role_6"><a class="anchor" href="#_role_6"></a>33.1. Role</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device implement the Multi Fabric cluster as a server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device implement the Multi Fabric cluster as a client?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_server_6"><a class="anchor" href="#_server_6"></a>33.2. Server</h3>
<div class="sect3">
<h4 id="_features_4"><a class="anchor" href="#_features_4"></a>33.2.1. Features</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.F00(BC)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support Basic Commissioning Method</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_commands_received_6"><a class="anchor" href="#_commands_received_6"></a>33.2.2. Commands received</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support Enhanced Commissioning Method (ECM)?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support Basic Commissioning Method (BCM)?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.F00(BC)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C02.Rsp(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support revoking commissioning window?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C0a.Rsp(RemoveFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device implement receiving the RemoveFabric command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_attributes_7"><a class="anchor" href="#_attributes_7"></a>33.2.3. Attributes</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support Fabrics attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support NodeLabel attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support WindowStatus attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0001(AdminFabricIndex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support AdminFabricIndex attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0002(AdminVendorId)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support AdminVendorId attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_client_4"><a class="anchor" href="#_client_4"></a>33.3. Client</h3>
<div class="sect3">
<h4 id="_manual_controllable"><a class="anchor" href="#_manual_controllable"></a>33.3.1. Manual controllable</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.M.UserInterfaceDisplay</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support User Interface Display</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.M.AudioInterface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support Audio Interface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_commands_generated_7"><a class="anchor" href="#_commands_generated_7"></a>33.3.2. Commands generated</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support through Enhanced Commissioning Method (ECM) ?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support Basic Commissioning Method (BCM) ?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C02.Tx(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support revoking commissioning window?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C0a.Tx(RemoveFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Device support RemoveFabric command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_attributes_8"><a class="anchor" href="#_attributes_8"></a>33.3.3. Attributes</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) have access privileges for the Fabrics attribute implemented on the server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) have access privileges for the NodeLabel attribute implemented on the server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) have access privileges for the WindowStatus attribute implemented on the server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.A0001(AdminFabricIndex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) have access privileges for the AdminFabricIndex attribute implemented on the server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.A0002(AdminVendorId)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT(client) have access privileges for the AdminVendorId attribute implemented on the server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pixit_definition_4"><a class="anchor" href="#_pixit_definition_4"></a>34. PIXIT Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Multiple Fabrics Test Plan related PIXIT items that are referenced in the following test cases.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.CADMIN.CwDuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT of Duration (in seconds) for a commissioning window which is greater than 179 seconds and less than 901 seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_case_list_9"><a class="anchor" href="#_test_case_list_9"></a>35. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>TC UUID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case Name</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administrator Behavior using ECM [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administrator Behavior using BCM [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Behavior using ECM [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Node Behavior using BCM [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning window handling timeout and revocation using ECM [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning window handling timeout and revocation using BCM [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning window handling timeout and revocation using ECM [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning window handling timeout and revocation using BCM [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device exit commissioning mode after 20 failed commission attempts [ECM] [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device exit commissioning mode after 20 failed commission attempts [BCM] [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open commissioning window on DUT using ECM then BCM [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open commissioning window on DUT using ECM then BCM [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Opening of commissioning window twice on DUT using BCM then ECM [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Opening of commissioning window twice on DUT using BCM then ECM [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removing Fabrics from DUT and Fabric index enumeration using ECM [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removing Fabrics from DUT and Fabric index enumeration using BCM [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removing Fabrics from DUT and Fabric index enumeration using ECM [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Removing Fabrics from DUT and Fabric index enumeration using BCM [DUT - Commissioner]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">max number of CommissionedFabrics and SupportedFabrics rollover using ECM [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">max number of CommissionedFabrics and SupportedFabrics rollover using BCM [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open commissioning window - durations max and max+ 1 [BCM] [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open commissioning window - durations max and max+ 1 [ECM] [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open commissioning window - durations min and min-1 [BCM] [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open commissioning window - durations min and min-1 [ECM] [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscription to the attributes - verify subscription response [ECM] [DUT - Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-CADMIN-1.26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscription to the attributes - verify subscription response [BCM] [DUT - Commissionee]</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases_9"><a class="anchor" href="#_test_cases_9"></a>36. Test Cases</h2>
<div class="sectionbody">
<hr>
<div class="sect2">
<h3 id="_multiple_fabrics_test_cases"><a class="anchor" href="#_multiple_fabrics_test_cases"></a>36.1. Multiple Fabrics Test Cases</h3>
<hr>
<div class="sect3">
<h4 id="_tc_cadmin_1_1_administrator_behavior_using_ecm_dut_commissioner"><a class="anchor" href="#_tc_cadmin_1_1_administrator_behavior_using_ecm_dut_commissioner"></a>36.1.1. [TC-CADMIN-1.1] Administrator Behavior using ECM [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_135"><a class="anchor" href="#_category_135"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_136"><a class="anchor" href="#_purpose_136"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies Administrators involved in a Multiple Fabrics scenario are behaving properly by fulfilling:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The current Node Administrator SHALL allow another Administrator to be commissioned with that Node.</p>
</li>
<li>
<p>The new Commissioner MUST have their own Node Operational Certificate (NOC) issuing Root Certificate Authority (RCA).</p>
</li>
<li>
<p>Once commissioning is completed, the new Administrator has access to the Node and can perform all administrative tasks.</p>
</li>
<li>
<p>An Administrator SHALL support pairing with a device using the mandatory method described in Section 5.6.3, “Enhanced Commissioning Method (ECM)”.</p>
</li>
<li>
<p>Verification when the Commissioning Timeout parameter of the OCW command is in the correct range (&gt;=3m and ⇐15m).</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_135"><a class="anchor" href="#_pics_135"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.C</p>
</li>
<li>
<p>CADMIN.C.C00.Tx(OpenCommissioningWindow)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_135"><a class="anchor" href="#_required_devices_135"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_60"><a class="anchor" href="#_preconditions_60"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_88"><a class="anchor" href="#_device_topology_88"></a>Device Topology</h5>
<div class="paragraph">
<p>An existing Fabric should exist, with a Commissioner (TH_CR2) that will create a new, non-conflicting fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_135"><a class="anchor" href="#_test_procedure_135"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by TH_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM (Enhanced Commissioning Method).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 sends command to TH_CE to read the list of Fabrics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE reports 1 entry in the Fabrics list attribute, and that this entry matches the first commissioning&#8217;s information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.M.UserInterfaceDisplay</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Introduce dashes and spaces into the 11 digit Manual Code provided in step 2 and enter it in the userinterfacedisplay of DUT_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that Manual Code entered in DUT_CR2 contains dashes and spaces</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by DUT_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE is now discoverable over DNS-SD with two SRV Records</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to write and read the Basic Information Cluster&#8217;s NodeLabel mandatory attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE successfully receives the read and write commands</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to read the list of Fabrics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE reports 2 entries in the Fabrics list attribute, and that these entries match the commissioning state to date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 sends command to TH_CE to write and read the Basic Information Cluster&#8217;s NodeLabel mandatory attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE successfully receives the read and write commands</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to read, write and then read the Basic Information Cluster&#8217;s NodeLabel mandatory attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE successfully receives the read and write commands. Verify the initial read reflect the value written in the above step. Verify the subsequent write/read are successful.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Turn off TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify no interactions are received by TH_CE from TH_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to open a commissioning window using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM (Enhanced Commissioning Method)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE opens its Commissioning window to allow a new commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C02.Tx(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to revoke the commissioning window using the <code>Revoke Commissioning</code> command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE closes its commissioning window</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3 attempts to execute a PASE to starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that either no <code>_matterc._udp</code> commissionable records exist matching the previously obtained discriminator, or that TH_CE refuses to allow a PASE with the provided passcode from the onboarding payload.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to write and read the Basic Information Cluster&#8217;s NodeLabel mandatory attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE successfully receives the read and write commands</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to open a commissioning window using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow a new commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for commissioning window that was opened in step 13 to timeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning window opened in the above step should get closed (Timedout)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to open a commissioning window using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow a new commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with TH_CE before the timeout from step 15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE shows OperationalCert error code 9 response "Trying to add a NOC for a fabric that already exists" as TH_CR1 already commissioned TH_CE in step 1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_97"><a class="anchor" href="#_notestesting_considerations_97"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_2_administrator_behavior_using_bcm_dut_commissioner"><a class="anchor" href="#_tc_cadmin_1_2_administrator_behavior_using_bcm_dut_commissioner"></a>36.1.2. [TC-CADMIN-1.2] Administrator Behavior using BCM [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_136"><a class="anchor" href="#_category_136"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_137"><a class="anchor" href="#_purpose_137"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies Administrators involved in a Multiple Fabrics scenario are behaving properly by fulfilling:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The current Node Administrator SHALL allow another Administrator to be commissioned with that Node.</p>
</li>
<li>
<p>The new Commissioner MUST have their own Node Operational Certificate (NOC) issuing Root Certificate Authority (RCA).</p>
</li>
<li>
<p>Once commissioning is completed, the new Administrator has access to the Node and can perform all administrative tasks.</p>
</li>
<li>
<p>An Administrator MAY support pairing with a device using the optional method described in Section 5.6.2, “Basic Commissioning Method (BCM)”.</p>
</li>
<li>
<p>Verification when the Commissioning Timeout parameter of the OCW command is in the correct range (&gt;=3m and ⇐15m).</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_136"><a class="anchor" href="#_pics_136"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.C</p>
</li>
<li>
<p>CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_136"><a class="anchor" href="#_required_devices_136"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_61"><a class="anchor" href="#_preconditions_61"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_89"><a class="anchor" href="#_device_topology_89"></a>Device Topology</h5>
<div class="paragraph">
<p>An existing Fabric should exist, with a Commissioner (TH_CR2) that will create a new, non-conflicting fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_136"><a class="anchor" href="#_test_procedure_136"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by TH_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM (Basic Commissioning Method)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 sends command to TH_CE to read the list of Fabrics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE reports 1 entry in the Fabrics list attribute, and that this entry matches the first commissioning&#8217;s information.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by DUT_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE is now discoverable over DNS-SD with two SRV Records</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to write and read the Basic Information Cluster&#8217;s NodeLabel mandatory attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE successfully receives the read and write commands</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to read the list of Fabrics on TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE reports 2 entries in the Fabrics list attribute, and that these entries match the commissioning state to date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 sends command to TH_CE to write and read the Basic Information Cluster&#8217;s NodeLabel mandatory attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE successfully receives the read and write commands</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to read, write and then read the Basic Information Cluster&#8217;s NodeLabel mandatory attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE successfully receives all the read and write commands. Verify the initial read reflect the value written in the above step. Verify the subsequent write/read are successful.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Turn off TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify no interactions are received by TH_CE from TH_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM (Basic Commissioning Method)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow a new commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C02.Tx(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to revoke the commissioning window using the <code>Revoke Commissioning</code> command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE closes its commissioning window</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3 attempts to execute a PASE to starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that either no <code>_matterc._udp</code> commissionable records exist matching the previously obtained discriminator, or that TH_CE refuses to allow a PASE with the provided passcode from the onboarding payload.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to write and read the Basic Information Cluster&#8217;s NodeLabel mandatory attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE successfully receives the read and write commands</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to open a commissioning window using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow a new commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for commissioning window that was opened in step 13 to timeout</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioning window opened in the above step should get closed (Timedout)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR2 sends command to TH_CE to open a commissioning window using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow a new commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with TH_CE before the timeout from step 15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE shows OperationalCert error code 9 response "Trying to add a NOC for a fabric that already exists" as TH_CR1 already commissioned TH_CE in step 1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_98"><a class="anchor" href="#_notestesting_considerations_98"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_3_node_behavior_using_ecm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_3_node_behavior_using_ecm_dut_commissionee"></a>36.1.3. [TC-CADMIN-1.3] Node Behavior using ECM [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_137"><a class="anchor" href="#_category_137"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_138"><a class="anchor" href="#_purpose_138"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies Node behavior in a Multiple Fabrics scenario:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The Node SHALL host an "Administrator Commissioning Cluster" Section 11.18</p>
</li>
<li>
<p>The Cluster exposes a command which enables the entry into commissioning mode for a prescribed time, and which SHALL be invoked over a secure channel.</p>
</li>
<li>
<p>During this commissioning window, the Node SHALL maintain its existing configuration, such as its operational network connection and identities, and SHOULD allow normal interactions from other Nodes.</p>
</li>
<li>
<p>Verification when the Commissioning Timeout parameter of the OCW command is in the correct range (&gt;=3m and ⇐15m).</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_137"><a class="anchor" href="#_pics_137"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_137"><a class="anchor" href="#_required_devices_137"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_62"><a class="anchor" href="#_preconditions_62"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_90"><a class="anchor" href="#_device_topology_90"></a>Device Topology</h5>
<div class="paragraph">
<p>An existing Fabric should exist, with a Commissioner (TH_CR1) that will create a new, non-conflicting fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_137"><a class="anchor" href="#_test_procedure_137"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1 on Fabric ID1 and is assigned a node ID1, under TH_CR1&#8217;s root of trust.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS-SD records shows DUT_CE advertising</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DNS-SD advertisement shows CM=2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 writes and reads the Basic Information Cluster&#8217;s NodeLabel mandatory attribute of DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE responds to both write/read with a success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR2 on Fabric ID2 and is assigned a node ID2, under TH_CR2&#8217;s root of trust.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE is now discoverable over DNS-SD with two SRV Records</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the list of Fabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the read is successful to DUT_CE and verify DUT_CE reports 2 entries in the <code>Fabrics</code> attribute, matching both NOCs commissioned previously in terms of root of trust, Fabric ID and Node ID: &lt;TH_CR1&#8217;s root, Fabric ID1, Node ID1&gt; and &lt;TH_CR2&#8217;s root, Fabric ID2, Node ID2&gt;.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 reads the list of Fabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the read is successful to DUT_CE and verify DUT_CE reports 2 entries in the <code>Fabrics</code> attribute, matching both NOCs commissioned previously in terms of root of trust, Fabric ID and Node ID: &lt;TH_CR1&#8217;s root, Fabric ID1, Node ID1&gt; and &lt;TH_CR2&#8217;s root, Fabric ID2, Node ID2&gt;.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 writes and reads the Basic Information Cluster&#8217;s NodeLabel mandatory attribute of DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE responds to both write/read with a success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 reads, writes and then reads the Basic Information Cluster&#8217;s NodeLabel mandatory attribute of DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the initial read reflect the value written in the above step. Verify DUT_CE responds to both write/read with a success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 opens a commissioning window on DUT_CE using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a new commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the commissioning window in step 9 to timeout</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 reads the window status to verify the DUT_CE window is closed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE windows status shows the window is closed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 opens a commissioning window on DUT_CE using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a new commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE before the timeout from step 12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Since DUT_CE was already commissioned by TH_CR1 in step 1, AddNOC fails with NOCResponse with StatusCode field set to FabricConflict (9)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_99"><a class="anchor" href="#_notestesting_considerations_99"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_4_node_behavior_using_bcm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_4_node_behavior_using_bcm_dut_commissionee"></a>36.1.4. [TC-CADMIN-1.4] Node Behavior using BCM [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_138"><a class="anchor" href="#_category_138"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_139"><a class="anchor" href="#_purpose_139"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies Node behavior in a Multiple Fabrics scenario:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The Node SHALL host a Section 11.22, “Administrator Commissioning Cluster”.</p>
</li>
<li>
<p>The Cluster exposes a command which enables the entry into commissioning mode for a prescribed time, and which SHALL be invoked over a secure channel.</p>
</li>
<li>
<p>During this commissioning window, the Node SHALL maintain its existing configuration, such as its operational network connection and identities, and SHOULD allow normal interactions from other Nodes.</p>
</li>
<li>
<p>Verification when the Commissioning Timeout parameter of the OCW command is in the correct range (&gt;=3m and ⇐15m).</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_138"><a class="anchor" href="#_pics_138"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
<li>
<p>CADMIN.S.F00(BC)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_138"><a class="anchor" href="#_required_devices_138"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_63"><a class="anchor" href="#_preconditions_63"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_91"><a class="anchor" href="#_device_topology_91"></a>Device Topology</h5>
<div class="paragraph">
<p>An existing Fabric should exist, with a Commissioner (TH_CR1) that will create a new, non-conflicting fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_138"><a class="anchor" href="#_test_procedure_138"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS-SD records shows DUT_CE advertising</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DNS-SD advertisement shows CM=1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 writes and reads the Basic Information Cluster&#8217;s NodeLabel mandatory attribute of DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE responds to both write/read with a success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR2 on Fabric ID2 and is assigned a node ID2, under TH_CR2&#8217;s root of trust.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE is now discoverable over DNS-SD with two SRV Records</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the list of Fabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the read is successful to DUT_CE and verify DUT_CE reports 2 entries in the <code>Fabrics</code> attribute, matching both NOCs commissioned previously in terms of root of trust, Fabric ID and Node ID: &lt;TH_CR1&#8217;s root, Fabric ID1, Node ID1&gt; and &lt;TH_CR2&#8217;s root, Fabric ID2, Node ID2&gt;.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 reads the list of Fabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the read is successful to DUT_CE and verify DUT_CE reports 2 entries in the <code>Fabrics</code> attribute, matching both NOCs commissioned previously in terms of root of trust, Fabric ID and Node ID: &lt;TH_CR1&#8217;s root, Fabric ID1, Node ID1&gt; and &lt;TH_CR2&#8217;s root, Fabric ID2, Node ID2&gt;.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 writes and reads the Basic Information Cluster&#8217;s NodeLabel mandatory attribute of DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE responds to both write/read with a success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 reads, writes and then reads the Basic Information Cluster&#8217;s NodeLabel mandatory attribute of TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the initial read reflect the value written in the above step. Verify DUT_CE responds to both write/read with a success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 opens a commissioning window on DUT_CE using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a new commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the commissioning window in step 9 to timeout</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 reads the window status to verify the DUT_CE window is closed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE windows status shows the window is closed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 opens a commissioning window on DUT_CE using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a new commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE before the timeout from step 12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Since DUT_CE was already commissioned by TH_CR1 in step 1, AddNOC fails with NOCResponse with StatusCode field set to FabricConflict (9)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_100"><a class="anchor" href="#_notestesting_considerations_100"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_5_commissioning_window_handling_timeout_and_revocation_using_ecm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_5_commissioning_window_handling_timeout_and_revocation_using_ecm_dut_commissionee"></a>36.1.5. [TC-CADMIN-1.5] Commissioning window handling timeout and revocation using ECM [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_139"><a class="anchor" href="#_category_139"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_140"><a class="anchor" href="#_purpose_140"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the commissioning windows is open only during the expected time and can be revoked at any time.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_139"><a class="anchor" href="#_pics_139"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_139"><a class="anchor" href="#_required_devices_139"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE - Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_64"><a class="anchor" href="#_preconditions_64"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_92"><a class="anchor" href="#_device_topology_92"></a>Device Topology</h5>
<div class="paragraph">
<p>An existing Fabric should exist, with a Commissioner (TH_CR1) that will create a new, non-conflicting fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_139"><a class="anchor" href="#_test_procedure_139"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS-SD records shows DUT_CE advertising</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DNS-SD advertisement shows CM=2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with DUT_CE after PIXIT.CADMIN.CwDuration (that was given in step 2) + 10 seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE is NOT commissioned by TH_CR2 since the commissioning process started after the timeout</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a new commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C02.Rsp(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 revokes the commissioning window on DUT_CE using RevokeCommissioning command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE closes its Commissioning window</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE is NOT commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C02.Rsp(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 revokes the commissioning window on DUT_CE using RevokeCommissioning command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE does not crash and no actions are done on DUT_CE due to this command</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 writes and reads the Basic Information Cluster&#8217;s NodeLabel mandatory attribute of DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE responds to both write/read with a success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a new commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM but with wrong PakeVerifier value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE fails to open Commissioning window with status code 3 (PakeParameterError)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a new commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens another commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE fails to open Commissioning window with status code 2 (Busy)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C02.Rsp(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 tries to revoke the commissioning window on DUT_CE using RevokeCommissioning command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE fails to revoke giving status code 4 (WindowNotOpen) as there was no window open</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3 fails to establish PASE with DUT_CE since in step 10 after a successful commissioning the DUT_CE needs to end its commissioning window</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_101"><a class="anchor" href="#_notestesting_considerations_101"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_6_commissioning_window_handling_timeout_and_revocation_using_bcm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_6_commissioning_window_handling_timeout_and_revocation_using_bcm_dut_commissionee"></a>36.1.6. [TC-CADMIN-1.6] Commissioning window handling timeout and revocation using BCM [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_140"><a class="anchor" href="#_category_140"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_141"><a class="anchor" href="#_purpose_141"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the commissioning windows is open only during the expected time and can be revoked at any time.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_140"><a class="anchor" href="#_pics_140"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
<li>
<p>CADMIN.S.F00(BC)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_140"><a class="anchor" href="#_required_devices_140"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_65"><a class="anchor" href="#_preconditions_65"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_93"><a class="anchor" href="#_device_topology_93"></a>Device Topology</h5>
<div class="paragraph">
<p>An existing Fabric should exist, with a Commissioner (TH_CR1) that will create a new, non-conflicting fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_140"><a class="anchor" href="#_test_procedure_140"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS-SD records shows DUT_CE advertising</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DNS-SD advertisement shows CM=1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with DUT_CE after PIXIT.CADMIN.CwDuration (that was given in step 2) + 10 seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE is NOT commissioned by TH_CR2 since the commissioning process started after the timeout</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a new commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C02.Rsp(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 revokes the commissioning window on DUT_CE using RevokeCommissioning command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE closes its Commissioning window</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE is NOT commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C02.Rsp(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 revokes the commissioning window on DUT_CE using RevokeCommissioning command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE does not crash and no actions are done on DUT_CE due to this command</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 writes and reads the Basic Information Cluster&#8217;s NodeLabel mandatory attribute of DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE responds to both write/read with a success</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a new commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens another commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE fails to open commissioning window with status code 2 (Busy)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C02.Rsp(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 tries to revoke the commissioning window on DUT_CE using RevokeCommissioning command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE fails to revoke with status code 4 (WindowNotOpen) as there was not window open</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3 fails to establish PASE with DUT_CE since in step 10 after a successful commissioning the DUT_CE needs to end its commissioning window</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_102"><a class="anchor" href="#_notestesting_considerations_102"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_7_commissioning_window_handling_timeout_and_revocation_using_ecm_dut_commissioner"><a class="anchor" href="#_tc_cadmin_1_7_commissioning_window_handling_timeout_and_revocation_using_ecm_dut_commissioner"></a>36.1.7. [TC-CADMIN-1.7] Commissioning window handling timeout and revocation using ECM [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_141"><a class="anchor" href="#_category_141"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_142"><a class="anchor" href="#_purpose_142"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the commissioning windows is open only during the expected time and can be revoked at any time.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_141"><a class="anchor" href="#_pics_141"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.C</p>
</li>
<li>
<p>CADMIN.C.C00.Tx(OpenCommissioningWindow)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_141"><a class="anchor" href="#_required_devices_141"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_66"><a class="anchor" href="#_preconditions_66"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_94"><a class="anchor" href="#_device_topology_94"></a>Device Topology</h5>
<div class="paragraph">
<p>An existing Fabric should exist, with a Commissioner (TH_CR2) that will create a new, non-conflicting fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_141"><a class="anchor" href="#_test_procedure_141"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by DUT_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.M.UserInterfaceDisplay</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A User Consent screen pops up asking for User&#8217;s permission to allow second commissioner to control TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify if the User Consent screen pops up asking for permission. Verify the pop up window closes after User gives permission and proceeds with opening commissioning window.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.M.UserInterfaceDisplay</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11 digit Manual Code is displayed on the screen in textual format for User to see</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the displayed Manual Code is 11 digits long and doesn&#8217;t contain Vendor_ID or Product_ID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.M.AudioInterface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A voice prompt of the Manual Code format should be heard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that a voice prompt saying the Manual Code should be uttered in hearable sound. Verify that the user can ask to repeat the Manual Code and it should be repeated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with TH_CE after PIXIT.CADMIN.CwDuration (that was given in step 2) + 10 seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE is NOT commissioned by TH_CR2 since the commissioning process started after the timeout</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a new commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C02.Tx(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to revoke the commissioning window</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE closes its Commissioning window</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE is NOT commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C02.Tx(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to revoke the commissioning window</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify no actions are done on TH_CE due to this command</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends commands to TH_CE to write and read the Basic Information Cluster&#8217;s NodeLabel mandatory attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE successfully receives the read and write commands</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE fails the commissioning process with TH_CR3 since in step 10 after a successful commissioning the commissioning window has been closed</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_103"><a class="anchor" href="#_notestesting_considerations_103"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_8_commissioning_window_handling_timeout_and_revocation_using_bcm_dut_commissioner"><a class="anchor" href="#_tc_cadmin_1_8_commissioning_window_handling_timeout_and_revocation_using_bcm_dut_commissioner"></a>36.1.8. [TC-CADMIN-1.8] Commissioning window handling timeout and revocation using BCM [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_142"><a class="anchor" href="#_category_142"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_143"><a class="anchor" href="#_purpose_143"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the commissioning windows is open only during the expected time and can be revoked at any time.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_142"><a class="anchor" href="#_pics_142"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.C</p>
</li>
<li>
<p>CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_142"><a class="anchor" href="#_required_devices_142"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_67"><a class="anchor" href="#_preconditions_67"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_95"><a class="anchor" href="#_device_topology_95"></a>Device Topology</h5>
<div class="paragraph">
<p>An existing Fabric should exist, with a Commissioner (TH_CR2) that will create a new, non-conflicting fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_142"><a class="anchor" href="#_test_procedure_142"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by DUT_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.M.UserInterfaceDisplay</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A User Consent screen pops up asking for User&#8217;s permission to allow second commissioner to control TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify if the User Consent screen pops up asking for permission. Verify the pop up window closes after User gives permission and proceeds with opening commissioning window.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.M.UserInterfaceDisplay</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11 digit Manual Code is displayed on the screen in textual format for User to see</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the displayed Manual Code is 11 digits long and doesn&#8217;t contain Vendor_ID or Product_ID.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3.c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.M.AudioInterface</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A voice prompt of the Manual Code format should be heard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that a voice prompt saying the Manual Code should be uttered in hearable sound. Verify that the user can ask to repeat the Manual Code and it should be repeated.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with TH_CE after PIXIT.CADMIN.CwDuration (that was given in step 2) + 10 seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE is NOT commissioned by TH_CR2 since the commissioning process started after the timeout</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a new commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C02.Tx(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to revoke the commissioning window</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE closes its Commissioning window</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE is NOT commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C02.Tx(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to revoke the commissioning window</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify no actions are done on TH_CE due to this command</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends commands to TH_CE to write and read the Basic Information Cluster&#8217;s NodeLabel mandatory attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE successfully receives the read and write commands</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a new commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE fails the commissioning process with TH_CR3 since in step 10 after a successful commissioning the commissioning window has been closed</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_104"><a class="anchor" href="#_notestesting_considerations_104"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_9_device_exit_commissioning_mode_after_20_failed_commission_attempts_ecm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_9_device_exit_commissioning_mode_after_20_failed_commission_attempts_ecm_dut_commissionee"></a>36.1.9. [TC-CADMIN-1.9] Device exit commissioning mode after 20 failed commission attempts [ECM] [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_143"><a class="anchor" href="#_category_143"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_144"><a class="anchor" href="#_purpose_144"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the DUT exits its commissioning window after the 20 failed commissioning attempts.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_143"><a class="anchor" href="#_pics_143"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_143"><a class="anchor" href="#_required_devices_143"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_68"><a class="anchor" href="#_preconditions_68"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_96"><a class="anchor" href="#_device_topology_96"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CR1 and DUT_CE on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_143"><a class="anchor" href="#_test_procedure_143"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS-SD records shows DUT_CE advertising</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DNS-SD advertisement shows CM=2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration set in step 2, Set up a TH_CR2 to start attempting to do PASE to DUT_CE and failing 20 times. This can be done using a valid onboarding payload with an incorrect setupcode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT_CE fails to get commissioned by TH_CR2 in all the 20 attempts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration set in step 2, TH_CR2 attempts to do PASE to DUT_CE using the correct onboarding payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that after 20 unsuccessful attempts in the previous step, DUT_CE has exited commissioning mode and this attempt shows that you can&#8217;t begin PASE (failure at PBKDFRequest, not obtaining a PBKDFResponse).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3 starts a commissioning process with DUT_CE using the correct PAKEVerifier</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify commissioning flow fails since the commissioning window must be closed after step 4.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_105"><a class="anchor" href="#_notestesting_considerations_105"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_10_device_exit_commissioning_mode_after_20_failed_commission_attempts_bcm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_10_device_exit_commissioning_mode_after_20_failed_commission_attempts_bcm_dut_commissionee"></a>36.1.10. [TC-CADMIN-1.10] Device exit commissioning mode after 20 failed commission attempts [BCM] [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_144"><a class="anchor" href="#_category_144"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_145"><a class="anchor" href="#_purpose_145"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the DUT exits its commissioning window after the 20 failed commissioning attempts.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_144"><a class="anchor" href="#_pics_144"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
<li>
<p>CADMIN.S.F00(BC)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_144"><a class="anchor" href="#_required_devices_144"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_69"><a class="anchor" href="#_preconditions_69"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_97"><a class="anchor" href="#_device_topology_97"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CR1 and DUT_CE on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_144"><a class="anchor" href="#_test_procedure_144"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS-SD records shows DUT_CE advertising</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DNS-SD advertisement shows CM=1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration set in step 2, set up a TH_CR2 to start attempting to do PASE to DUT_CE and failing 20 times. This can be done using a valid onboarding payload with an incorrect setupcode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that DUT_CE fails to get commissioned by TH_CR2 in all the 20 attempts</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration set in step 2, TH_CR2 attempts to do PASE to DUT_CE using the correct onboarding payload</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that after 20 unsuccessful attempts in the previous step, DUT_CE has exited commissioning mode and this attempt shows that you can&#8217;t begin PASE (failure at PBKDFRequest, not obtaining a PBKDFResponse).</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_106"><a class="anchor" href="#_notestesting_considerations_106"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_11_open_commissioning_window_on_dut_twice_using_ecm_then_bcm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_11_open_commissioning_window_on_dut_twice_using_ecm_then_bcm_dut_commissionee"></a>36.1.11. [TC-CADMIN-1.11] Open commissioning window on DUT twice using ECM then BCM [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_145"><a class="anchor" href="#_category_145"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_146"><a class="anchor" href="#_purpose_146"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies DUT successfully rejects the OCW when it is already available for commissioning during PIXIT.CADMIN.CwDuration.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_145"><a class="anchor" href="#_pics_145"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
<li>
<p>CADMIN.S.F00(BC)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_145"><a class="anchor" href="#_required_devices_145"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_70"><a class="anchor" href="#_preconditions_70"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_98"><a class="anchor" href="#_device_topology_98"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CR1 and DUT_CE on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_145"><a class="anchor" href="#_test_procedure_145"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1 on Fabric ID1 with Node ID1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS-SD records shows DUT_CE advertising</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DNS-SD advertisement shows CM=2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3 Commissions with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE is commissioned to TH_CR3 on Fabric ID3 with Node ID3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM and TH_CR2 Commissions with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE is commissioned to TH_CR2 on Fabric ID2 with Node ID2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds which was set in step 5, TH_CR1 opens a 2nd commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE rejects this second commissioning session with a failure response of "Busy" (Value = 2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the list of Fabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the list of Fabrics only includes Fabric ID1, Fabric ID3, Fabric ID2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the expiration of PIXIT.CADMIN.CwDuration seconds that was set in step 6</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 re-opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS-SD records shows DUT_CE advertising</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DNS-SD advertisement shows CM=1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds that was set in step 10, TH_CR3 opens a 2nd commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE rejects the BCM commissioning session with a failure response of "Busy" (Value = 2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the expiration of PIXIT.CADMIN.CwDuration seconds that was set in step 10</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the list of Fabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the list of Fabrics only includes Fabric ID1, Fabric ID3, Fabric ID2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds that was set in step 14, TH_CR2 opens a second commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE rejects this second commissioning session with a failure response of "Busy" (Value = 2)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_107"><a class="anchor" href="#_notestesting_considerations_107"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_12_open_commissioning_window_on_dut_twice_using_ecm_then_bcm_dut_commissioner"><a class="anchor" href="#_tc_cadmin_1_12_open_commissioning_window_on_dut_twice_using_ecm_then_bcm_dut_commissioner"></a>36.1.12. [TC-CADMIN-1.12] Open commissioning window on DUT twice using ECM then BCM [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_146"><a class="anchor" href="#_category_146"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_147"><a class="anchor" href="#_purpose_147"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies DUT successfully handle rejections on the OCW and reading attributes windowstatus, adminfabricindex, adminvendorid</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_146"><a class="anchor" href="#_pics_146"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.C</p>
</li>
<li>
<p>CADMIN.C.C00.Tx(OpenCommissioningWindow)</p>
</li>
<li>
<p>CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_146"><a class="anchor" href="#_required_devices_146"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_71"><a class="anchor" href="#_preconditions_71"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_99"><a class="anchor" href="#_device_topology_99"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CE and DUT_CR1 on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_146"><a class="anchor" href="#_test_procedure_146"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by DUT_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM and TH_CR3 Commissions with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH_CE is commissioned to TH_CR3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM and TH_CR2 Commissions with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that TH_CE is commissioned to TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 4, DUT_CR1 sends command to TH_CE to read WindowStatus attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE successfully reads the WindowStatus</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds that was set in step 4, DUT_CR1 sends command to TH_CE to open a 2nd commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE rejects the ECM commissioning session with a failure response of "Busy" (Value = 2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the expiration of PIXIT.CADMIN.CwDuration seconds that was set in step 4</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to re-opens a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 8, DUT_CR1 sends command to TH_CE to read WindowStatus attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE successfully reads the WindowStatus</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds that was set in step 8, TH_CR3 sends command to TH_CE to open a 2nd commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE rejects the BCM commissioning session with a failure response of "Busy" (Value = 2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the expiration of PIXIT.CADMIN.CwDuration seconds that was set in step 8</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds that was set in step 12, TH_CR2 sends command to open a second commissioning window on TH_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE rejects the BCM commissioning session with a failure response of "Busy" (Value = 2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to read WindowStatus attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE successfully reads WindowStatus</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.A0001(AdminFabricIndex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to read AdminFabricIndex attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE successfully reads AdminFabricIndex</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.A0002(AdminVendorId)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to read AdminVendorId attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE successfully reads AdminVendorId</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_108"><a class="anchor" href="#_notestesting_considerations_108"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_13_open_commissioning_window_twice_on_dut_using_bcm_then_ecm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_13_open_commissioning_window_twice_on_dut_using_bcm_then_ecm_dut_commissionee"></a>36.1.13. [TC-CADMIN-1.13] Open commissioning window twice on DUT using BCM then ECM [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_147"><a class="anchor" href="#_category_147"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_148"><a class="anchor" href="#_purpose_148"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies DUT successfully rejects the OCW when it is already available for commissioning during PIXIT.CADMIN.CwDuration.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_147"><a class="anchor" href="#_pics_147"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
<li>
<p>CADMIN.S.F00(BC)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_147"><a class="anchor" href="#_required_devices_147"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_72"><a class="anchor" href="#_preconditions_72"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_100"><a class="anchor" href="#_device_topology_100"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CR1 and DUT_CE on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_147"><a class="anchor" href="#_test_procedure_147"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1 on Fabric ID1 with Node ID1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads WindowStatus attribute from DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 reads the WindowStatus value successfully and verify the value to be 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0001(AdminFabricIndex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads AdminFabricIndex attribute from DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 reads the AdminFabricIndex value successfully and verify the value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR1&#8217;s fabric</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0002(AdminVendorId)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads AdminVendorId attribute from DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 reads the AdminVendorId value successfully and verify this value to be the same as the Vendor ID field of Fabrics attribute list entry corresponding to TH_CR1&#8217;s fabric</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS-SD records shows DUT_CE advertising</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DNS-SD advertisement shows CM=1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3 Commissions with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE is commissioned to TH_CR3 on Fabric ID3 with Node ID3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM and TH_CR2 Commissions with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE is commissioned to TH_CR2 on Fabric ID2 with Node ID2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 9, TH_CR1 opens a 2nd commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE rejects this second commissioning session with a failure response of "Busy" (Value = 2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the list of Fabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the list of Fabrics includes Fabric ID1, Fabric ID3, Fabric ID2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the expiration of PIXIT.CADMIN.CwDuration seconds that was set in step 9</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 re-opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0001(AdminFabricIndex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads WindowStatus attribute from DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the value to be 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DNS-SD records shows DUT_CE advertising</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DNS-SD advertisement shows CM=2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 13, TH_CR3 opens a 2nd commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE rejects the ECM commissioning session with a failure response of "Busy" (Value = 2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the list of Fabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the list of Fabrics only includes Fabric ID1, Fabric ID3, Fabric ID2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 13</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 19, TH_CR2 opens a second commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE rejects this second commissioning session with a failure response of "Busy" (Value = 2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 19</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads WindowStatus attribute from DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 reads the WindowStatus value successfully and verify the value to be 0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0001(AdminFabricIndex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads AdminFabricIndex attribute from DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 reads the AdminFabricIndex value successfully and verify the value to be null</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0002(AdminVendorId)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads AdminVendorId attribute from DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 reads the AdminVendorId value successfully and verify the value to be null</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_109"><a class="anchor" href="#_notestesting_considerations_109"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_14_open_commissioning_window_twice_on_dut_using_bcm_then_ecm_dut_commissioner"><a class="anchor" href="#_tc_cadmin_1_14_open_commissioning_window_twice_on_dut_using_bcm_then_ecm_dut_commissioner"></a>36.1.14. [TC-CADMIN-1.14] Open commissioning window twice on DUT using BCM then ECM [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_148"><a class="anchor" href="#_category_148"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_149"><a class="anchor" href="#_purpose_149"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies DUT as commissioner successfully handles OCW operation and reading attributes windowstatus, adminfabricindex, adminvendorid</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_148"><a class="anchor" href="#_pics_148"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.C</p>
</li>
<li>
<p>CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p>
</li>
<li>
<p>CADMIN.C.C00.Tx(OpenCommissioningWindow)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_148"><a class="anchor" href="#_required_devices_148"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_73"><a class="anchor" href="#_preconditions_73"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_101"><a class="anchor" href="#_device_topology_101"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CE and DUT_CR1 on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_148"><a class="anchor" href="#_test_procedure_148"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by DUT_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM and TH_CR3 Commissions with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE is commissioned to TH_CR3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM and TH_CR2 Commissions with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE is commissioned to TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 4, DUT_CR1 sends command to TH_CE to read WindowStatus attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE successfully reads the WindowStatus</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 4, DUT_CR1 sends command to TH_CE to open a 2nd commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE rejects the BCM commissioning session with a failure response of "Busy" (Value = 2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 4</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to re-opens a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 8, DUT_CR1 sends command to TH_CE to read WindowStatus attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE successfully reads the WindowStatus</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 8, TH_CR3 sends command to TH_CE to open a 2nd commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE rejects the ECM commissioning session with a failure response of "Busy" (Value = 2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 8</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 12, TH_CR2 sends command to TH_CE to open a second commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE rejects the ECM commissioning session with a failure response of "Busy" (Value = 2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 12</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to read WindowStatus attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE successfully reads WindowStatus</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.A0001(AdminFabricIndex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to read AdminFabricIndex attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE successfully reads AdminFabricIndex</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.A0002(AdminVendorId)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to read AdminVendorId attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE successfully reads AdminVendorId</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_110"><a class="anchor" href="#_notestesting_considerations_110"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_15_removing_fabrics_from_dut_and_fabric_index_enumeration_using_ecm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_15_removing_fabrics_from_dut_and_fabric_index_enumeration_using_ecm_dut_commissionee"></a>36.1.15. [TC-CADMIN-1.15] Removing Fabrics from DUT and Fabric index enumeration using ECM [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_149"><a class="anchor" href="#_category_149"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_150"><a class="anchor" href="#_purpose_150"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the removal of Fabrics.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_149"><a class="anchor" href="#_pics_149"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_149"><a class="anchor" href="#_required_devices_149"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_74"><a class="anchor" href="#_preconditions_74"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_102"><a class="anchor" href="#_device_topology_102"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CR1 and DUT_CE on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_149"><a class="anchor" href="#_test_procedure_149"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 reads the list of Fabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the list shows FabricIndex=1, FabricIndex=2, FabricIndex=3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C0a.Rsp(RemoveFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 sends <em>RemoveFabric</em> with <code>FabricIndex = 2</code> command to DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE responses with <em>NOCResponse</em> with a StatusCode OK (note that expecting OK should ONLY work if an administrator/commissioner on another fabric than the one being removed is invoking RemoveFabric).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 writes and reads the Basic Information Cluster&#8217;s NodeLabel mandatory attribute of DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify read/write commands fail as expected since the DUT_CE is no longer on the network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the list of Fabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the list shows FabricIndex=1, FabricIndex=3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE is now discoverable over DNS-SD with 2 Operational service records (_matter._tcp SRV records).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the list of Fabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the list shows FabricIndex=1, FabricIndex=3, FabricIndex=4</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_111"><a class="anchor" href="#_notestesting_considerations_111"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_16_removing_fabrics_from_dut_and_fabric_index_enumeration_using_bcm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_16_removing_fabrics_from_dut_and_fabric_index_enumeration_using_bcm_dut_commissionee"></a>36.1.16. [TC-CADMIN-1.16] Removing Fabrics from DUT and Fabric index enumeration using BCM [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_150"><a class="anchor" href="#_category_150"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_151"><a class="anchor" href="#_purpose_151"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the removal of Fabrics.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_150"><a class="anchor" href="#_pics_150"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
<li>
<p>CADMIN.S.F00(BC)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_150"><a class="anchor" href="#_required_devices_150"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_75"><a class="anchor" href="#_preconditions_75"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_103"><a class="anchor" href="#_device_topology_103"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CR1 and DUT_CE on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_150"><a class="anchor" href="#_test_procedure_150"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 reads the list of Fabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the list shows FabricIndex=1, FabricIndex=2, FabricIndex=3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C0a.Rsp(RemoveFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 sends <em>RemoveFabric</em> with <code>FabricIndex = 2</code> command to DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE responses with <em>NOCResponse</em> with a StatusCode OK (note that expecting OK should ONLY work if an administrator/commissioner on another fabric than the one being removed is invoking RemoveFabric).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.S.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 writes and reads the Basic Information Cluster&#8217;s NodeLabel mandatory attribute of DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify read/write commands fail as expected since the DUT_CE is no longer on the network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the list of Fabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the list shows FabricIndex=1, FabricIndex=3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE is now discoverable over DNS-SD with 2 Operational service records (_matter._tcp SRV records).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the list of Fabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the list shows FabricIndex=1, FabricIndex=3, FabricIndex=4</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_112"><a class="anchor" href="#_notestesting_considerations_112"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_17_removing_fabrics_from_dut_and_fabric_index_enumeration_using_ecm_dut_commissioner"><a class="anchor" href="#_tc_cadmin_1_17_removing_fabrics_from_dut_and_fabric_index_enumeration_using_ecm_dut_commissioner"></a>36.1.17. [TC-CADMIN-1.17] Removing Fabrics from DUT and Fabric index enumeration using ECM [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_151"><a class="anchor" href="#_category_151"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_152"><a class="anchor" href="#_purpose_152"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the removal of Fabrics.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_151"><a class="anchor" href="#_pics_151"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.C</p>
</li>
<li>
<p>CADMIN.C.C00.Tx(OpenCommissioningWindow)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_151"><a class="anchor" href="#_required_devices_151"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissioner 1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_76"><a class="anchor" href="#_preconditions_76"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_104"><a class="anchor" href="#_device_topology_104"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CE and DUT_CR1 on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_151"><a class="anchor" href="#_test_procedure_151"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by DUT_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by TH_CR3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to read the list of Fabrics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE receives and processes the command successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C0a.Tx(RemoveFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends <em>RemoveFabric</em> with <code>FabricIndex = 2</code> command to TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE responses with "RemoveFabric successful" and "Expiring all sessions for fabric 0x2"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 sends command to TH_CE to write and read the Basic Information Cluster&#8217;s NodeLabel mandatory attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify read/write commands fail as expected since the TH_CR2 is no longer on the network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to read the list of Fabrics on TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE receives and processes the command successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE is now discoverable over DNS-SD with 2 Operational service records (_matter._tcp SRV records).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C00.Tx(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow a second commissioning and verify success response on DUT_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 sends command to TH_CE to read the list of Fabrics on TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE receives and processes the command successfully</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_113"><a class="anchor" href="#_notestesting_considerations_113"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_18_removing_fabrics_from_dut_and_fabric_index_enumeration_using_bcm_dut_commissioner"><a class="anchor" href="#_tc_cadmin_1_18_removing_fabrics_from_dut_and_fabric_index_enumeration_using_bcm_dut_commissioner"></a>36.1.18. [TC-CADMIN-1.18] Removing Fabrics from DUT and Fabric index enumeration using BCM [DUT - Commissioner]</h4>
<div class="sect4">
<h5 id="_category_152"><a class="anchor" href="#_category_152"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_153"><a class="anchor" href="#_purpose_153"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the removal of Fabrics.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_152"><a class="anchor" href="#_pics_152"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.C</p>
</li>
<li>
<p>CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_152"><a class="anchor" href="#_required_devices_152"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissioner 1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_77"><a class="anchor" href="#_preconditions_77"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_105"><a class="anchor" href="#_device_topology_105"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CE and DUT_CR1 on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_152"><a class="anchor" href="#_test_procedure_152"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by DUT_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR3 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by TH_CR3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to read the list of Fabrics on TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE receives and processes the command successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.C0a.Tx(RemoveFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends <em>RemoveFabric</em> with <code>FabricIndex = 2</code> command to TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE responses with "RemoveFabric successful" and "Expiring all sessions for fabric 0x2"</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">BINFO.C.A0005(NodeLabel)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 sends command to TH_CE to write and read the Basic Information Cluster&#8217;s NodeLabel mandatory attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify read/write commands fail as expected since the TH_CR2 is no longer on the network</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to read the list of Fabrics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE receives and processes the command successfully</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE is now discoverable over DNS-SD with 2 Operational service records (_matter._tcp SRV records).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C.C01.Tx(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CR1 sends command to TH_CE to open a commissioning window with a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with TH_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CE is commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.C.A0001(Fabrics)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 sends command to TH_CE to read the list of Fabrics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CE receives and processes the command successfully</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_114"><a class="anchor" href="#_notestesting_considerations_114"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_19_max_number_of_commissioned_fabrics_and_supportedfabrics_rollover_using_ecm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_19_max_number_of_commissioned_fabrics_and_supportedfabrics_rollover_using_ecm_dut_commissionee"></a>36.1.19. [TC-CADMIN-1.19] max number of Commissioned Fabrics and SupportedFabrics rollover using ECM [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_153"><a class="anchor" href="#_category_153"></a>Category</h5>
<div class="paragraph">
<p>Functional, Automation Required</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_154"><a class="anchor" href="#_purpose_154"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the max number of CommissionedFabrics based on SupportedFabrics.<br>
If the device already has the CommissionedFabrics attribute equal to the SupportedFabrics attribute, then the device’s operational credentials table is considered full and the device SHALL process the error by responding with a StatusCode of TableFull as described in Section 11.17.7.7.2, “Handling Errors”.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_153"><a class="anchor" href="#_pics_153"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_153"><a class="anchor" href="#_required_devices_153"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">THn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">THn_1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner (SupportedFabrics+1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_78"><a class="anchor" href="#_preconditions_78"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_106"><a class="anchor" href="#_device_topology_106"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CR1 and DUT_CE on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_153"><a class="anchor" href="#_test_procedure_153"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1 on Fabric ID1 with Node ID1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using ECM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">THn starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by THn on Fabric IDn and is assigned a node IDn</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat Step 3 and Step 4 an additional (SupportedFabrics - 2) times to reach an index value of SupportedFabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE has reached an attribute value of CommissionedFabrics=SupportedFabrics</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">THn_1 starts a commissioning process and opens a commissioning window with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE responds with NOCResponse with a StatusCode field value of TableFull(5)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C0a.Rsp(RemoveFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 removes FabricIndex1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify CommissionedFabrics=SupportedFabrics-1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_115"><a class="anchor" href="#_notestesting_considerations_115"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_20_max_number_of_commissioned_fabrics_and_supportedfabrics_rollover_using_bcm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_20_max_number_of_commissioned_fabrics_and_supportedfabrics_rollover_using_bcm_dut_commissionee"></a>36.1.20. [TC-CADMIN-1.20] max number of Commissioned Fabrics and SupportedFabrics rollover using BCM [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_154"><a class="anchor" href="#_category_154"></a>Category</h5>
<div class="paragraph">
<p>Functional, Automation Required</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_155"><a class="anchor" href="#_purpose_155"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the max number of CommissionedFabrics based on SupportedFabrics.<br>
If the device already has the CommissionedFabrics attribute equal to the SupportedFabrics attribute, then the device’s operational credentials table is considered full and the device SHALL process the error by responding with a StatusCode of TableFull as described in Section 11.17.7.7.2, “Handling Errors”.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_154"><a class="anchor" href="#_pics_154"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
<li>
<p>CADMIN.S.F00(BC)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_154"><a class="anchor" href="#_required_devices_154"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">THn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner n</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">THn_1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner (SupportedFabrics+1)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_79"><a class="anchor" href="#_preconditions_79"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_107"><a class="anchor" href="#_device_topology_107"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CR1 and DUT_CE on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_154"><a class="anchor" href="#_test_procedure_154"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1 on Fabric ID1 with Node ID1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using a commissioning timeout of PIXIT.CADMIN.CwDuration seconds using BCM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">THn starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by THn on Fabric IDn and is assigned a node IDn</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat Step 3 and Step 4 an additional (SupportedFabrics - 2) times to reach an index value of SupportedFabrics on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE has reached an attribute value of CommissionedFabrics=SupportedFabrics</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">THn_1 starts a commissioning process and opens a commissioning window with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE responds with NOCResponse with a StatusCode field value of TableFull(5)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C0a.Rsp(RemoveFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 removes FabricIndex1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify CommissionedFabrics=SupportedFabrics-1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_116"><a class="anchor" href="#_notestesting_considerations_116"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_21_open_commissioning_window_durations_max_and_max1_bcm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_21_open_commissioning_window_durations_max_and_max1_bcm_dut_commissionee"></a>36.1.21. [TC-CADMIN-1.21] Open commissioning window - durations max and max+1 [BCM] [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_155"><a class="anchor" href="#_category_155"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_156"><a class="anchor" href="#_purpose_156"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies when the Commissioning Timeout parameter of the OCW command is NOT set to less than the allowed maximum (15 minutes) therefore supporting 15 minutes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_155"><a class="anchor" href="#_pics_155"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
<li>
<p>CADMIN.S.F00(BC)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_155"><a class="anchor" href="#_required_devices_155"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_80"><a class="anchor" href="#_preconditions_80"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_108"><a class="anchor" href="#_device_topology_108"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CR1 and DUT_CE on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_155"><a class="anchor" href="#_test_procedure_155"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1 on Fabric ID1 with Node ID1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using BCM with a value of 900 seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait 901 seconds for commissioning Window to be closed</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the window status to verify the DUT_CE window is closed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE windows status shows the window is closed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using BCM with a value of 901 seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE does not open its Commissioning window to allow a second commissioning. DUT_CE shows 'Failed to open commissioning window. Global status 0x85'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the window status to verify the DUT_CE window is closed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE windows status shows the window is closed</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_117"><a class="anchor" href="#_notestesting_considerations_117"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_22_open_commissioning_window_durations_max_and_max1_ecm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_22_open_commissioning_window_durations_max_and_max1_ecm_dut_commissionee"></a>36.1.22. [TC-CADMIN-1.22] Open commissioning window - durations max and max+1 [ECM] [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_156"><a class="anchor" href="#_category_156"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_157"><a class="anchor" href="#_purpose_157"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies when the Commissioning Timeout parameter of the OCW command is NOT set to less than the allowed maximum (15 minutes) therefore supporting 15 minutes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_156"><a class="anchor" href="#_pics_156"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_156"><a class="anchor" href="#_required_devices_156"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_81"><a class="anchor" href="#_preconditions_81"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_109"><a class="anchor" href="#_device_topology_109"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CR1 and DUT_CE on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_156"><a class="anchor" href="#_test_procedure_156"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1 on Fabric ID1 with Node ID1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using ECM with a value of 900 seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait 901 seconds for commissioning Window to be closed</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the window status to verify the DUT_CE window is closed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE windows status shows the window is closed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using ECM with a value of 901 seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE does not open its Commissioning window to allow a second commissioning. DUT_CE shows 'Failed to open commissioning window. Global status 0x85'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the window status to verify the DUT_CE window is closed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE windows status shows the window is closed</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_118"><a class="anchor" href="#_notestesting_considerations_118"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_23_open_commissioning_window_durations_min_and_min_1_bcm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_23_open_commissioning_window_durations_min_and_min_1_bcm_dut_commissionee"></a>36.1.23. [TC-CADMIN-1.23] Open commissioning window - durations min and min-1 [BCM] [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_157"><a class="anchor" href="#_category_157"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_158"><a class="anchor" href="#_purpose_158"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies when the Commissioning Timeout parameter of the OCW command is shorter to the minimum value (3m or 180s).</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_157"><a class="anchor" href="#_pics_157"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
<li>
<p>CADMIN.S.F00(BC)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_157"><a class="anchor" href="#_required_devices_157"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_82"><a class="anchor" href="#_preconditions_82"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_110"><a class="anchor" href="#_device_topology_110"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CR1 and DUT_CE on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_157"><a class="anchor" href="#_test_procedure_157"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1 on Fabric ID1 with Node ID1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using BCM with a value of 180 seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for 181 seconds for commissioning Window to be closed</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the window status to verify the DUT_CE window is closed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE windows status shows the window is closed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using BCM with a value of 179 seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE does not open its Commissioning window to allow a second commissioning. DUT_CE shows 'Failed to open commissioning window. Global status 0x85'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the window status to verify the DUT_CE window is closed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE windows status shows the window is closed</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_119"><a class="anchor" href="#_notestesting_considerations_119"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_24_open_commissioning_window_durations_min_and_min_1_ecm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_24_open_commissioning_window_durations_min_and_min_1_ecm_dut_commissionee"></a>36.1.24. [TC-CADMIN-1.24] Open commissioning window - durations min and min-1 [ECM] [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_158"><a class="anchor" href="#_category_158"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_159"><a class="anchor" href="#_purpose_159"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies when the Commissioning Timeout parameter of the OCW command is shorter to the minimum value (3m or 180s).</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_158"><a class="anchor" href="#_pics_158"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_158"><a class="anchor" href="#_required_devices_158"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_83"><a class="anchor" href="#_preconditions_83"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_111"><a class="anchor" href="#_device_topology_111"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CR1 and DUT_CE on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_158"><a class="anchor" href="#_test_procedure_158"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1 on Fabric ID1 with Node ID1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using ECM with a value of 180 seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for 181 seconds for commissioning Window to be closed</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the window status to verify the DUT_CE window is closed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE windows status shows the window is closed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using ECM with a value of 179 seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE does not open its Commissioning window to allow a second commissioning. DUT_CE shows 'Failed to open commissioning window. Global status 0x85'</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads the window status to verify the DUT_CE window is closed</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE windows status shows the window is closed</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_120"><a class="anchor" href="#_notestesting_considerations_120"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_25_subscription_to_the_attributes_verify_subscription_response_ecm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_25_subscription_to_the_attributes_verify_subscription_response_ecm_dut_commissionee"></a>36.1.25. [TC-CADMIN-1.25] Subscription to the attributes - verify subscription response [ECM] [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_159"><a class="anchor" href="#_category_159"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_160"><a class="anchor" href="#_purpose_160"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies response to the Subscription to attributes when commissioning window is opened or closed</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_159"><a class="anchor" href="#_pics_159"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_159"><a class="anchor" href="#_required_devices_159"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_84"><a class="anchor" href="#_preconditions_84"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_112"><a class="anchor" href="#_device_topology_112"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CR1, TH_CR2 and DUT_CE on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_159"><a class="anchor" href="#_test_procedure_159"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 subscribes to WindowStatus attribute on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives WindowStatus subscription notification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0001(AdminFabricIndex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 subscribes to AdminFabricIndex attribute on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives AdminFabricIndex subscription notification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0002(AdminVendorId)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 subscribes to AdminVendorId attribute on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives AdminVendorId subscription notification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using ECM with commissioning timeout of PIXIT.CADMIN.CwDuration seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 1, AdminFabricIndex value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR1&#8217;s fabric, AdminVendorId to be the same as the Vendor ID field of Fabrics attribute list entry corresponding to TH_CR1&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 0, AdminFabricIndex value to be null, AdminVendorId to be null</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 subscribes to WindowStatus attribute on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives WindowStatus subscription notification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0001(AdminFabricIndex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 subscribes to AdminFabricIndex attribute on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives AdminFabricIndex subscription notification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0002(AdminVendorId)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 subscribes to AdminVendorId attribute on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives AdminVendorId subscription notification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using ECM with commissioning timeout of PIXIT.CADMIN.CwDuration seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a third commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 1, AdminFabricIndex value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR1&#8217;s fabric, AdminVendorId to be the same as the Vendor ID field of Fabrics attribute list entry corresponding to TH_CR1&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives subscription notifications which show WindowStatus value to be 1, AdminFabricIndex value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR1&#8217;s fabric, AdminVendorId to be the same as the Vendor ID field of Fabrics attribute list entry corresponding to TH_CR1&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C02.Rsp(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 revokes the commissioning window on DUT_CE using RevokeCommissioning command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE closes its Commissioning window</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 0, AdminFabricIndex value to be null, AdminVendorId to be null</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives subscription notifications which show WindowStatus value to be 0, AdminFabricIndex value to be null, AdminVendorId to be null</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 opens a commissioning window on DUT_CE using ECM with commissioning timeout of PIXIT.CADMIN.CwDuration seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a third commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 1, AdminFabricIndex value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric, AdminVendorId to be the same as the Vendor ID field of Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives subscription notifications which show WindowStatus value to be 1, AdminFabricIndex value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric, AdminVendorId to be the same as the Vendor ID field of Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 18</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 0, AdminFabricIndex value to be null, AdminVendorId to be null</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives subscription notifications which show WindowStatus value to be 0, AdminFabricIndex value to be null, AdminVendorId to be null</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C00.Rsp(OpenCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 opens a commissioning window on DUT_CE using ECM with commissioning timeout of PIXIT.CADMIN.CwDuration seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a third commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 1, AdminFabricIndex value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric, AdminVendorId to be the same as the Vendor ID field of Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives subscription notifications which show WindowStatus value to be 1, AdminFabricIndex value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric, AdminVendorId to be the same as the Vendor ID field of Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C0a.Rsp(RemoveFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before expiration of PIXIT.CADMIN.CwDuration seconds set in step 24, TH_CR1 sends <em>RemoveFabric</em> command to DUT_CE with FabricIndex set to the fabric index of TH_CR2&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE responses with <em>NOCResponse</em> with a StatusCode OK (note that expecting OK should ONLY work if an administrator/commissioner on another fabric than the one being removed is invoking RemoveFabric).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show AdminFabricIndex value to be null</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads WindowStatus attribute from DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">verify the value to be 1 indicating the window is still open</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0002(AdminVendorId)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads AdminVendorID attribute from DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">verify the value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 24</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 0, AdminVendorId to be null</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_121"><a class="anchor" href="#_notestesting_considerations_121"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_cadmin_1_26_subscription_to_the_attributes_verify_subscription_response_bcm_dut_commissionee"><a class="anchor" href="#_tc_cadmin_1_26_subscription_to_the_attributes_verify_subscription_response_bcm_dut_commissionee"></a>36.1.26. [TC-CADMIN-1.26] Subscription to the attributes - verify subscription response [BCM] [DUT - Commissionee]</h4>
<div class="sect4">
<h5 id="_category_160"><a class="anchor" href="#_category_160"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_161"><a class="anchor" href="#_purpose_161"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies response to the Subscription to attributes when commissioning window is opened or closed</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_160"><a class="anchor" href="#_pics_160"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>CADMIN.S</p>
</li>
<li>
<p>CADMIN.S.F00(BC)</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_160"><a class="anchor" href="#_required_devices_160"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Commissioner 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT - Commissionee</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_preconditions_85"><a class="anchor" href="#_preconditions_85"></a>Preconditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reset Devices to factory defaults</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_113"><a class="anchor" href="#_device_topology_113"></a>Device Topology</h5>
<div class="paragraph">
<p>TH_CR1, TH_CR2 and DUT_CE on the same Fabric</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_160"><a class="anchor" href="#_test_procedure_160"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 subscribes to WindowStatus attribute on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives WindowStatus subscription notification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0001(AdminFabricIndex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 subscribes to AdminFabricIndex attribute on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives AdminFabricIndex subscription notification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0002(AdminVendorId)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 subscribes to AdminVendorId attribute on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives AdminVendorId subscription notification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using BCM with commissioning timeout of PIXIT.CADMIN.CwDuration seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a second commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 2, AdminFabricIndex value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR1&#8217;s fabric, AdminVendorId to be the same as the Vendor ID field of Fabrics attribute list entry corresponding to TH_CR1&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 starts a commissioning process with DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE is commissioned by TH_CR2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 0, AdminFabricIndex value to be null, AdminVendorId to be null</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 subscribes to WindowStatus attribute on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives WindowStatus subscription notification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0001(AdminFabricIndex)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 subscribes to AdminFabricIndex attribute on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives AdminFabricIndex subscription notification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0002(AdminVendorId)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 subscribes to AdminVendorId attribute on DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives AdminVendorId subscription notification</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 opens a commissioning window on DUT_CE using BCM with commissioning timeout of PIXIT.CADMIN.CwDuration seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a third commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 2, AdminFabricIndex value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR1&#8217;s fabric, AdminVendorId to be the same as the Vendor ID field of Fabrics attribute list entry corresponding to TH_CR1&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives subscription notifications which show  WindowStatus value to be 2, AdminFabricIndex value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR1&#8217;s fabric, AdminVendorId to be the same as the Vendor ID field of Fabrics attribute list entry corresponding to TH_CR1&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C02.Rsp(RevokeCommissioning)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 revokes the commissioning window on DUT_CE using RevokeCommissioning command</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE closes its Commissioning window</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 0, AdminFabricIndex value to be null, AdminVendorId to be null</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives subscription notifications which show WindowStatus value to be 0, AdminFabricIndex value to be null, AdminVendorId to be null</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 opens a commissioning window on DUT_CE using BCM with commissioning timeout of PIXIT.CADMIN.CwDuration seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a third commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 2, AdminFabricIndex value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric, AdminVendorId to be the same as the Vendor ID field of Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives subscription notifications which show  WindowStatus value to be 2, AdminFabricIndex value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric, AdminVendorId to be the same as the Vendor ID field of Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 18</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 0, AdminFabricIndex value to be null, AdminVendorId to be null</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives subscription notifications which show WindowStatus value to be 0, AdminFabricIndex value to be null, AdminVendorId to be null</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.C01.Rsp(OpenBasicCommissioningWindow)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR2 opens a commissioning window on DUT_CE using BCM with commissioning timeout of PIXIT.CADMIN.CwDuration seconds</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT_CE opens its Commissioning window to allow a third commissioning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 2, AdminFabricIndex value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric, AdminVendorId to be the same as the Vendor ID field of Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR2 receives subscription notifications which show WindowStatus value to be 2, AdminFabricIndex value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric, AdminVendorId to be the same as the Vendor ID field of Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OPCREDS.S.C0a.Rsp(RemoveFabric)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Before expiration of PIXIT.CADMIN.CwDuration seconds set in step 24, TH_CR1 sends <em>RemoveFabric</em> command to DUT_CE with FabricIndex set to the fabric index of TH_CR2&#8217;s fabric</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify DUT_CE responses with <em>NOCResponse</em> with a StatusCode OK (note that expecting OK should ONLY work if an administrator/commissioner on another fabric than the one being removed is invoking RemoveFabric).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show AdminFabricIndex value to be null</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0000(WindowStatus)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads WindowStatus attribute from DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">verify the value to be 2 indicating the window is still open</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12.1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CADMIN.S.A0002(AdminVendorId)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_CR1 reads AdminVendorID attribute from DUT_CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">verify the value to be the same as the Fabric Index of the Fabrics attribute list entry corresponding to TH_CR2&#8217;s fabric</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wait for the expiration of PIXIT.CADMIN.CwDuration seconds that is set in step 24</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5.4.2.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify TH_CR1 receives subscription notifications which show WindowStatus value to be 0, AdminVendorId to be null</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_122"><a class="anchor" href="#_notestesting_considerations_122"></a>Notes/Testing Considerations</h5>

</div>
</div>
</div>
</div>
</div>
<h1 id="_bridge_test_plan" class="sect0"><a class="anchor" href="#_bridge_test_plan"></a><strong>Bridge Test Plan</strong></h1>
<div class="sect1">
<h2 id="_pics_definition_11"><a class="anchor" href="#_pics_definition_11"></a>37. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the bridge related PICS items that are referenced in the following test cases.  Support for an item is considered as "true" for conditional statements within the test case steps.</p>
</div>
<div class="sect2">
<h3 id="_dut_server"><a class="anchor" href="#_dut_server"></a>37.1. DUT server</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BRIDGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT implement a Bridge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BRIDGE.BatInfo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT have information on battery level of (at least some of) of its bridged devices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BRIDGE:Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BRIDGE.OtherControl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT have means to change the state of (at least some of) of its bridged devices, e.g. through a manufacturer-provided app</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BRIDGE:Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BRIDGE.AllowDeviceRename</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT have means to change the name of (at least some of) of its bridged devices, e.g. through a manufacturer-provided app</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BRIDGE:Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_dut_client"><a class="anchor" href="#_dut_client"></a>37.2. DUT client</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BRIDGECLIENT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support a Bridge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DEVLIST.UseDevices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support to maintain a list of connected devices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DEVLIST.UseDeviceName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support to maintain the names of connected devices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DEVLIST.UseDeviceState</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support to maintain the state of connected devices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DEVLIST.UseBatInfo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support maintaining information on battery level of connected devices</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_test_case_list_10"><a class="anchor" href="#_test_case_list_10"></a>38. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>TC UUID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case Name</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BR-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Basics of bridging (DUT server)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BR-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Changing the set of bridged devices (DUT server)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BR-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Changing name and state of a bridged device (DUT server)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BR-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT client handling of bridges</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases_10"><a class="anchor" href="#_test_cases_10"></a>39. Test Cases</h2>
<div class="sectionbody">
<hr>
<div class="sect2">
<h3 id="_bridge_test_cases"><a class="anchor" href="#_bridge_test_cases"></a>39.1. Bridge Test Cases</h3>
<hr>
<div class="sect3">
<h4 id="ref_TC-BR-1"><a class="anchor" href="#ref_TC-BR-1"></a>39.1.1. [TC-BR-1] Basics of bridging (DUT server)</h4>
<div class="sect4">
<h5 id="_category_161"><a class="anchor" href="#_category_161"></a>Category</h5>
<div class="paragraph">
<p>Conformance, Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_162"><a class="anchor" href="#_purpose_162"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the basic principles of bridging.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_161"><a class="anchor" href="#_pics_161"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.BRIDGE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_precondition_9"><a class="anchor" href="#_precondition_9"></a>Precondition</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT (bridge) has been commissioned to TH</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Two or more bridged devices of a supported type connected via non-Matter network/protocol to DUT (bridge).<br>
If the bridge supports both actuator and sensor/switch devices, use at least one of each type</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_161"><a class="anchor" href="#_required_devices_161"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as Administrator, Controller</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT (bridge with some bridged devices)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_114"><a class="anchor" href="#_device_topology_114"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_61"><a class="anchor" href="#_test_setup_61"></a>Test Setup</h5>
<div class="paragraph">
<p>Manufacturer has provided bridge as DUT with some devices it can bridge, along<br>
with means to setup the bridge (e.g. add/remove/rename/group bridged devices).</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_161"><a class="anchor" href="#_test_procedure_161"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">1: check exposed device types</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">9.13.2</p></td>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">MCORE.BRIDGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read attribute DeviceTypeList of the Descriptor cluster on endpoint 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify this attribute contains (at least) device type Root Node</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read attribute PartsList of the Descriptor cluster on endpoint 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result will be used in next step</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each of the endpoints read in step 1b, read attribute DeviceTypeList of the Descriptor cluster on that endpoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Track which of those endpoints have a DeviceTypeList containing (at least) device type Aggregator.<br>
Verify that the DeviceTypeList on such endpoints does not contain any Application Device Type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1d</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IF 0 endpoints found in step 1c, FAIL the test (no Aggregator device type found)<br>
ELSE Execute test steps 2a..7d for each of the endpoints found in step 1c (i.e. for each of the Aggregator device types)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">2: check present endpoints, and search bridged devices</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2a</p></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">9.13.2</p></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">MCORE.BRIDGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read attribute PartsList of the Descriptor cluster on endpoint found in step 1c</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each of the endpoints found in this PartsList attribute, read the DeviceTypeList attribute in the Descriptor cluster on such endpoint, and select those endpoints which have (at least) a device type of Bridged Node in their DeviceTypeList</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify at least two of such endpoints are found - matching the bridged devices supplied by the bridge manufacturer with the DUT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">3: check Bridged Device Basic Information cluster</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.13.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BRIDGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each of the endpoints for the bridged devices found in step 2b, read attribute PartsList of the Descriptor cluster.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If PartsList is empty verify the following<br>
*  Verify that both the Bridged Node and one or more application device types are supported on the same endpoint (following application device type rules).<br>
*  Verify that the Endpoint composition SHALL conform to the application device type(s) definition.<br>
If PartsList is not empty verify the following<br>
* Verify that all application device types are supported on separate endpoints, and not on the Bridged Node endpoint.<br>
* Verify that the Bridged Node endpoint&#8217;s Descriptor cluster PartsList attribute SHALL indicate a flat list of all endpoints representing the functionality of the bridged node, including the endpoints supporting the application device types.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.13.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BRIDGE</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">For each of the endpoints for the bridged devices found in step 2b,<br>
perform the <a href="#ref_testplan_BridgedDeviceBasicInformation">tests for Bridged Device Basic Information cluster</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">4: check battery information for bridged devices</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.13.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BRIDGE &amp; MCORE.BRIDGE.BatInfo</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">For each of the endpoints found in step 2b,<br>
if a Power Source Configuration cluster is present on this endpoint, perform the <a href="#testplan_PowerSourceConfiguration">tests</a> for this Power Source Configuration cluster<br>
plus the <a href="#testplan_PowerSource">tests</a> for the Power Source clusters at the endpoint(s) which this Power Source Configuration cluster refers to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">5: collect device types of bridged devices</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.13.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BRIDGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each of the endpoints found in step 2b, from the DeviceTypeList attribute in their Descriptor<br>
cluster, derive the (application) device type(s) of the bridged device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify this matches with the functionality of the bridged device provided for the test</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">6: Set the state of a bridged device (actuator)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6a</p></td>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">9.13.4.1</p></td>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">MCORE.BRIDGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From the list acquired in step 5, choose one of the bridged devices which is an actuator (e.g. light, window covering)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read the state of this bridged device (through Matter), e.g. on/off, brightness</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that these values match the actual state of the bridged device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change the state of this bridged device (through Matter), e.g. change its brightness or toggle its on/off state</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the actual state of the bridged device changes accordingly</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read the state of this bridged device (through Matter), as in 6b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that these values match with what was set in 6c</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">7: Read the state of a bridged device (sensor/switch)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7a</p></td>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">9.13.4.2</p></td>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">MCORE.BRIDGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">From the list acquired in step 5, choose one of the bridged devices which is a sensor (e.g. occupancy sensor, contact sensor, temperature sensor) or switch</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read the state of this bridged device (through Matter), e.g. occupancy status, contact status, current temperature</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that this matches the actual physical state of the sensor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change the state of this sensor (e.g. cover the occupancy sensor, open the contact sensor, heat the temperature sensor)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read the state of this bridged device again, as in 7b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the state has changed (different from reading in 7b) and that it matches the actual physical state of the sensor</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_123"><a class="anchor" href="#_notestesting_considerations_123"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="ref_TC-BR-2"><a class="anchor" href="#ref_TC-BR-2"></a>39.1.2. [TC-BR-2] Changing the set of bridged devices (DUT server)</h4>
<div class="sect4">
<h5 id="_category_162"><a class="anchor" href="#_category_162"></a>Category</h5>
<div class="paragraph">
<p>Conformance, Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_163"><a class="anchor" href="#_purpose_163"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the functionality of the bridge when bridged devices<br>
are being added or deleted.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_162"><a class="anchor" href="#_pics_162"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.BRIDGE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_precondition_10"><a class="anchor" href="#_precondition_10"></a>Precondition</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has been commissioned to TH</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Two or more bridged devices of a supported type connected via non-Matter network/protocol to DUT (bridge)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_162"><a class="anchor" href="#_required_devices_162"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as Administrator, Controller</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT (bridge with some bridged devices)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_115"><a class="anchor" href="#_device_topology_115"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_62"><a class="anchor" href="#_test_setup_62"></a>Test Setup</h5>
<div class="paragraph">
<p>Manufacturer has provided bridge as DUT with some devices it can bridge, along<br>
with means to setup the bridge (e.g. add/remove/rename/group bridged devices).</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_162"><a class="anchor" href="#_test_procedure_162"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">1: preparation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">9.13.6</p></td>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">MCORE.BRIDGE</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Read PartsList and DeviceTypeList attributes of the Descriptor cluster of endpoint 0</p>
</li>
<li>
<p>For each endpoint listed in the PartsList attribute of the Descriptor cluster of endpoint 0:</p>
<div class="ulist">
<ul>
<li>
<p>read the PartsList and DeviceTypeList attributes of the Descriptor cluster at that endpoint</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(these results will be used in later steps)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By inspecting the DeviceTypeList attributes read in step 1a, determine which of those endpoints has a device type of Aggregator</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>FAIL if no such endpoint(s) found</p>
</li>
<li>
<p>result will be used in later steps</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">2: add a bridged device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2a</p></td>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">9.13.6</p></td>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">MCORE.BRIDGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add a bridged device (using a method indicated by the manufacturer)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read the PartsList and DeviceTypeList attributes of the Descriptor cluster on endpoint 0</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DeviceTypeList has not changed compared to step 1a</p>
</li>
<li>
<p>Verify that PartsList contains exactly one endpoint which previously was<br>
not present</p>
</li>
<li>
<p>Verify that this new endpoint number is higher than the previously used highest<br>
endpoint number</p>
</li>
<li>
<p>Verify that the endpoint numbers for the previously present bridged devices did not<br>
change</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat step 2b for endpoint found in step 1b (the Aggregator EP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">similar check as 2b</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read PartsList and DeviceTypeList attributes of the Descriptor cluster of all other endpoints listed in the PartsList attribute in the Descriptor cluster of endpoint 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the contents of these attributes have not changed relative to step 1a (for those endpoints that were present at that stage)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">3: check newly added bridged device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.13.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BRIDGE</p></td>
<td class="tableblock halign-left valign-top" colspan="2"><p class="tableblock">Perform step 6 (for an actuator) resp. step 7 (for a sensor/switch) of <a href="#ref_TC-BR-1">TC-BR-1</a> for the bridged device added in step 2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">4: remove a bridged device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4a</p></td>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">9.13.6</p></td>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">MCORE.BRIDGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Remove one of the bridged devices (but not the one which was added in step 2) (using a method indicated by the manufacturer)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read the PartsList and DeviceTypeList attributes in the Descriptor cluster on endpoint 0</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DeviceTypeList has not changed compared to step 1a</p>
</li>
<li>
<p>Verify that PartsList lacks exactly one endpoint which previously was present<br>
and which corresponds to the removed device</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat step 4b for endpoint found in step 1b (the Aggregator EP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">same as 4b</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read PartsList and DeviceTypeList attributes of the Descriptor cluster of all other endpoints listed in the PartsList attribute in the Descriptor cluster of endpoint 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the contents did not change (i.e. equal to result from step 1a for the original set of bridged devices resp. result from step 2 for the device added in step 2)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">restart DUT to check if endpoint allocation does not get impacted by that</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4z</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BRIDGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">restart the DUT</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">5: re-add a bridged device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5a</p></td>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">9.13.6</p></td>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">MCORE.BRIDGE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Re-add the bridged device which was removed in the previous<br>
step (using a method indicated by the manufacturer)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read the PartsList and DeviceTypeList attributes in the Descriptor cluster on endpoint 0</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify that DeviceTypeList has not changed compared to step 1a</p>
</li>
<li>
<p>Verify that PartsList contains exactly one endpoint which previously (4b) was not present</p>
</li>
<li>
<p>Verify the new endpoint is higher than the previously used highest endpoint number,<br>
and different from the endpoint previously (in step 1) assigned to this bridged device</p>
</li>
<li>
<p>Verify that the endpoints for the other previously present bridged devices have not<br>
changed</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat step 5b for endpoint found in step 1b (the Aggregator EP)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">similar as 5b (compare to results from 4c)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read PartsList and DeviceTypeList attributes of the Descriptor cluster of all other endpoints listed in the PartsList attribute in the Descriptor cluster of endpoint 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the contents did not change (i.e. equal to result from step 1 for the original set of bridged devices resp. result from step 2 for the device added in step 2; for the device removed in step 4 and re-added in step 5, only verify that the DeviceTypeList attribute did not change, even though it is now at the new endpoint)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_124"><a class="anchor" href="#_notestesting_considerations_124"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="ref_TC-BR-3"><a class="anchor" href="#ref_TC-BR-3"></a>39.1.3. [TC-BR-3] Changing name and state of a bridged device (DUT server)</h4>
<div class="sect4">
<h5 id="_category_163"><a class="anchor" href="#_category_163"></a>Category</h5>
<div class="paragraph">
<p>Conformance, Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_164"><a class="anchor" href="#_purpose_164"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the functionality of the bridge when bridged devices<br>
are renamed or operated using non-Matter means.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_163"><a class="anchor" href="#_pics_163"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.BRIDGE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_precondition_11"><a class="anchor" href="#_precondition_11"></a>Precondition</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT has been commissioned to TH</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Two or more bridged devices of a supported type connected via non-Matter network/protocol to DUT (bridge)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_163"><a class="anchor" href="#_required_devices_163"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness as Administrator, Controller</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT (bridge with some bridged devices)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_116"><a class="anchor" href="#_device_topology_116"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_63"><a class="anchor" href="#_test_setup_63"></a>Test Setup</h5>
<div class="paragraph">
<p>Manufacturer has provided bridge as DUT with some devices it can bridge, along<br>
with means to setup to bridge (e.g. add/remove/rename/group bridged devices).</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_163"><a class="anchor" href="#_test_procedure_163"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">1: Rename a bridged device</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">9.13.3, 9.13.7</p></td>
<td class="tableblock halign-left valign-top" rowspan="3"><p class="tableblock">MCORE.BRIDGE &amp; MCORE.BRIDGE.AllowDeviceRename</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Get the name of a bridged device:<br>
Read the NodeLabel attribute of the Bridged Device Basic Information<br>
cluster on the applicable endpoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(Retrieved name will be used in 1c.)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Using manufacturer provided means (i.e. NOT using Matter protocol), update the name of this bridged device</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read the NodeLabel attribute of the Bridged Device Basic Information<br>
cluster on the same endpoint as in 1a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the name has changed accordingly (i.e. matching what was entered in 1b and not equal to what was read in 1a)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">2: Change the state of a bridged device by other means</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2a</p></td>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">9.13.4</p></td>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">MCORE.BRIDGE &amp; MCORE.BRIDGE.OtherControl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Choose a bridged device for which the state can be changed through a non-Matter interface (example: bridge manufacturer provides an app which can change the state of the bridged devices, e.g. change a light&#8217;s brightness)</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read the state (e.g. on/off, brightness) of that bridged device</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(retrieved result will be used in 2d)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Change the state (e.g. on/off, brightness) of that bridged device with this "other" interface.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read the state of that bridged device again (as in 2b)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the state has changed accordingly (i.e. matching what was set in 2c and not equal to what was retrieved in 2b)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_125"><a class="anchor" href="#_notestesting_considerations_125"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="ref_TC-BR-4"><a class="anchor" href="#ref_TC-BR-4"></a>39.1.4. [TC-BR-4] DUT client handling of bridges (DUT client)</h4>
<div class="sect4">
<h5 id="_category_164"><a class="anchor" href="#_category_164"></a>Category</h5>
<div class="paragraph">
<p>Conformance, Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_165"><a class="anchor" href="#_purpose_165"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies the basic principles of bridging - including the handling of DUT of composed devices, and changes in endpoints being exposed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_164"><a class="anchor" href="#_pics_164"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.BRIDGECLIENT</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_precondition_12"><a class="anchor" href="#_precondition_12"></a>Precondition</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Doc. Ref.</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Condition</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT (client) has been not yet been commissioned to TH</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_164"><a class="anchor" href="#_required_devices_164"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test Harness simulating a bridge with some bridged devices; can use the <code>bridge-app</code> for this purpose</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT (client and commissioner)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_117"><a class="anchor" href="#_device_topology_117"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_64"><a class="anchor" href="#_test_setup_64"></a>Test Setup</h5>
<div class="paragraph">
<p>TH simulates a bridge with some bridged devices; can use the <code>bridge-app</code> for this purpose.<br>
<code>bridge-app</code> is provided with in the <code>examples</code> folder of the repo <a href="https://github.com/project-chip/connectedhomeip" class="bare">https://github.com/project-chip/connectedhomeip</a>.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_164"><a class="anchor" href="#_test_procedure_164"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4.7619%;">
<col style="width: 9.5238%;">
<col style="width: 9.5238%;">
<col style="width: 38.0952%;">
<col style="width: 38.0953%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">1: verify DUT client gathers, uses and maintains information about endpoints</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Start bridge-app on TH.</p>
</li>
<li>
<p>Commission TH to DUT.</p>
</li>
<li>
<p>Monitor traffic between DUT and TH.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Verify DUT reads relevant information from the various endpoints of TH:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>DUT is expected to read DeviceTypeList and PartsList from all available endpoints</p>
</li>
<li>
<p>Default setup of <code>bridge-app</code> has endpoints 1..13:</p>
<div class="ulist">
<ul>
<li>
<p>EP 1 = aggregator</p>
</li>
<li>
<p>EP 3,10,11,12,13 = On/Off light (5 lights in total)</p>
</li>
<li>
<p>EP 4,5 = Temperature Sensor</p>
</li>
<li>
<p>EP 6..9 = composed</p>
<div class="ulist">
<ul>
<li>
<p>EP 6 = top of composed device (battery powered device with two temperature sensors)</p>
</li>
<li>
<p>EP 7,8 = Temperature Sensor</p>
</li>
<li>
<p>EP 9 = Power Source (battery indication)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DEVLIST.UseDevices</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify DUT contains the (supported) devices from the above list</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1c</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DEVLIST.UseDeviceName</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify DUT has (during step 1a) read the NodeLabel attribute from the Bridged Device Basic Information cluster on various endpoints</p>
</li>
<li>
<p>Verify DUT contains the names for the (supported) devices from the above list</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1d</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DEVLIST.UseDeviceState</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify DUT has read or reads OnOff attribute from the On/Off cluster for the various endpoints containing an On/Off light</p>
</li>
<li>
<p>Verify DUT contains the state for the (supported) devices from the above list</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1e</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DEVLIST.UseDeviceState</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use TH/<code>bridge-app</code> to change the on/off state of one or more of the bridged On/Off lights<br>
(use key 'c' in the console to <code>bridge-app</code>)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify DUT has read or reads OnOff attribute from the On/Off cluster for the various endpoints containing an On/Off light (or receives updates because of a previously set up subscription)</p>
</li>
<li>
<p>Verify DUT contains the updated state for the (supported) devices from the above list</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1f</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DEVLIST.UseDeviceState</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify DUT has read or reads MeasuredValue attribute from the Temperature Measurement cluster for the various endpoints containing a Temperature Sensor (or receives updates because of a previously set up subscription)</p>
</li>
<li>
<p>Verify DUT contains the state for the (supported) device from the above list</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1g</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DEVLIST.UseDeviceState</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use TH/<code>bridge-app</code> to change the simulated temperature level of the simulated temperature sensors<br>
(use key 't' in the console to <code>bridge-app</code>)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify DUT has read or reads MeasuredValue attribute from the Temperature Measurement cluster for the various endpoints containing a Temperature Sensor (or receives updates because of a previously set up subscription)</p>
</li>
<li>
<p>Verify DUT contains the updated state for the (supported) device from the above list</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1h</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DEVLIST.UseBatInfo</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify DUT has read or reads BatChargeLevel attribute from the Power Source cluster from the relevant endpoint (or receives updates because of a previously set up subscription)</p>
</li>
<li>
<p>Verify DUT contains the state of the battery of the (supported) devices from the above list</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">2: verify DUT can control actuator devices</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use the DUT to change the on/off state of one or more of the bridged On/Off lights</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify the DUT sends On command (On/Off cluster)</p>
</li>
<li>
<p>Verify that simulated light in TH changes state</p>
<div class="ulist">
<ul>
<li>
<p>the change of light state (due to DUT command) is shown in log output of bridge-app</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><p class="tableblock">3: verify DUT can process changes in set of exposed devices, and changes in names</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DEVLIST.UseDeviceName</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use TH/<code>bridge-app</code> to rename a bridged light<br>
(use key 'b' in the console to <code>bridge-app</code> to rename <code>Light 1</code> to <code>Light 1b</code>)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify DUT reads (or gets the update via a previously set up subscription) an updated version of the NodeLabel attribute in the Bridged Device Basic Information cluster of the bridged device that got renamed</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DEVLIST.UseDeviceName</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify DUT contains the updated name for the renamed device</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3c</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use TH/<code>bridge-app</code> to add a bridged light<br>
(use key '2' in the console to <code>bridge-app</code> to add <code>Light 2</code>)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify DUT reads (or gets the update via a previously set up subscription) an updated version of the PartsList attribute in the Descriptor cluster on endpoint 0 and the endpoint of the Aggregator device type to be aware of the added device</p>
</li>
<li>
<p>Verify DUT reads PartsList and DeviceType attribute of the newly added endpoint</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3d</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DEVLIST.UseDevices</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify DUT contains the added device in the list of devices</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3e</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use TH/<code>bridge-app</code> to remove a bridged light<br>
(use key '4' in the console to <code>bridge-app</code> to remove <code>Light 1b</code>)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify DUT reads (or gets the update via a previously set up subscription) an updated version of the PartsList attribute in the Descriptor cluster on endpoint 0 and the endpoint of the Aggregator device type to be aware of the removed device</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3f</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DEVLIST.UseDevices</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Verify DUT no longer contains the removed device in the list of devices</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_126"><a class="anchor" href="#_notestesting_considerations_126"></a>Notes/Testing Considerations</h5>

</div>
</div>
</div>
</div>
</div>
<h1 id="_bulk_data_exchange_protocol_test_plan" class="sect0"><a class="anchor" href="#_bulk_data_exchange_protocol_test_plan"></a><strong>Bulk Data Exchange Protocol Test Plan</strong></h1>
<div class="sect1">
<h2 id="_pics_definition_12"><a class="anchor" href="#_pics_definition_12"></a>40. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Bulk Data Exchange Protocol related PICS items that are referenced in the following test cases.  Support for an item is considered as "true" for conditional statements within the test case steps.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Variable</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
<th class="tableblock halign-left valign-top"><strong>Mandatory/Optional</strong></th>
<th class="tableblock halign-left valign-top"><strong>Notes/Additional Constraints</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BDX.Sender</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support the BDX Sender role?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BDX.Receiver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support the BDX Receiver role?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BDX.SynchronousSender</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support the BDX Sender role in Synchronous mode?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BDX.SynchronousReceiver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support the BDX Receiver role in Synchronous mode?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BDX.AsynchronousSender</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support the BDX Sender role in Asynchronous mode?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BDX.AsynchronousReceiver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support the BDX Receiver role in Asynchronous mode?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BDX.Driver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT control the rate of the BDX transfer ?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BDX.Initiator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the DUT an Initiator of the BDX transfer?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BDX.Responder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the DUT a Responder of the BDX transfer?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BDX.BlockQueryWithSkip</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support sending the BlockQueryWithSkip message?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Optional</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_case_list_11"><a class="anchor" href="#_test_case_list_11"></a>41. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>TC UUID</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Case Name</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BDX-1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sender Initiated BDX Transfer Session - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BDX-1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Receiver Initiated BDX Transfer Session</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BDX-1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response to Sender Initiated BDX Transfer Session - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BDX-1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response to Receiver Initiated BDX Transfer Session</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BDX-1.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response to Sender Initiated BDX Transfer Session - Negative scenario - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BDX-1.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Response to Receiver Initiated BDX Transfer Session - Negative scenario - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BDX-2.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Synchronous File Sending</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BDX-2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Synchronous File Receiving</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BDX-2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Restart Synchronous File Receiving - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BDX-2.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous File Sending - REMOVED</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-BDX-2.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Asynchronous File Receiving - REMOVED</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases_11"><a class="anchor" href="#_test_cases_11"></a>42. Test Cases</h2>
<div class="sectionbody">
<hr>
<div class="sect2">
<h3 id="_transfer_management_test_cases"><a class="anchor" href="#_transfer_management_test_cases"></a>42.1. Transfer Management Test Cases</h3>
<hr>
<div class="sect3">
<h4 id="_tc_bdx_1_1_sender_initiated_bdx_transfer_session_removed"><a class="anchor" href="#_tc_bdx_1_1_sender_initiated_bdx_transfer_session_removed"></a>42.1.1. [TC-BDX-1.1] Sender Initiated BDX Transfer Session - REMOVED</h4>
<div class="sect4">
<h5 id="_category_165"><a class="anchor" href="#_category_165"></a>Category</h5>
<div class="paragraph">
<p>Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_166"><a class="anchor" href="#_purpose_166"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the SendInit message contains the necessary information to initiate the BDX transfer session.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_165"><a class="anchor" href="#_pics_165"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.BDX.Sender</p>
</li>
<li>
<p>MCORE.BDX.Initiator</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_165"><a class="anchor" href="#_required_devices_165"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as BDX Responder and Receiver.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as BDX Initiator and Sender.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_118"><a class="anchor" href="#_device_topology_118"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_165"><a class="anchor" href="#_test_procedure_165"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a SendInit message to TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the SendInit message has the following mandatory fields.<br>
Proposed Transfer Control - At least one of the PTC[RECEIVER_DRIVE] or PTC[SENDER_DRIVE] field bits shall be set.<br>
Range Control.<br>
Proposed Max Block Size.<br>
Start Offset - Optional.<br>
Proposed Max Length - Optional.<br>
File Designator Length.<br>
File Designator.<br>
Metadata - Optional.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_127"><a class="anchor" href="#_notestesting_considerations_127"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>This test can be verified using TC-DIAGLOG-1.1 from the Diagnostic Logs cluster section.<br>
This test cannot be executed with V1.0 SDK.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_bdx_1_2_receiver_initiated_bdx_transfer_session"><a class="anchor" href="#_tc_bdx_1_2_receiver_initiated_bdx_transfer_session"></a>42.1.2. [TC-BDX-1.2] Receiver Initiated BDX Transfer Session</h4>
<div class="sect4">
<h5 id="_category_166"><a class="anchor" href="#_category_166"></a>Category</h5>
<div class="paragraph">
<p>Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_167"><a class="anchor" href="#_purpose_167"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the ReceiveInit message contains the necessary information to initiate the BDX transfer session.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_166"><a class="anchor" href="#_pics_166"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.BDX.Receiver</p>
</li>
<li>
<p>MCORE.BDX.Initiator</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_166"><a class="anchor" href="#_required_devices_166"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as BDX Responder and Sender.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as BDX Initiator and Receiver.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_119"><a class="anchor" href="#_device_topology_119"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_166"><a class="anchor" href="#_test_procedure_166"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a ReceiveInit message to TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the ReceiveInit message has the following mandatory fields.<br>
Proposed Transfer Control - At least one of the PTC[RECEIVER_DRIVE] or PTC[SENDER_DRIVE] field bits shall be set.<br>
Range Control.<br>
Proposed Max Block Size.<br>
Start Offset - Optional.<br>
Proposed Max Length - Optional.<br>
File Designator Length.<br>
File Designator.<br>
Metadata - Optional.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_128"><a class="anchor" href="#_notestesting_considerations_128"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>This test can be verified using TC-SU-2.3 from the OTA Software Update section.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_bdx_1_3_response_to_sender_initiated_bdx_transfer_session_removed"><a class="anchor" href="#_tc_bdx_1_3_response_to_sender_initiated_bdx_transfer_session_removed"></a>42.1.3. [TC-BDX-1.3] Response to Sender Initiated BDX Transfer Session - REMOVED</h4>
<div class="sect4">
<h5 id="_category_167"><a class="anchor" href="#_category_167"></a>Category</h5>
<div class="paragraph">
<p>Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_168"><a class="anchor" href="#_purpose_168"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the SendAccept message contains the necessary information to initiate the BDX transfer session.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_167"><a class="anchor" href="#_pics_167"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.BDX.Receiver</p>
</li>
<li>
<p>MCORE.BDX.Responder</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_167"><a class="anchor" href="#_required_devices_167"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as BDX Initiator and Sender.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as BDX Responder and Receiver.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_120"><a class="anchor" href="#_device_topology_120"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_167"><a class="anchor" href="#_test_procedure_167"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a SendInit message to DUT + DUT sends a SendAccept message back to TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the SendAccept message has the following mandatory fields.<br>
Transfer Control - Exactly one mode shall be chosen out of the original proposed transfer methods sent by the Initiator, and version shall be the newest version supported by Responder that is not newer than the proposed version sent by the Initiator.<br>
Max Block Size - Must be less than or equal to the proposed max block size.<br>
Metadata - Optional.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_129"><a class="anchor" href="#_notestesting_considerations_129"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>This test can be verified using TC-DIAGLOG-1.3 from the Diagnostic Logs cluster section.<br>
This test cannot be executed with V1.0 SDK.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_bdx_1_4_response_to_receiver_initiated_bdx_transfer_session"><a class="anchor" href="#_tc_bdx_1_4_response_to_receiver_initiated_bdx_transfer_session"></a>42.1.4. [TC-BDX-1.4] Response to Receiver Initiated BDX Transfer Session</h4>
<div class="sect4">
<h5 id="_category_168"><a class="anchor" href="#_category_168"></a>Category</h5>
<div class="paragraph">
<p>Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_169"><a class="anchor" href="#_purpose_169"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the ReceiveAccept message contains the necessary information to initiate the BDX transfer session.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_168"><a class="anchor" href="#_pics_168"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.BDX.Sender</p>
</li>
<li>
<p>MCORE.BDX.Responder</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_168"><a class="anchor" href="#_required_devices_168"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as BDX Initiator and Receiver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as BDX Responder and Sender</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_121"><a class="anchor" href="#_device_topology_121"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_168"><a class="anchor" href="#_test_procedure_168"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a ReceiveInit message to DUT + DUT sends a ReceiveAccept message back to TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the ReceiveAccept message has the following mandatory fields.<br>
Transfer Control - Exactly one mode shall be chosen out of the original proposed transfer methods sent by the Initiator, and version shall be the newest version supported by Responder that is not newer than the proposed version sent by the Initiator.<br>
Range Control.<br>
Max Block Size - Must be less than or equal to the proposed max block size.<br>
Length - If this field is present, and the Initiator indicated a definite length, this length shall either be: * equal to the proposed definite length, if the remaining data in the file beyond the Start Offset is larger or equal to the proposed length; * smaller than the proposed definite length, if the remaining data in the file beyond the Start Offset is smaller than the proposed length.<br>
Metadata - Optional.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_130"><a class="anchor" href="#_notestesting_considerations_130"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>This test can be verified using TC-SU-3.3 from the OTA Software Update section.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_bdx_1_5_response_to_sender_initiated_bdx_transfer_session_negative_scenario_removed"><a class="anchor" href="#_tc_bdx_1_5_response_to_sender_initiated_bdx_transfer_session_negative_scenario_removed"></a>42.1.5. [TC-BDX-1.5] Response to Sender Initiated BDX Transfer Session - Negative Scenario - REMOVED</h4>
<div class="sect4">
<h5 id="_category_169"><a class="anchor" href="#_category_169"></a>Category</h5>
<div class="paragraph">
<p>Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_170"><a class="anchor" href="#_purpose_170"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT aborts the BDX transfer session with an appropriate error.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_169"><a class="anchor" href="#_pics_169"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.BDX.Receiver</p>
</li>
<li>
<p>MCORE.BDX.Responder</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_169"><a class="anchor" href="#_required_devices_169"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as BDX Initiator and Sender</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as BDX Responder and Receiver</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_122"><a class="anchor" href="#_device_topology_122"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_169"><a class="anchor" href="#_test_procedure_169"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a SendInit message to DUT with a file designator not supported by DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends back StatusReport message to TH with Error FILE_DESIGNATOR_UNKNOWN.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a SendInit message to DUT with an invalid start offset or one that is not supported by DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends back StatusReport message to TH with Error START_OFFSET_NOT_SUPPORTED.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a SendInit message to DUT with definite length field too large for DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends back StatusReport message to TH with Error LENGTH_TOO_LARGE.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a SendInit message to DUT with definite length field too short for DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends back StatusReport message to TH with Error LENGTH_TOO_SHORT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a SendInit message to DUT with a missing definite length field.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends back StatusReport message to TH with Error LENGTH_REQUIRED.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a SendInit message to DUT with proposed transfer control method not supported by DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends back StatusReport message to TH with Error TRANSFER_METHOD_NOT_SUPPORTED.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a SendInit message to DUT when the DUT is too busy to process another transfer.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends back StatusReport message to TH with Error RESPONDER_BUSY.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_131"><a class="anchor" href="#_notestesting_considerations_131"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>This test cannot be executed with V1.0 SDK.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_bdx_1_6_response_to_receiver_initiated_bdx_transfer_session_negative_scenario_removed"><a class="anchor" href="#_tc_bdx_1_6_response_to_receiver_initiated_bdx_transfer_session_negative_scenario_removed"></a>42.1.6. [TC-BDX-1.6] Response to Receiver Initiated BDX Transfer Session - Negative Scenario - REMOVED</h4>
<div class="sect4">
<h5 id="_category_170"><a class="anchor" href="#_category_170"></a>Category</h5>
<div class="paragraph">
<p>Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_171"><a class="anchor" href="#_purpose_171"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT aborts the BDX transfer session with an appropriate error.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_170"><a class="anchor" href="#_pics_170"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.BDX.Sender</p>
</li>
<li>
<p>MCORE.BDX.Responder</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_170"><a class="anchor" href="#_required_devices_170"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as BDX Initiator and Receiver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as BDX Responder and Sender</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_123"><a class="anchor" href="#_device_topology_123"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_170"><a class="anchor" href="#_test_procedure_170"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a ReceiveInit message to DUT with a file designator not supported by DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends back StatusReport message to TH with Error FILE_DESIGNATOR_UNKNOWN.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a ReceiveInit message to DUT with an invalid start offset or one that is not supported by DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends back StatusReport message to TH with Error START_OFFSET_NOT_SUPPORTED.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a ReceiveInit message to DUT with definite length field too large for DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends back StatusReport message to TH with Error LENGTH_TOO_LARGE.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a ReceiveInit message to DUT with a missing definite length field.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends back StatusReport message to TH with Error LENGTH_REQUIRED.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a ReceiveInit message to DUT with proposed transfer control method not supported by DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends back StatusReport message to TH with Error TRANSFER_METHOD_NOT_SUPPORTED.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a ReceiveInit message to DUT when the DUT is too busy to process another transfer.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends back StatusReport message to TH with Error RESPONDER_BUSY.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_132"><a class="anchor" href="#_notestesting_considerations_132"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>This test cannot be executed with V1.0 SDK.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_data_transfer_test_cases"><a class="anchor" href="#_data_transfer_test_cases"></a>42.2. Data Transfer Test Cases</h3>
<hr>
<div class="sect3">
<h4 id="_tc_bdx_2_1_synchronous_file_sending"><a class="anchor" href="#_tc_bdx_2_1_synchronous_file_sending"></a>42.2.1. [TC-BDX-2.1] Synchronous File Sending</h4>
<div class="sect4">
<h5 id="_category_171"><a class="anchor" href="#_category_171"></a>Category</h5>
<div class="paragraph">
<p>Conformance</p>
</div>
<div class="paragraph">
<p>Example: Conformance, Performance, Reliability, Functional, Protocol, Physical Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_172"><a class="anchor" href="#_purpose_172"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT can successfully send files in Synchronous mode.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_171"><a class="anchor" href="#_pics_171"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.BDX.SynchronousSender</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_171"><a class="anchor" href="#_required_devices_171"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as BDX Receiver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as BDX Sender</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_124"><a class="anchor" href="#_device_topology_124"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_65"><a class="anchor" href="#_test_setup_65"></a>Test Setup</h5>
<div class="paragraph">
<p>DUT can initiate a BDX transfer with a SendInit message to TH or TH can initiate a BDX transfer with a ReceiveInit message to DUT.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_171"><a class="anchor" href="#_test_procedure_171"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.6.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the first Block message to TH + TH sends a BlockAck message back to DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Block message has the following mandatory fields<br>
Block Counter - Must start at 0 at the start of the transfer.<br>
Data - The length must be in the range [0 &lt; Length &#8656; Max Block Size], where Max Block Size is the negotiated Max Block Size matching the SendAccept message that initiated the transfer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.6.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends further Block messages to TH + TH sends BlockAck messages back to DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Blocks are sent in ascending and sequential block counter order.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.6.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a BlockEOF message to TH + TH sends a BlockAckEOF message back to DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the BlockEOF message has the following mandatory fields.<br>
Block Counter.<br>
Data - The length must be in the range [0 &#8656; Length &#8656; Max Block Size], where Max Block Size is the negotiated Max Block Size matching the SendAccept message that initiated the transfer.<br>
Verify that the pre-negotiated file size was transferred, if a definite size had been given.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_133"><a class="anchor" href="#_notestesting_considerations_133"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>This test can be verified using TC-SU-3.3 from the OTA Software Update section or TC-DIAGLOG-1.1 from the Diagnostic Logs cluster section.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_bdx_2_2_synchronous_file_receiving"><a class="anchor" href="#_tc_bdx_2_2_synchronous_file_receiving"></a>42.2.2. [TC-BDX-2.2] Synchronous File Receiving</h4>
<div class="sect4">
<h5 id="_category_172"><a class="anchor" href="#_category_172"></a>Category</h5>
<div class="paragraph">
<p>Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_173"><a class="anchor" href="#_purpose_173"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT can successfully receive files in Synchronous mode.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_172"><a class="anchor" href="#_pics_172"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.BDX.SynchronousReceiver</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_172"><a class="anchor" href="#_required_devices_172"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as BDX Sender</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as BDX Receiver</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_125"><a class="anchor" href="#_device_topology_125"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_66"><a class="anchor" href="#_test_setup_66"></a>Test Setup</h5>
<div class="paragraph">
<p>TH can initiate a BDX transfer with a SendInit message to TH or DUT can initiate a BDX transfer with a ReceiveInit message to DUT.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_172"><a class="anchor" href="#_test_procedure_172"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.6.6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the first Block message to DUT + DUT sends a BlockAck message back to TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the BlockAck message has the following mandatory fields.<br>
Block Counter - Must correspond to the Block Counter which was embedded in the Block being acknowledged.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BDX.Driver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the first BlockQuery message to TH + TH sends a Block message back to DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the BlockQuery message has the following mandatory fields.<br>
Block Counter - Must start at 0 at the start of the transfer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.6.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BDX.Driver</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends further BlockQuery messages to TH + TH sends further Block messages back to DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the BlockQuery messages are sent in ascending and sequential block counter order.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.6.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.BDX.BlockQueryWithSkip</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a BlockQueryWithSkip message to TH + TH sends a Block message back to DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the BlockQueryWithSkip message has the following mandatory fields.<br>
Block Counter.<br>
BytesToSkip.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a BlockEOF message to DUT + DUT sends a BlockAckEOF message back to TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the BlockAckEOF message has the following mandatory fields.<br>
Block Counter - Must correspond to the Block Counter which was embedded in the BlockEOF being acknowledged.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_134"><a class="anchor" href="#_notestesting_considerations_134"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>This test can be verified using TC-SU-2.3 from the OTA Software Update section or TC-DIAGLOG-1.3 from the Diagnostic Logs cluster section.<br>
Test Step #4 cannot be executed with V1.0 SDK.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_bdx_2_3_restart_synchronous_file_receiving_removed"><a class="anchor" href="#_tc_bdx_2_3_restart_synchronous_file_receiving_removed"></a>42.2.3. [TC-BDX-2.3] Restart Synchronous File Receiving - REMOVED</h4>
<div class="sect4">
<h5 id="_category_173"><a class="anchor" href="#_category_173"></a>Category</h5>
<div class="paragraph">
<p>Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_174"><a class="anchor" href="#_purpose_174"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT can successfully restart receiving files in Synchronous mode.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_173"><a class="anchor" href="#_pics_173"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.BDX.SynchronousReceiver</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_173"><a class="anchor" href="#_required_devices_173"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as BDX Sender</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as BDX Receiver</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_126"><a class="anchor" href="#_device_topology_126"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_67"><a class="anchor" href="#_test_setup_67"></a>Test Setup</h5>
<div class="paragraph">
<p>DUT sends a ReceiveInit message to TH + TH sends a ReceiveAccept message back to DUT + TH sends a Block message to DUT + DUT sends a BlockAck message back to TH. After a while, TH stops sending Blocks which leads to idle timeout and abort transfer session.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_173"><a class="anchor" href="#_test_procedure_173"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.6.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a ReceiveInit message to TH + TH sends a ReceiveAccept message back to DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the that the ReceiveInit message has the following fields.<br>
Proposed Transfer Control - At least one of the PTC[RECEIVER_DRIVE] or PTC[SENDER_DRIVE] field bits shall be set.<br>
Range Control.<br>
Proposed Max Block Size.<br>
Start Offset - Should be set to the offset of the first byte desired in the first block transferred.<br>
Proposed Max Length - Optional.<br>
File Designator Length.<br>
File Designator.<br>
Metadata - Optional.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.6.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a Block message to DUT + DUT sends a BlockAck message back to TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the BlockAck message has the following mandatory fields.<br>
Block Counter - Must correspond to the Block Counter which was embedded in the Block being acknowledged.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a BlockEOF message to DUT + DUT sends a BlockAckEOF message back to TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the BlockAckEOF message has the following mandatory fields.<br>
Block Counter - Must correspond to the Block Counter which was embedded in the BlockEOF being acknowledged.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_135"><a class="anchor" href="#_notestesting_considerations_135"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>This test can be verified using TC-SU-2.3 from the OTA Software Update section.<br>
This test cannot be executed with V1.0 SDK.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_bdx_2_4_asynchronous_file_sending_removed"><a class="anchor" href="#_tc_bdx_2_4_asynchronous_file_sending_removed"></a>42.2.4. [TC-BDX-2.4] Asynchronous File Sending - REMOVED</h4>
<div class="sect4">
<h5 id="_category_174"><a class="anchor" href="#_category_174"></a>Category</h5>
<div class="paragraph">
<p>Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_175"><a class="anchor" href="#_purpose_175"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT can successfully send files in Asynchronous mode.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_174"><a class="anchor" href="#_pics_174"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.BDX.AsynchronousSender</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_174"><a class="anchor" href="#_required_devices_174"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as BDX Receiver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as BDX Sender</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_127"><a class="anchor" href="#_device_topology_127"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_174"><a class="anchor" href="#_test_procedure_174"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.6.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a SendInit message to TH + TH sends a SendAccept message back to DUT + DUT sends a Block message to TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Block message has the following mandatory fields.<br>
Block Counter - Must start at 0 at the start of the transfer.<br>
Data - The length must be in the range [0 &lt; Length &#8656; Max Block Size], where Max Block Size is the negotiated Max Block Size matching the SendAccept message that initiated the transfer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.6.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a Block message to TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Blocks are sent in ascending and sequential block counter order.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.6.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a BlockEOF message to TH + TH sends a BlockAckEOF message back to DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the BlockEOF message has the following mandatory fields<br>
Block Counter.<br>
Data - The length must be in the range [0 &#8656; Length &#8656; Max Block Size], where Max Block Size is the negotiated Max Block Size matching the SendAccept message that initiated the transfer.<br>
Verify that the pre-negotiated file size was transferred, if a definite size had been given.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_136"><a class="anchor" href="#_notestesting_considerations_136"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>This test can be initiated from OTA Software Update section or Diagnostic Logs cluster section. This test can also be verified with TH sending a ReceiveInit message to the DUT.<br>
This test cannot be executed with V1.0 SDK.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_bdx_2_5_asynchronous_file_receiving_removed"><a class="anchor" href="#_tc_bdx_2_5_asynchronous_file_receiving_removed"></a>42.2.5. [TC-BDX-2.5] Asynchronous File Receiving - REMOVED</h4>
<div class="sect4">
<h5 id="_category_175"><a class="anchor" href="#_category_175"></a>Category</h5>
<div class="paragraph">
<p>Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_176"><a class="anchor" href="#_purpose_176"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT can successfully receive files in Asynchronous mode.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_175"><a class="anchor" href="#_pics_175"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.BDX.AsynchronousReceiver</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_175"><a class="anchor" href="#_required_devices_175"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as BDX Sender</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as BDX Receiver</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_128"><a class="anchor" href="#_device_topology_128"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_175"><a class="anchor" href="#_test_procedure_175"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.5.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a ReceiveInit message to TH + TH sends a ReceiveAccept message back to DUT + TH sends a Block message to DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the ReceiveInit message has the following fields.<br>
Proposed Transfer Control - PTC[ASYNC] field bit shall be set.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.21.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a BlockEOF message to DUT + DUT sends a BlockAckEOF message back to TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the BlockAckEOF message has the following mandatory fields.<br>
Block Counter - Must correspond to the Block Counter which was embedded in the BlockEOF being acknowledged.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_137"><a class="anchor" href="#_notestesting_considerations_137"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>This test can be initiated from OTA Software Update section or Diagnostic Logs cluster section. This test can also be verified with TH sending a SendInit message to the DUT.<br>
This test cannot be executed with V1.0 SDK.</p>
</div>
<hr>
</div>
</div>
</div>
</div>
</div>
<h1 id="_ota_software_update_test_plan" class="sect0"><a class="anchor" href="#_ota_software_update_test_plan"></a><strong>OTA Software Update Test Plan</strong></h1>
<div class="sect1">
<h2 id="_pics_definition_13"><a class="anchor" href="#_pics_definition_13"></a>43. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Software Update Test Plan related PICS items that are referenced in the following test cases. Support for an item is considered as "true" for conditional statements within the test case steps.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.Requestor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT implement the OTA Requestor Device Type?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.Provider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT implement the OTA Provider Device Type?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.HTTPS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support the HTTPS Protocol for OTA image download?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.RequestorConsent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support obtaining user consent for OTA application by virtue of built-in user interface capabilities?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.Resume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support resumption of a transfer previously aborted?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.VendorSpecific</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support Vendor specific OTA implementation?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.ACL.Administrator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT have Administer privilege over the Access Control of another node?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.Retry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the Requestor DUT support querying a different Provider in its OTA Provider List when it hits error conditions in invoking the QueryImage command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTAP.S.M.DelayedActionTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support sending the DelayedActionTime field in <em>QueryImageResponse</em> Command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTAP.S.M.UserConsentNeeded</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support sending the UserConsentNeeded field in <em>QueryImageResponse</em> Command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTAR.C.M.AnnounceOTAProvider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support sending the <em>AnnounceOTAProvider</em> Command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTAR.C.M.NotifyUpdateApplied</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support sending the <em>NotifyUpdateApplied</em> Command?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_case_list_12"><a class="anchor" href="#_test_case_list_12"></a>44. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>TC UUID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case Name</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SU-1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invoke AnnounceOTAProvider from Admin(DUT) to OTA-R</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SU-2.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QueryImage Command from DUT to OTA-P</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SU-2.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handling different QueryImageResponse scenarios on Requestor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SU-2.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer of Software Update Images between OTA-R(DUT) and OTA-P</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SU-2.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ApplyUpdateRequest command from DUT to OTA-P</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SU-2.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handling different ApplyUpdateResponse scenarios on Requestor</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SU-2.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NotifyUpdateApplied Command from DUT to OTA-P</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SU-2.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verifying Events on OTA-R(DUT)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SU-2.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA functionality in Multi Fabric scenario</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SU-3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">QueryImageResponse from DUT to OTA-R</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SU-3.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handling different QueryImageResponse scenarios on Provider</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SU-3.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Transfer of Software Update Images between OTA-R and OTA-P(DUT)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SU-3.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handling different ApplyUpdateResponse scenarios on Provider</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SU-4.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verifying cluster attributes on OTA-R(DUT)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases_12"><a class="anchor" href="#_test_cases_12"></a>45. Test Cases</h2>
<div class="sectionbody">
<hr>
<div class="sect2">
<h3 id="_ota_provider_discovery"><a class="anchor" href="#_ota_provider_discovery"></a>45.1. OTA Provider Discovery</h3>
<hr>
<div class="sect3">
<h4 id="_tc_su_1_1_invoke_announceotaprovider_from_admindut_to_ota_r"><a class="anchor" href="#_tc_su_1_1_invoke_announceotaprovider_from_admindut_to_ota_r"></a>45.1.1. [TC-SU-1.1] Invoke AnnounceOTAProvider from Admin(DUT) to OTA-R</h4>
<div class="sect4">
<h5 id="_category_176"><a class="anchor" href="#_category_176"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_177"><a class="anchor" href="#_purpose_177"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT is able to invoke the <em>AnnounceOTAProvider</em> command on the OTA-R.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_176"><a class="anchor" href="#_pics_176"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ACL.Administrator</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_176"><a class="anchor" href="#_required_devices_176"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as administrator.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness 1 as OTA-R device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness 2 as OTA-P device type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_129"><a class="anchor" href="#_device_topology_129"></a>Device Topology</h5>
<div class="paragraph">
<p>TH, TH2 and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_68"><a class="anchor" href="#_test_setup_68"></a>Test Setup</h5>
<div class="paragraph">
<p>OTA-R/TH and DUT are on the same fabric. OTA-P/TH2 is commissioned later as part of the test step.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_176"><a class="anchor" href="#_test_procedure_176"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTAR.C.M.AnnounceOTAProvider</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commission OTA-P/TH2 to DUT/same fabric as in test setup.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT invokes <em>AnnounceOTAProvider</em> command on the OTA-R.<br>
Verify that the command received contains the following mandatory fields.<br>
ProviderNodeID of the OTA-P/TH2 on the accessing fabric.<br>
Vendor Id of the node invoking this command. Should be same as it appears in the Node&#8217;s Basic Information Cluster.<br>
AnnouncementReason - Should be SimpleAnnouncement.<br>
MetadataForNode - Optional.<br>
Endpoint number of the OTA-P/TH2 on the ProviderNodeID.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_138"><a class="anchor" href="#_notestesting_considerations_138"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Vendor needs to mention steps on how to trigger the <em>AnnounceOTAProvider</em> Command.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_querying_the_ota_provider"><a class="anchor" href="#_querying_the_ota_provider"></a>45.2. Querying the OTA Provider</h3>
<hr>
<div class="sect3">
<h4 id="_tc_su_2_1_queryimage_command_from_dut_to_ota_p"><a class="anchor" href="#_tc_su_2_1_queryimage_command_from_dut_to_ota_p"></a>45.2.1. [TC-SU-2.1] QueryImage Command from DUT to OTA-P</h4>
<div class="sect4">
<h5 id="_category_177"><a class="anchor" href="#_category_177"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_178"><a class="anchor" href="#_purpose_178"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT is able to successfully send a <em>QueryImage</em> command to the OTA-P</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_177"><a class="anchor" href="#_pics_177"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.OTA.Requestor</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_177"><a class="anchor" href="#_required_devices_177"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as OTA-R device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as OTA-P device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness 2 as Administrator.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_130"><a class="anchor" href="#_device_topology_130"></a>Device Topology</h5>
<div class="paragraph">
<p>TH, TH2 and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_69"><a class="anchor" href="#_test_setup_69"></a>Test Setup</h5>
<div class="paragraph">
<p>TH, TH2 and DUT are on the same fabric.<br>
Commissioner or Administrator should install necessary ACL entries at commissioning time or later to enable processing of <em>QueryImage</em> commands from OTA Requestors on their fabric.<br>
There is no ongoing OTA process, and reading the <em>UpdateState</em> Attribute of the OTA Requestor should return the value as Idle.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_177"><a class="anchor" href="#_test_procedure_177"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the <em>QueryImage</em> command received on the server has the following mandatory fields<br>
VendorID - Should match the value reported by the Basic Information Cluster <em>VendorID</em> attribute of the DUT.<br>
ProductID - Should match the value reported by the Basic Information Cluster <em>ProductID</em> attribute of the DUT.<br>
SoftwareVersion - Should match the value reported by the Basic Information Cluster <em>SoftwareVersion</em> attribute of the DUT.<br>
Verify the field ProtocolsSupported lists the BDX Synchronous protocol.<br>
IF (MCORE.OTA.HTTPS) HTTPS protocol should be listed.<br>
HardwareVersion - If present, verify that it matches the value reported by the Basic Information Cluster <em>HardwareVersion</em> attribute of the DUT.<br>
If the Location field is present, verify that the value is same as Basic Information Cluster <em>Location</em> Attribute of the DUT.<br>
IF (MCORE.OTA.RequestorConsent) RequestorCanConsent field should be set to True. Otherwise it should be False.<br>
MetadataForProvider - Optional.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P.<br>
Wait for 2 minutes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">On the TH/OTA-P verify that the <em>QueryImage</em> command is sent only once in that 2 minutes interval.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2/Administrator sends an <em>AnnounceOTAProvider</em> command to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT queries the indicated OTA Provider at the ProviderLocation at its next upcoming OTA Provider query.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_139"><a class="anchor" href="#_notestesting_considerations_139"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Triggering OTA on the DUT is vendor specific. This is applicable for all devices which are triggering OTA.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_su_2_2_handling_different_queryimageresponse_scenarios_on_requestor"><a class="anchor" href="#_tc_su_2_2_handling_different_queryimageresponse_scenarios_on_requestor"></a>45.2.2. [TC-SU-2.2] Handling Different QueryImageResponse Scenarios on Requestor</h4>
<div class="sect4">
<h5 id="_category_178"><a class="anchor" href="#_category_178"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_179"><a class="anchor" href="#_purpose_179"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT behaves according to the spec on different scenarios of the <em>QueryImageResponse</em> Command from the OTA-P.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_178"><a class="anchor" href="#_pics_178"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.OTA.Requestor</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_178"><a class="anchor" href="#_required_devices_178"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as OTA-R device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as OTA-P device type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_131"><a class="anchor" href="#_device_topology_131"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_70"><a class="anchor" href="#_test_setup_70"></a>Test Setup</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.<br>
Commissioner or Administrator should install necessary ACL entries at commissioning time or later to enable processing of <em>QueryImage</em> commands from OTA Requestors on their fabric.<br>
There is no ongoing OTA process, and reading the <em>UpdateState</em> Attribute of the OTA Requestor should return the value as Idle.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_178"><a class="anchor" href="#_test_procedure_178"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P. TH/OTA-P sends a <em>QueryImageResponse</em> back to DUT. QueryStatus is set to "UpdateAvailable". Set ImageURI to the location where the image is located.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is a transfer of the software image from the TH/OTA-P to the DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P. TH/OTA-P sends a <em>QueryImageResponse</em> back to DUT. QueryStatus is set to "Busy", DelayedActionTime is set to 60 seconds.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT does not send a <em>QueryImage</em> command before the minimum interval defined by spec which is 2 minutes (120 seconds) from the last <em>QueryImage</em> command.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P. TH/OTA-P sends a <em>QueryImageResponse</em> back to DUT. QueryStatus is set to "NotAvailable".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT does not send a <em>QueryImage</em> command before the minimum interval defined by spec which is 2 minutes (120 seconds) from the last <em>QueryImage</em> command.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P. TH/OTA-P sends a <em>QueryImageResponse</em> back to DUT. QueryStatus is set to Busy, Set DelayedActionTime to 3 minutes. On the subsequent <em>QueryImage</em> command, TH/OTA-P sends a <em>QueryImageResponse</em> back to DUT. QueryStatus is set to "UpdateAvailable".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT waits for at least the time mentioned in the DelayedActionTime (3 minutes) before issuing another <em>QueryImage</em> command to the TH/OTA-P.<br>
Verify that there is a transfer of the software image after the second <em>QueryImageResponse</em> with UpdateAvailable status from the TH/OTA-P to the DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.HTTPS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P. TH/OTA-P sends a <em>QueryImageResponse</em> back to DUT. QueryStatus is set to "UpdateAvailable", ImageURI should have the https url from where the image can be downloaded.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT queries the https url and downloads the software image.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P. TH/OTA-P sends a <em>QueryImageResponse</em> back to DUT. QueryStatus is set to "UpdateAvailable", Software Version should be set to the same or an older (numerically lower) version.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT does not start transferring the software image.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.3.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P. TH/OTA-P sends a <em>QueryImageResponse</em> back to DUT. QueryStatus is set to "UpdateAvailable", ImageURI field contains an invalid BDX ImageURI.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT does not start transferring the software image.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_140"><a class="anchor" href="#_notestesting_considerations_140"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Test Step #5 cannot be executed with V1.0 SDK.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_transfer_of_software_update_images"><a class="anchor" href="#_transfer_of_software_update_images"></a>45.3. Transfer of Software Update Images</h3>
<hr>
<div class="sect3">
<h4 id="_tc_su_2_3_transfer_of_software_update_images_between_dut_and_thota_p"><a class="anchor" href="#_tc_su_2_3_transfer_of_software_update_images_between_dut_and_thota_p"></a>45.3.1. [TC-SU-2.3] Transfer of Software Update Images between DUT and TH/OTA-P</h4>
<div class="sect4">
<h5 id="_category_179"><a class="anchor" href="#_category_179"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_180"><a class="anchor" href="#_purpose_180"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT behaves according to the spec when it is transferring images from the TH/OTA-P.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_179"><a class="anchor" href="#_pics_179"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.OTA.Requestor</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_179"><a class="anchor" href="#_required_devices_179"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as OTA-R device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as OTA-P device type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_132"><a class="anchor" href="#_device_topology_132"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_71"><a class="anchor" href="#_test_setup_71"></a>Test Setup</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.<br>
Commissioner or Administrator should install necessary ACL entries at commissioning time or later to enable processing of <em>QueryImage</em> commands from OTA Requestors on their fabric.<br>
There is no ongoing OTA process, and reading the <em>UpdateState</em> Attribute of the OTA Requestor should return the value as Idle.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_179"><a class="anchor" href="#_test_procedure_179"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.RequestorConsent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P. RequestorCanConsent is set to True by DUT. OTA-P/TH responds with a <em>QueryImageResponse</em> with UserConsentNeeded field set to True.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT obtains the User Consent from the user prior to transfer of software update image. This step is vendor specific.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.3.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P. TH/OTA-P sends a <em>QueryImageResponse</em> back to DUT. QueryStatus is set to "UpdateAvailable". Set ImageURI to the location where the image is located.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is a transfer of the software image from the TH/OTA-P to the DUT. Verify that the Maximum Block Size requested by DUT should be<br>
- no larger than 1024 (2^10) bytes over non-TCP transports.<br>
- no larger than 8192 (2^13) bytes over TCP transport.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.3.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.HTTPS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P. TH/OTA-P sends a <em>QueryImageResponse</em> back to DUT. QueryStatus is set to "UpdateAvailable". Set ImageURI with the https url of the software image.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is a transfer of the software image from the TH/OTA-P to the DUT from the https url and not from the OTA-P.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.3.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">During the transfer of the image to the DUT, force fail the transfer before it completely transfers the image. Wait for the Idle timeout so that reading the <em>UpdateState</em> Attribute of the OTA Requestor returns the value as Idle. Initiate another <em>QueryImage</em> Command from DUT to the TH/OTA-P.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the BDX Idle timeout should be no less than 5 minutes.<br>
Verify that the DUT starts a new transfer of software image when sending another <em>QueryImage</em> request.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.3.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.Resume</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">During the transfer of the image to the DUT, force fail the transfer before it completely transfers the image. Initiate another <em>QueryImage</em> Command from DUT to the TH/OTA-P. Set the RC[STARTOFS] bit and associated STARTOFS field in the ReceiveInit Message to indicate the resumption of a transfer previously aborted.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT starts receiving the rest of the software image after resuming the image transfer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.VendorSpecific</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Perform the OTA Update on DUT using vendor specific mechanism.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is a transfer of the software image to the DUT.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_141"><a class="anchor" href="#_notestesting_considerations_141"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Requestor User Consent is specific to vendor implementation.<br>
Test Step #3 cannot be executed with V1.0 SDK.<br>
Test Step #5 cannot be executed with V1.0 SDK.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_applying_a_software_update"><a class="anchor" href="#_applying_a_software_update"></a>45.4. Applying a Software Update</h3>
<hr>
<div class="sect3">
<h4 id="_tc_su_2_4_applyupdaterequest_command_from_dut_to_ota_p"><a class="anchor" href="#_tc_su_2_4_applyupdaterequest_command_from_dut_to_ota_p"></a>45.4.1. [TC-SU-2.4] ApplyUpdateRequest Command from DUT to OTA-P</h4>
<div class="sect4">
<h5 id="_category_180"><a class="anchor" href="#_category_180"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_181"><a class="anchor" href="#_purpose_181"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT behaves according to the spec when it is applying the software update.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_180"><a class="anchor" href="#_pics_180"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.OTA.Requestor</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_180"><a class="anchor" href="#_required_devices_180"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as OTA-R device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as OTA-P device type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_133"><a class="anchor" href="#_device_topology_133"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_72"><a class="anchor" href="#_test_setup_72"></a>Test Setup</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.<br>
Commissioner or Administrator should install necessary ACL entries at commissioning time or later to enable processing of <em>QueryImage</em> commands from OTA Requestors on their fabric.<br>
There is no ongoing OTA process, and reading the <em>UpdateState</em> Attribute of the OTA Requestor should return the value as Idle.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_180"><a class="anchor" href="#_test_procedure_180"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P. TH/OTA-P sends a <em>QueryImageResponse</em> back to DUT. QueryStatus is set to "UpdateAvailable". Set ImageURI to the location where the image is located. After the DUT transfers the image, the DUT should send <em>ApplyUpdateRequest</em> to the OTA-P.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the request received on the OTA-P has the following mandatory fields.<br>
UpdateToken - verify that it is same as the one sent in the <em>QueryImageResponse</em>.<br>
NewVersion - verify that this is the same as the software version that was downloaded.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_142"><a class="anchor" href="#_notestesting_considerations_142"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Vendor needs to provide instructions on how to trigger the DUT/OTA-R to send the <em>ApplyUpdateRequest</em>.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_su_2_5_handling_different_applyupdateresponse_scenarios_on_requestor"><a class="anchor" href="#_tc_su_2_5_handling_different_applyupdateresponse_scenarios_on_requestor"></a>45.4.2. [TC-SU-2.5] Handling Different ApplyUpdateResponse Scenarios on Requestor</h4>
<div class="sect4">
<h5 id="_category_181"><a class="anchor" href="#_category_181"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_182"><a class="anchor" href="#_purpose_182"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT behaves according to the spec when it is applying the software update.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_181"><a class="anchor" href="#_pics_181"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.OTA.Requestor</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_181"><a class="anchor" href="#_required_devices_181"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as OTA-R device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as OTA-P device type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_134"><a class="anchor" href="#_device_topology_134"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_73"><a class="anchor" href="#_test_setup_73"></a>Test Setup</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.<br>
Commissioner or Administrator should install necessary ACL entries at commissioning time or later to enable processing of <em>QueryImage</em> commands from OTA Requestors on their fabric.<br>
There is no ongoing OTA process, and reading the <em>UpdateState</em> Attribute of the OTA Requestor should return the value as Idle.</p>
</div>
<div class="paragraph">
<p>DUT sends a <em>QueryImage</em> command to the TH/OTA-P. TH/OTA-P sends a <em>QueryImageResponse</em> back to DUT. QueryStatus is set to "UpdateAvailable". Set ImageURI to the location where the image is located. After the DUT transfers the image, the DUT should send <em>ApplyUpdateRequest</em> to the OTA-P.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_181"><a class="anchor" href="#_test_procedure_181"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-P/TH sends the <em>ApplyUpdateResponse</em> Command to the DUT. Action field is set to "Proceed", DelayedActionTime is set to 0.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT starts updating its software.<br>
Once the update is finished, verify the <em>SoftwareVersion</em> attribute from the Basic Information cluster on the DUT to match the version downloaded for the software update.<br>
Verify on the OTA-P/TH that there is no other <em>ApplyUpdateRequest</em> from the DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-P/TH sends the <em>ApplyUpdateResponse</em> Command to the DUT. Action field is set to "Proceed", DelayedActionTime is set to 3 minutes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT starts updating its software after 3 minutes. Once the update is finished, verify the <em>SoftwareVersion</em> attribute from the Basic Information cluster on the DUT to match the version downloaded for the software update.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-P/TH sends the <em>ApplyUpdateResponse</em> Command to the DUT. Action field is set to "AwaitNextAction", DelayedActionTime is set to 1 minute.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT waits for the minimum interval defined by spec which is 2 minutes before re-sending the <em>ApplyUpdateRequest</em> to the OTA-P.<br>
Verify that the DUT does not apply the software update within this time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-P/TH sends the <em>ApplyUpdateResponse</em> Command to the DUT. Action field is set to "AwaitNextAction", DelayedActionTime is set to 3 minutes. On the subsequent <em>ApplyUpdateRequest</em> command, TH/OTA-P sends the <em>ApplyUpdateResponse</em> back to DUT. Action field is set to "Proceed".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT waits for 3 minutes before sending the <em>ApplyUpdateRequest</em> to the OTA-P.<br>
Verify that the DUT starts updating its software after the second <em>ApplyUpdateResponse</em> with Proceed action.<br>
Once the update is finished, verify the <em>SoftwareVersion</em> attribute from the Basic Information cluster on the DUT to match the version downloaded for the software update.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-P/TH sends the <em>ApplyUpdateResponse</em> Command to the DUT. Action field is set to "Discontinue".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT clears its previously downloaded software image, and resets the <em>UpdateState</em> Attribute to Idle.<br>
Verify that the DUT does not send the <em>NotifyUpdateApplied</em> within a reasonable time.<br>
Verify the <em>SoftwareVersion</em> attribute from the Basic Information cluster of the DUT to be the same as it was previously.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.VendorSpecific</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Apply the OTA Update on DUT using vendor specific mechanism.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT starts updating its software.<br>
Once the update is finished, verify the <em>SoftwareVersion</em> attribute from the Basic Information cluster on the DUT to match the version downloaded for the software update.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_143"><a class="anchor" href="#_notestesting_considerations_143"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Software version can be verified by querying the Basic Information cluster.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_su_2_6_notifyupdateapplied_command_from_dut_to_ota_p"><a class="anchor" href="#_tc_su_2_6_notifyupdateapplied_command_from_dut_to_ota_p"></a>45.4.3. [TC-SU-2.6] NotifyUpdateApplied Command from DUT to OTA-P</h4>
<div class="sect4">
<h5 id="_category_182"><a class="anchor" href="#_category_182"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_183"><a class="anchor" href="#_purpose_183"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT behaves according to the spec when it is applying the software update.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_182"><a class="anchor" href="#_pics_182"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.OTA.Requestor</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_182"><a class="anchor" href="#_required_devices_182"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as OTA-R device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as OTA-P device type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_135"><a class="anchor" href="#_device_topology_135"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_74"><a class="anchor" href="#_test_setup_74"></a>Test Setup</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.<br>
Commissioner or Administrator should install necessary ACL entries at commissioning time or later to enable processing of <em>QueryImage</em> commands from OTA Requestors on their fabric.<br>
There is no ongoing OTA process, and reading the <em>UpdateState</em> Attribute of the OTA Requestor should return the value as Idle.</p>
</div>
<div class="paragraph">
<p>DUT sends a <em>QueryImage</em> command to the TH/OTA-P. TH/OTA-P sends a <em>QueryImageResponse</em> back to DUT. QueryStatus is set to "UpdateAvailable". Set ImageURI to the location where the image is located.After the DUT transfers the image, the DUT should send <em>ApplyUpdateRequest</em> to the OTA-P.<br>
OTA-P/TH sends the <em>ApplyUpdateResponse</em> Command to the DUT.<br>
Action field is set to "Proceed"</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_182"><a class="anchor" href="#_test_procedure_182"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTAR.C.M.NotifyUpdateApplied</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends the <em>NotifyUpdateApplied</em> Command to the OTA-P after installing the software update.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the <em>NotifyUpdateApplied</em> message received on the OTA-P has the following fields.<br>
UpdateToken - verify that it is the same as the one provided by the OTA provider in the <em>QueryImageResponse</em>.<br>
SoftwareVersion - verify the software version on the DUT to match the version downloaded for the software update.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_144"><a class="anchor" href="#_notestesting_considerations_144"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_requestor_cluster_events"><a class="anchor" href="#_requestor_cluster_events"></a>45.5. Requestor Cluster Events</h3>
<hr>
<div class="sect3">
<h4 id="_tc_su_2_7_verifying_events_on_ota_rdut"><a class="anchor" href="#_tc_su_2_7_verifying_events_on_ota_rdut"></a>45.5.1. [TC-SU-2.7] Verifying Events on OTA-R(DUT)</h4>
<div class="sect4">
<h5 id="_category_183"><a class="anchor" href="#_category_183"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_184"><a class="anchor" href="#_purpose_184"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT behaves according to the spec when events are generated.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_183"><a class="anchor" href="#_pics_183"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.OTA.Requestor</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_183"><a class="anchor" href="#_required_devices_183"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-R device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-P device type</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-Subscriber</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">any device which has subscribed to the OTA events from the DUT.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_136"><a class="anchor" href="#_device_topology_136"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_75"><a class="anchor" href="#_test_setup_75"></a>Test Setup</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.<br>
Commissioner or Administrator should install necessary ACL entries at commissioning time or later to enable processing of <em>QueryImage</em> commands from OTA Requestors on their fabric.<br>
There is no ongoing OTA process, and reading the <em>UpdateState</em> Attribute of the OTA Requestor should return the value as Idle.<br>
OTA-SUB should be setup such that it is subscribing to the OTA events from the DUT</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_183"><a class="anchor" href="#_test_procedure_183"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Perform a software update on the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the OTA-Subscriber receives a <em>StateTransition</em> event notification for all the state changes i.e. Querying, Downloading, Applying, Idle (optional).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P.<br>
TH/OTA-P sends a <em>QueryImageResponse</em> back to DUT. QueryStatus is set to "Busy".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the OTA-Subscriber receives a <em>StateTransition</em> event notification for the state change to DelayedOnQuery.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P.<br>
TH/OTA-P does not respond back to DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the OTA-Subscriber receives a <em>StateTransition</em> event notification for the state change to Idle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.RequestorConsent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to the TH/OTA-P. RequestorCanConsent is set to True by DUT. OTA-P/TH responds with a <em>QueryImageResponse</em> with UserConsentNeeded field set to True.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the OTA-Subscriber receives a <em>StateTransition</em> event notification for the state change to DelayedOnUserConsent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Force an error during the download of the OTA image to the DUT. Wait for the Idle timeout which should be no less than 5 minutes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the OTA-Subscriber receives a <em>StateTransition</em> event notification for the state change to Idle.<br>
Verify that the OTA-Subscriber receives a <em>DownloadError</em> event notification on BDX Idle timeout.<br>
Verify that the data in this event has the following.<br>
SoftwareVersion - Set to the value of the SoftwareVersion being downloaded.<br>
BytesDownloaded - Number of bytes that have been downloaded.<br>
ProgressPercent - Nearest Integer percent value reflecting how far within the transfer the failure occurred. IF the total length of the transfer is unknown, the value can be NULL.<br>
PlatformCode - Internal product-specific error code or NULL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">After the OTA image is transferred, DUT sends <em>ApplyUpdateRequest</em> to the OTA-P. OTA-P/TH sends the <em>ApplyUpdateResponse</em> Command to the DUT. Action field is set to "AwaitNextAction".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the OTA-Subscriber receives a <em>StateTransition</em> event notification for the state change to DelayedOnApply.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT successfully finishes applying a software update, and the new software image version is being executed on the DUT. OTA-Subscriber sends a read request to read the <em>VersionApplied</em> event from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the <em>VersionApplied</em> event is generated whenever a new version starts executing after being applied due to a software update.<br>
Verify that the data in this event has the following.<br>
SoftwareVersion - Same as the one available in the <em>SoftwareVersion</em> attribute of the Basic Information Cluster for the newly executing version.<br>
ProductID - Same as what is available in the <em>ProductID</em> attribute of the Basic Information Cluster.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_145"><a class="anchor" href="#_notestesting_considerations_145"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_multiple_fabrics"><a class="anchor" href="#_multiple_fabrics"></a>45.6. Multiple Fabrics</h3>
<hr>
<div class="sect3">
<h4 id="_tc_su_2_8_ota_functionality_in_multi_fabric_scenario"><a class="anchor" href="#_tc_su_2_8_ota_functionality_in_multi_fabric_scenario"></a>45.6.1. [TC-SU-2.8] OTA Functionality in Multi Fabric Scenario</h4>
<div class="sect4">
<h5 id="_category_184"><a class="anchor" href="#_category_184"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_185"><a class="anchor" href="#_purpose_185"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT is able to successfully send a <em>QueryImage</em> command to the OTA-P in multi fabric scenario.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_184"><a class="anchor" href="#_pics_184"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.OTA.Requestor</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_184"><a class="anchor" href="#_required_devices_184"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as OTA-R device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness 1 as OTA-P device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness 2 as OTA-P device type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_137"><a class="anchor" href="#_device_topology_137"></a>Device Topology</h5>
<div class="paragraph">
<p>Commission TH1 and TH2 on different fabrics and DUT to both these fabrics.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_76"><a class="anchor" href="#_test_setup_76"></a>Test Setup</h5>
<div class="paragraph">
<p>Commissioner or Administrator should install necessary ACL entries at commissioning time or later to enable processing of <em>QueryImage</em> commands from OTA Requestors on their fabric.<br>
<em>DefaultOTAProviders</em> Attribute is set by Administrators, either during Commissioning or at a later time, to set the Provider Location for the default OTA Provider Node to use for software updates on a given Fabric. There is no ongoing OTA process, and reading the <em>UpdateState</em> Attribute of the OTA Requestor should return the value as Idle.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_184"><a class="anchor" href="#_test_procedure_184"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to TH1/OTA-P.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the <em>QueryImage</em> command received on the server has the following mandatory fields<br>
VendorId - Should match the value reported by the Basic Information Cluster <em>VendorID</em> attribute of the DUT.<br>
ProductId - Should match the value reported by the Basic Information Cluster <em>ProductID</em> attribute of the DUT.<br>
HardwareVersion - If present, verify that it matches the value reported by the Basic Information Cluster <em>HardwareVersion</em> attribute of the DUT.<br>
SoftwareVersion - Should match the value reported by the Basic Information Cluster <em>SoftwareVersion</em> attribute of the DUT.<br>
Verify the field ProtocolsSupported lists the BDX Synchronous protocol.<br>
IF (MCORE.OTA.HTTPS_Supported) HTTPS protocol should be listed.<br>
Verify the default value of RequestorCanConsent is set to False unless DUT sets it to True.<br>
If the Location field is present, verify that the value is same as Basic Information Cluster <em>Location</em> Attribute of the DUT.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.3.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.Retry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to TH1/OTA-P. TH1/OTA-P does not respond with <em>QueryImageResponse</em>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a <em>QueryImage</em> command to TH2/OTA-P when failing to reach out to TH1/OTA-P after a finite number of unsuccessful attempts.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT sends a <em>QueryImage</em> command to TH2/OTA-P. TH2/OTA-P sends a <em>QueryImageResponse</em> back to the DUT. Status is set to UpdateAvailable.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is a transfer of the software image from TH2/OTA-P to the DUT.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_146"><a class="anchor" href="#_notestesting_considerations_146"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Triggering OTA on the DUT is vendor specific. This is applicable for all devices which are triggering OTA.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_querying_the_ota_provider_2"><a class="anchor" href="#_querying_the_ota_provider_2"></a>45.7. Querying the OTA Provider</h3>
<hr>
<div class="sect3">
<h4 id="_tc_su_3_1_queryimageresponse_from_dut_to_ota_r"><a class="anchor" href="#_tc_su_3_1_queryimageresponse_from_dut_to_ota_r"></a>45.7.1. [TC-SU-3.1] QueryImageResponse from DUT to OTA-R</h4>
<div class="sect4">
<h5 id="_category_185"><a class="anchor" href="#_category_185"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_186"><a class="anchor" href="#_purpose_186"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT behaves according to the spec when it receives a QueryImageRequest from the OTA-R.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_185"><a class="anchor" href="#_pics_185"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.OTA.Provider</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_185"><a class="anchor" href="#_required_devices_185"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as OTA-P device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as OTA-R device type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_138"><a class="anchor" href="#_device_topology_138"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_77"><a class="anchor" href="#_test_setup_77"></a>Test Setup</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.<br>
Commissioner or Administrator should install necessary ACL entries at commissioning time or later to enable processing of <em>QueryImage</em> commands from OTA Requestors on their fabric.<br>
There is no ongoing OTA process, and reading the <em>UpdateState</em> Attribute of the OTA Requestor should return the value as Idle.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_185"><a class="anchor" href="#_test_procedure_185"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-R/TH sends a <em>QueryImage</em> Command to the DUT.<br>
UserConsentNeeded field is set to False.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT is able to query the server where the software update image is located. DUT should obtain the User Consent from the user. DUT should respond with the <em>QueryImageResponse</em> to the OTA-R/TH.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_147"><a class="anchor" href="#_notestesting_considerations_147"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Test Step #1 - User Consent is obtained from the user and is specific to vendor implementation.</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="_tc_su_3_2_handling_different_queryimageresponse_scenarios_on_provider"><a class="anchor" href="#_tc_su_3_2_handling_different_queryimageresponse_scenarios_on_provider"></a>45.7.2. [TC-SU-3.2] Handling Different QueryImageResponse Scenarios on Provider</h4>
<div class="sect4">
<h5 id="_category_186"><a class="anchor" href="#_category_186"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_187"><a class="anchor" href="#_purpose_187"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT behaves according to the spec in sending the correct <em>QueryImageResponse</em> to the OTA-R.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_186"><a class="anchor" href="#_pics_186"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.OTA.Provider</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_186"><a class="anchor" href="#_required_devices_186"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as OTA-P device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as OTA-R device type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_139"><a class="anchor" href="#_device_topology_139"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_78"><a class="anchor" href="#_test_setup_78"></a>Test Setup</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.<br>
Commissioner or Administrator should install necessary ACL entries at commissioning time or later to enable processing of <em>QueryImage</em> commands from OTA Requestors on their fabric.<br>
DUT should be able to get user consent prior to <em>QueryImageResponse</em> when needed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_186"><a class="anchor" href="#_test_procedure_186"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-R/TH sends a <em>QueryImage</em> Command to the DUT.<br>
RequestorCanConsent field can be set to either True or False in the <em>QueryImage</em> Command.<br>
DUT responds with the <em>QueryImageResponse</em> to the OTA-R/TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a <em>QueryImageResponse</em> Command to the OTA-R/TH.<br>
Verify if the following fields are populated correctly.<br>
Status - UpdateAvailable - Mandatory.<br>
ImageURI - Mandatory - contain a URI where the OTA Requestor SHOULD download a Software Image.<br>
SoftwareVersion - Mandatory - Verify this is the same as the new software image version.<br>
SoftwareVersionString - Mandatory - This is the string type of the Software version.<br>
UpdateToken - verify it is within 8-32 bytes.<br>
UserConsentNeeded if present should be of type bool.<br>
MetadataForRequestor - Optional.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">There should not be any new software update available for the OTA-R/TH. OTA-R/TH sends a <em>QueryImage</em> Command to the DUT.<br>
DUT responds with the <em>QueryImageResponse</em> to the OTA-R/TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a <em>QueryImageResponse</em> Command to the OTA-R/TH.<br>
Verify if the following fields are populated correctly.<br>
Status - NotAvailable - Mandatory.<br>
Rest of the fields are optional.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-R/TH sends a <em>QueryImage</em> Command to the DUT.<br>
ProtocolSupported field should list BDX. DUT responds with the <em>QueryImageResponse</em> to the OTA-R/TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a <em>QueryImageResponse</em> Command to the OTA-R/TH.<br>
Verify the following fields in the image URI field.<br>
Verify the URI’s scheme field is “bdx” in lowercase characters.<br>
Verify the URI’s authority field contains only the string representation of the Operational Node ID of the Node where to proceed with the download.<br>
Verify that the encoding of the Node ID in the host field uses an uppercase hexadecimal format, using exactly 16 characters to encode the network byte order value of the NodeID.<br>
Verify that the Operational Node ID in the host field matches with the NodeID of the OTA Provider responding with the <em>QueryImageResponse</em>.<br>
Verify that the the user section of the authority field is absent.<br>
Verify that the URI does not contain<br>
Query field.<br>
Fragment field.<br>
Verify that the path field has the absolute path to the software image.<br>
Verify that the path has only valid URI characters.<br>
Verify that the URI is 24 characters or longer.<br>
Verify the presence of prefix 'bdx://'.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-R/TH sends a <em>QueryImage</em> Command to the DUT. ProtocolSupported field should list "https". DUT responds with a <em>QueryImageResponse</em> to the OTA-R/TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the URI should be a valid https string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTAP.S.M.DelayedActionTime</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-R/TH sends a <em>QueryImage</em> Command to the DUT.<br>
DUT responds with the <em>QueryImageResponse</em> with QueryStatus set to "Busy", DelayedActionTime set to 3 minutes. On the subsequent <em>QueryImage</em> command, DUT sends a <em>QueryImageResponse</em> back to OTA-R/TH. QueryStatus is set to "UpdateAvailable".</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends a <em>QueryImageResponse</em> Command to the OTA-R/TH<br>
Verify if the following fields are populated correctly.<br>
Status - Busy.<br>
DelayedActionTime - 3 minutes.<br>
Verify that the OTA-R/TH starts the download from the DUT after the second <em>QueryImageResponse</em> with UpdateAvailable status.<br>
Verify that the Image downloaded by the OTA-R/TH is valid and is the same image that was supposed to be downloaded.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_148"><a class="anchor" href="#_notestesting_considerations_148"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Other than Test Case #2 all test cases assume that the software update image is available.<br>
Test Step #2 - The DUT should not have any cached image already downloaded.<br>
Verification of Test Case #3 can be done with Test Case #1.<br>
Test Step #4 cannot be executed with V1.0 SDK.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_transfer_of_software_update_images_2"><a class="anchor" href="#_transfer_of_software_update_images_2"></a>45.8. Transfer of Software Update Images</h3>
<hr>
<div class="sect3">
<h4 id="_tc_su_3_3_transfer_of_software_update_images_between_dut_and_ota_r"><a class="anchor" href="#_tc_su_3_3_transfer_of_software_update_images_between_dut_and_ota_r"></a>45.8.1. [TC-SU-3.3] Transfer of Software Update Images between DUT and OTA-R</h4>
<div class="sect4">
<h5 id="_category_187"><a class="anchor" href="#_category_187"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_188"><a class="anchor" href="#_purpose_188"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT behaves according to the spec when it is transferring images to the TH/OTA-R.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_187"><a class="anchor" href="#_pics_187"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.OTA.Provider</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_187"><a class="anchor" href="#_required_devices_187"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as OTA-P device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as OTA-R device type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_140"><a class="anchor" href="#_device_topology_140"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_79"><a class="anchor" href="#_test_setup_79"></a>Test Setup</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.<br>
Commissioner or Administrator should install necessary ACL entries at commissioning time or later to enable processing of <em>QueryImage</em> commands from OTA Requestors on their fabric.<br>
DUT should be able to get user consent prior to <em>QueryImageResponse</em> when needed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_187"><a class="anchor" href="#_test_procedure_187"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.3.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-R/TH sends a <em>QueryImage</em> Command to the DUT. Protocol supported should only list "BDX". DUT responds with the <em>QueryImageResponse</em> to the OTA-R/TH.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the OTA-R/TH starts the download from the DUT. Verify that the DUT uses<br>
- Receiver-Drive mode for transfers on non-TCP transport.<br>
- Asynchronous mode for transfers on TCP transport.<br>
Verify that the Actual Block Size should the negotiated Maximum Block Size for every block except the last one.<br>
Verify that the Maximum Block sizes constraints are followed as below<br>
- should be a power of two if OTA-R/TH requests larger than 128 bytes.<br>
- should be exact requested value for value between 16 and 128 bytes.<br>
- support at least 1024 bytes over non-TCP transports.<br>
- support at least 4096 (2^12) bytes over TCP transports.<br>
Verify that the Image downloaded by the OTA-R/TH is valid and is the same image that was supposed to be downloaded.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTAP.S.M.UserConsentNeeded</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a <em>QueryImage</em> command to the DUT.<br>
RequestorCanConsent is set to True by TH. DUT responds with a <em>QueryImageResponse</em> with UserConsentNeeded field set to True.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT does not try to obtain User Consent from the user prior to transfer of software update image.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTAP.S.M.UserConsentNeeded</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a <em>QueryImage</em> command to the DUT. RequestorCanConsent is set to True by TH. DUT responds with a <em>QueryImageResponse</em> with UserConsentNeeded field set to False.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT tries to obtain User Consent from the user prior to transfer of software update image.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.3.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">During the transfer of the image from the DUT, force fail the transfer before it completely transfers the image. Wait for the Idle timeout. Initiate another <em>QueryImage</em> Command from OTA-R/TH to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT stops sending the image and can restart sending from the beginning when a new <em>QueryImage</em> request is received. Verify that the BDX Idle timeout should be no less than 5 minutes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.3.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">During the transfer of the image from the DUT, force fail the transfer before it completely transfers the image. Initiate another <em>QueryImage</em> Command from OTA-R/TH to the DUT. Set the RC[STARTOFS] bit and associated STARTOFS field in the ReceiveInit Message sent from the TH to indicate the resumption of a transfer previously aborted.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT resumes the previously aborted transfer.<br>
Verify that the DUT finishes sending the image to the TH.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.OTA.VendorSpecific</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Perform the OTA Update from DUT using vendor specific mechanism.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that there is a transfer of the software image from the DUT.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_149"><a class="anchor" href="#_notestesting_considerations_149"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Test Step #5 cannot be executed with V1.0 SDK.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_applying_a_software_update_2"><a class="anchor" href="#_applying_a_software_update_2"></a>45.9. Applying a Software Update</h3>
<hr>
<div class="sect3">
<h4 id="_tc_su_3_4_handling_different_applyupdateresponse_scenarios_on_provider"><a class="anchor" href="#_tc_su_3_4_handling_different_applyupdateresponse_scenarios_on_provider"></a>45.9.1. [TC-SU-3.4] Handling Different ApplyUpdateResponse Scenarios on Provider</h4>
<div class="sect4">
<h5 id="_category_188"><a class="anchor" href="#_category_188"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_189"><a class="anchor" href="#_purpose_189"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT behaves according to the spec on when a software update should be applied by the OTA-R.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_188"><a class="anchor" href="#_pics_188"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.OTA.Provider</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_188"><a class="anchor" href="#_required_devices_188"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as OTA-P device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as OTA-R device type.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_141"><a class="anchor" href="#_device_topology_141"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_80"><a class="anchor" href="#_test_setup_80"></a>Test Setup</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.<br>
Commissioner or Administrator should install necessary ACL entries at commissioning time or later to enable processing of <em>QueryImage</em> commands from OTA Requestors on their fabric.<br>
DUT should be able to get user consent prior to <em>QueryImageResponse</em> when needed.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_188"><a class="anchor" href="#_test_procedure_188"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-R/TH on completion of image download sends an <em>ApplyUpdateRequest</em> Command to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends an <em>ApplyUpdateResponse</em> Command to the OTA Requestor.<br>
Verify that the following fields are non empty<br>
Action - Proceed.<br>
DelayedActionTime - Zero or non zero.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-R/TH on completion of image download sends an <em>ApplyUpdateRequest</em> command to the DUT. DUT responds with the <em>ApplyUpdateResponse</em> with Action set to "AwaitNextAction", DelayedActionTime set to 3 minutes. On the subsequent <em>ApplyUpdateRequest</em> command, DUT sends a <em>ApplyUpdateResponse</em> back to DUT. Action is set to Proceed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends an <em>ApplyUpdateResponse</em> Command to the OTA-R/TH<br>
Verify if the following fields are populated correctly.<br>
Action - AwaitNextAction.<br>
DelayedActionTime - 3 minutes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.6.11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OTA-R/TH on completion of image download sends an <em>ApplyUpdateRequest</em> command to the DUT. DUT responds with the <em>ApplyUpdateResponse</em> with Action set to "Discontinue". Initiate another <em>QueryImage</em> Command from OTA-R/TH to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends an <em>ApplyUpdateResponse</em> Command to the OTA Requestor with "Discontinue" in the action field of the response.<br>
Verify that the entire OTA process is restarted on DUT when OTA-R/TH sends another <em>QueryImage</em> Request.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_150"><a class="anchor" href="#_notestesting_considerations_150"></a>Notes/Testing Considerations</h5>
<div class="paragraph">
<p>Test Cases where the DUT needs to be forced to send a certain response might not be testable.</p>
</div>
<hr>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_requestor_cluster_attributes"><a class="anchor" href="#_requestor_cluster_attributes"></a>45.10. Requestor Cluster Attributes</h3>
<hr>
<div class="sect3">
<h4 id="_tc_su_4_1_verifying_cluster_attributes_on_ota_rdut"><a class="anchor" href="#_tc_su_4_1_verifying_cluster_attributes_on_ota_rdut"></a>45.10.1. [TC-SU-4.1] Verifying Cluster Attributes on OTA-R(DUT)</h4>
<div class="sect4">
<h5 id="_category_189"><a class="anchor" href="#_category_189"></a>Category</h5>
<div class="paragraph">
<p>Functional</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_190"><a class="anchor" href="#_purpose_190"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the DUT behaves according to the spec with the Cluster attributes.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_189"><a class="anchor" href="#_pics_189"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.OTA.Requestor</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_189"><a class="anchor" href="#_required_devices_189"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as OTA-R device type.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness1 as Administrator to perform read/write operations.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness2 as OTA-P on first fabric.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness3 as OTA-P on second fabric.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness4 as second OTA-P on first fabric.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_142"><a class="anchor" href="#_device_topology_142"></a>Device Topology</h5>
<div class="paragraph">
<p>TH2 and TH4 are on the same fabric and TH3 is on a different fabric.<br>
DUT is commissioned to both these fabrics.<br>
TH can be on either fabric depending on the test.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_setup_81"><a class="anchor" href="#_test_setup_81"></a>Test Setup</h5>
<div class="paragraph">
<p>Commissioner or Administrator should install necessary ACL entries at commissioning time or later to enable processing of <em>QueryImage</em> commands from OTA Requestors on their fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_189"><a class="anchor" href="#_test_procedure_189"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 30%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a write request for the <em>DefaultOTAProviders</em> Attribute on the first fabric to the DUT. TH2 is set as the default Provider for the fabric.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the write operation for the attribute works and DUT does not respond with any errors.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a read request to read the <em>DefaultOTAProviders</em> Attribute on the first fabric to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the attribute value is set to TH2 as the default OTA provider for the fabric.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a write request for the <em>DefaultOTAProviders</em> Attribute on the second fabric to the DUT. TH3 is set as the default Provider for the fabric.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the write operation for the attribute works and DUT does not respond with any errors.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a read request to read the <em>DefaultOTAProviders</em> Attribute on the first and second fabric to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the attribute value is set to TH2 as the default OTA provider for the first fabric and TH3 for the second fabric.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a write request for the <em>DefaultOTAProviders</em> Attribute on the first fabric to the DUT. TH4 is the first Provider location and TH2 is the second Provider location in the same write request on the first fabric. TH sends a read request to read the <em>DefaultOTAProviders</em> Attribute on the first and second fabric to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the write operation fails with CONSTRAINT_ERROR status code 0x87.<br>
Verify that the attribute value is set to TH3 as the default OTA provider for the second fabric and either of TH2 or TH4 for the first fabric.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a write request for the <em>DefaultOTAProviders</em> Attribute with an empty provider list on the second fabric to the DUT. TH sends a read request to read the <em>DefaultOTAProviders</em> Attribute on the first and second fabric to the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the write operation for the attribute works and DUT does not respond with any errors.<br>
Verify that the attribute value is set to TH4 as the default OTA provider for the first fabric and none for the second fabric.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a read request to read the <em>UpdatePossible</em> attribute from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the attribute value is set to True when there is an update possible.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a read request to read the <em>UpdateState</em> Attribute from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the attribute value is set to one of the following values.<br>
Unknown, Idle, Querying, DelayedOnQuery, Downloading, Applying, DelayedOnApply, RollingBack, DelayedOnUserConsent.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.19.7.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT should start initiating the Software update process. While the DUT is downloading the image, TH sends a read request to read the <em>UpdateStateProgress</em> attribute from the DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the attribute value is a percentage value of the download progress.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_151"><a class="anchor" href="#_notestesting_considerations_151"></a>Notes/Testing Considerations</h5>

</div>
</div>
</div>
</div>
</div>
<h1 id="_access_control_enforcement_test_plan" class="sect0"><a class="anchor" href="#_access_control_enforcement_test_plan"></a><strong>Access Control Enforcement Test Plan</strong></h1>
<div class="sect1">
<h2 id="_pics_definition_14"><a class="anchor" href="#_pics_definition_14"></a>46. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Access Control Enforcement Test Plan related PICS items that are referenced in the following test cases.</p>
</div>
<div class="sect2">
<h3 id="_role_7"><a class="anchor" href="#_role_7"></a>46.1. Role</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ACL.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the Access Control cluster cluster as a server?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ACL.C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement the Access Control cluster cluster as a client?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the device implement an Application Device Type on any endpoint</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_server_7"><a class="anchor" href="#_server_7"></a>46.2. Server</h3>
<div class="sect3">
<h4 id="_attributes_9"><a class="anchor" href="#_attributes_9"></a>46.2.1. Attributes</h4>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ACL.S.A0000(ACL)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Does the DUT support the ACL attribute?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pixit_definition_5"><a class="anchor" href="#_pixit_definition_5"></a>47. PIXIT Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Access Control Enforcement Test Plan related PIXIT items that might be required in the following test cases.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.ACE.APPENDPOINT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Endpoint that the device implements the Application Device Type on</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.ACE.APPDEVTYPEID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Application Device type ID that the DUT implements on PIXIT.ACE.APPENDPOINT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.ACE.APPCLUSTER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server cluster implemented on PIXIT.ACE.APPENDPOINT (must include at least one attribute)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PIXIT.ACE.APPATTRIBUTE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attribute from PIXIT.ACE.APPCLUSTER to use for ACE tests</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_case_list_13"><a class="anchor" href="#_test_case_list_13"></a>48. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">TC UUID</th>
<th class="tableblock halign-left valign-top">Test Case Name</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-ACE-1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Privileges [DUT-Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-ACE-1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subscriptions [DUT-Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-ACE-1.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subjects [DUT-Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-ACE-1.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Targets [DUT-Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-ACE-1.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multi-fabric [DUT-Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-ACE-1.6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Group auth mode [DUT-Commissionee]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-ACE-2.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attribute read privilege enforcement - [DUT as Server]</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases_13"><a class="anchor" href="#_test_cases_13"></a>49. Test Cases</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_cluster_attribute_test_cases"><a class="anchor" href="#_cluster_attribute_test_cases"></a>49.1. Cluster Attribute test cases</h3>
<div class="sect3">
<h4 id="_tc_ace_1_1_privileges"><a class="anchor" href="#_tc_ace_1_1_privileges"></a>49.1.1. [TC-ACE-1.1] Privileges</h4>
<div class="sect4">
<h5 id="_category_190"><a class="anchor" href="#_category_190"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_191"><a class="anchor" href="#_purpose_191"></a>Purpose</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that access control is correctly enforced for reading attributes.</p>
</li>
<li>
<p>Verify that access control is correctly enforced for writing attributes.</p>
</li>
<li>
<p>Verify that access control is correctly enforced for invoking commands.</p>
</li>
<li>
<p>Verify that access control is correctly enforced for reading events.</p>
</li>
<li>
<p>Verify that access control is correctly enforced when existing privileges are removed.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_190"><a class="anchor" href="#_pics_190"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_32"><a class="anchor" href="#_pre_conditions_32"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Doc Ref</th>
<th class="tableblock halign-left valign-top">Condition</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>N1</code> is the node ID of TH1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_190"><a class="anchor" href="#_required_devices_190"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Device Name</th>
<th class="tableblock halign-left valign-top">Device Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner - uses node ID <code>N1</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_setup_82"><a class="anchor" href="#_test_setup_82"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_190"><a class="anchor" href="#_test_procedure_190"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.6923%;">
<col style="width: 15.3846%;">
<col style="width: 15.3846%;">
<col style="width: 30.7692%;">
<col style="width: 30.7693%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Ref</th>
<th class="tableblock halign-left valign-top">PICS</th>
<th class="tableblock halign-left valign-top">Test Step</th>
<th class="tableblock halign-left valign-top">Expected Outcome</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 commissions DUT using admin node ID <code>N1</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned on TH1 fabric</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH writes the ACL attribute with a list of AccessControlEntryStruct entries containing 1 elements, granting itself administer privileges on all of Endpoint 0:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Fabric Index: 1</p>
</li>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: null, Endpoint: 0, DeviceType: null}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the NOCs attribute from the Node Operational Credentials cluster using a fabric-scoped read (requires administer privilege)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT returns a list of NOCs containing 1 entry</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes the Location attribute in the Basic Information cluster with "XX" (requires administer privilege)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the UpdateFabricLabel command to the Node Operational Credentials cluster with the Label field set to "TestFabric" (requires administer privilege)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="manage-success-start"></a>6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes the NodeLabel attribute in the Basic Information cluster with the string "TestNode" (requires manage privilege)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the TestEventTrigger command to the General Diagnostics cluster with the EnableKey set to 0 and the EventTrigger set to 0 (requires manage privilege). Note that this will cause an error to be returned because the EnableKey is invalid, but still indicates that the TH passed the ACL check.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is CONSTRAINT_ERROR</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="view-success"></a>8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the VendorID attribute from the Basic Information cluster (requires view privilege)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH writes the ACL attribute with a list of AccessControlEntryStruct entries containing 2 elements, giving itself administer privilege only on the Access Control cluster and manage privilege on everything else on EP0.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Fabric Index: 1</p>
</li>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: 0x001F, Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Fabric Index: 1</p>
</li>
<li>
<p>Privilege field: Manage (4)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="administer-fail-start"></a>10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the NOCs attribute from the Node Operational Credentials cluster using a fabric-filtered read (requires administer privilege)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is UNSUPPORTED_ACCESS (0x7e)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes the Location attribute in the Basic Information cluster with "XX" (requires administer privilege)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is UNSUPPORTED_ACCESS (0x7e)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="administer-fail-end"></a>12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the UpdateFabricLabel command to the operational credentials cluster with the Label field set to "TestFabric" (requires administer privilege)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is UNSUPPORTED_ACCESS (0x7e)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps <a href="#manage-success-start">6</a> to <a href="#view-success">8</a> to confirm that TH still has access associated with manage and view privileges</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH writes the ACL attribute with a list of AccessControlEntryStruct entries containing 2 elements, giving itself administer privilege only on the Access Control cluster and operate privilege on everything else on EP0.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Fabric Index: 1</p>
</li>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: 0x001F, Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Fabric Index: 1</p>
</li>
<li>
<p>Privilege field: Operate (3)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps <a href="#administer-fail-start">10</a> to <a href="#administer-fail-end">12</a> to confirm that TH still does not have administer privileges</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="manage-fail-start"></a>16</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH writes the NodeLabel attribute in the Basic Information cluster with the string "TestNode" (requires manage privilege)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is UNSUPPORTED_ACCESS (0x7e)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="manage-fail-end"></a>17</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends the TestEventTrigger command to the General Diagnostics cluster with the EnableKey set to 0 and the EventTrigger set to 0. (requires manage privilege)</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is UNSUPPORTED_ACCESS (0x7e)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat step <a href="#view-success">8</a> to confirm that the TH still has view privileges</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes the ACL attribute with a list of AccessControlEntryStruct entries containing 2 elements, giving itself administer privilege only on the Access Control cluster and view privilege on everything else on EP0.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Fabric Index: 1</p>
</li>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: 0x001F, Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Fabric Index: 1</p>
</li>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps <a href="#administer-fail-start">10</a> to <a href="#administer-fail-end">12</a> to confirm that TH still does not have administer privileges</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps <a href="#manage-fail-start">16</a> to <a href="#manage-fail-end">17</a> to confirm that TH still does not have manage privileges</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat step <a href="#view-success">8</a> to confirm that the TH still has view privileges</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH writes the ACL attribute with a list of AccessControlEntryStruct entries containing a single element, granting Administer privilege on only the Access Control cluster and no other access.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Fabric Index: 1</p>
</li>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: 0x001F, Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps <a href="#administer-fail-start">10</a> to <a href="#administer-fail-end">12</a> to confirm that TH still does not have administer privileges</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps <a href="#manage-fail-start">16</a> to <a href="#manage-fail-end">17</a> to confirm that TH still does not have manage privileges</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH reads the VendorID attribute from the Basic Information cluster (requires view privilege)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is UNSUPPORTED_ACCESS (0x7e)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes the ACL attribute with a list of AccessControlEntryStruct entries containing a single element, restoring full access to the node.<br>
                . struct<br>
                  - Fabric Index: 1<br>
                  - Privilege field: Administer (5)<br>
                  - AuthMode field: CASE (2)<br>
                  - Subjects field: [<code>N1</code>]<br>
                  - Targets field: null</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_ace_1_2_subscriptions"><a class="anchor" href="#_tc_ace_1_2_subscriptions"></a>49.1.2. [TC-ACE-1.2] Subscriptions</h4>
<div class="sect4">
<h5 id="_category_191"><a class="anchor" href="#_category_191"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_192"><a class="anchor" href="#_purpose_192"></a>Purpose</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that access control is correctly enforced for new subscriptions.</p>
</li>
<li>
<p>Verify that access control is correctly enforced for existing subscriptions when privileges change.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_191"><a class="anchor" href="#_pics_191"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_33"><a class="anchor" href="#_pre_conditions_33"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Doc Ref</th>
<th class="tableblock halign-left valign-top">Condition</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>N1</code> is the node ID of TH1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_191"><a class="anchor" href="#_required_devices_191"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Device Name</th>
<th class="tableblock halign-left valign-top">Device Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner - uses node ID <code>N1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administrator (client) - uses node ID <code>N2</code>, same fabric as <code>N1</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_setup_83"><a class="anchor" href="#_test_setup_83"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_191"><a class="anchor" href="#_test_procedure_191"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.6923%;">
<col style="width: 15.3846%;">
<col style="width: 15.3846%;">
<col style="width: 30.7692%;">
<col style="width: 30.7693%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Ref</th>
<th class="tableblock halign-left valign-top">PICS</th>
<th class="tableblock halign-left valign-top">Test Step</th>
<th class="tableblock halign-left valign-top">Expected Outcome</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 commissions DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned on TH1 fabric</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes AccessControl cluster ACL attribute,<br>
               value is a list of AccessControlEntryStruct containing 1 element:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>, <code>N2</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="subscribe-view-success"></a>3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 subscribes to the General Commissioning cluster Breadcrumb attribute,<br>
               min interval 1, max interval 30, keep subscriptions false.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS, save SubscriptionId as <code>subscription_breadcrumb</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 subscribes to the Access Control cluster ACL attribute,<br>
               min interval 1, max interval 5, keep subscriptions false, fabric-filtered false.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS, save SubscriptionId as <code>subscription_acl</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.7.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 subscribes to the Access Control cluster AccessControlEntryChanged event,<br>
               min interval 1, max interval 5, keep subscriptions true, fabric-filtered false.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS, save SubscriptionId as <code>subscription_ace</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 selects a node id <code>N_unused</code> that is different than <code>N1</code> and <code>N2</code>. This node ID does not<br>
                need to correspond to an actual node, it is used as a placeholder to allow changing the<br>
                ACL attribute without affecting the access of <code>N1</code> and <code>N2</code>.<br>
                TH1 writes Access Control cluster ACL attribute,<br>
                value is a list of AccessControlEntryStruct Containing 1 element:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>, <code>N2</code>, <code>N_unused</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 waits for a subscription report from the DUT on <code>subscription_acl</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 receives a report from the DUT for <code>subscription_ace</code>. The AttributeReports list contains an entry with AttributeData field present. That should contain a Path to the Access Control cluster AccessControlEntryStruct event.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 waits for a subscription report from the DUT on <code>subscription_ace</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 receives a report from the DUT for <code>subscription_ace</code>. The EventReports list contains an entry with EventData field present. That should contain a Path to the Access Control cluster AccessControlEntryStruct event.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="breadcrumb-start"></a>9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.9.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 writes the Breadcrumb attribute on the General Commissioning cluster, setting the value to 1</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="breadcrumb-end"></a>10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8.4.3.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 waits for a subscription report from the DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 receives a report from the DUT for <code>subscription_breadcrumb</code>. The AttributeReports list contains an entry with the AttributeData field present. That should contain a Path to the General Commissioning cluster Breadcrumb attribute.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes AccessControl cluster ACL attribute,<br>
               value is a list of AccessControlEntryStruct containing 2 elements:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Manage (4)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N2</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps <a href="#breadcrumb-start">9</a> to <a href="#breadcrumb-end">10</a>, incrementing the Breadcrumb value from the last write, to verify that TH2 can still receive view-privilege attribute reports.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="subscribe-admin-failure-start"></a>13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 subscribes to the Access Control cluster ACL attribute,<br>
               min interval 1, max interval 5, keep subscriptions false, fabric-filtered false.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is INVALID_ACTION</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="subscribe-admin-failure-end"></a>14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.7.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 subscribes to the Access Control cluster AccessControlEntryChanged event,<br>
               min interval 1, max interval 5, keep subscriptions false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is INVALID_ACTION</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="subscribe-view-success"></a>15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 subscribes to the General Commissioning cluster Breadcrumb attribute,<br>
               min interval 1, max interval 5, keep subscriptions false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS, save SubscriptionId as <code>subscription_breadcrumb</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps <a href="#breadcrumb-start">9</a> to <a href="#breadcrumb-end">10</a>, incrementing the Breadcrumb value from the last write, to verify that TH2 can still receive view-privilege attribute reports.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes AccessControl cluster ACL attribute,<br>
               value is a list of AccessControlEntryStruct containing 2 elements:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Operate (3)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N2</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps <a href="#breadcrumb-start">9</a> to <a href="#breadcrumb-end">10</a>, incrementing the Breadcrumb value from the last write, to verify that TH2 can still receive view-privilege attribute reports.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps <a href="#subscribe-admin-failure-start">13</a> to <a href="#subscribe-admin-failure-end">14</a> to ensure TH2 still does not have permissions to subscribe to administer-privilege attributes and events</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat step <a href="#subscribe-view-success">3</a> to ensure TH2 can still subscribe to view events</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps <a href="#breadcrumb-start">9</a> to <a href="#breadcrumb-end">10</a>, incrementing the Breadcrumb value from the last write, to verify that TH2 can still receive view-privilege attribute reports.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes AccessControl cluster ACL attribute,<br>
               value is a list of AccessControlEntryStruct containing 2 elements:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N2</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps <a href="#breadcrumb-start">9</a> to <a href="#breadcrumb-end">10</a>, incrementing the Breadcrumb value from the last write, to verify that TH2 can still receive view-privilege attribute reports.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps <a href="#subscribe-admin-failure-start">13</a> to <a href="#subscribe-admin-failure-end">14</a> to ensure TH2 still does not have permissions to subscribe to administer-privilege attributes and events</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat step <a href="#subscribe-view-success">3</a> to ensure TH2 can still subscribe to view events</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps <a href="#breadcrumb-start">9</a> to <a href="#breadcrumb-end">10</a>, incrementing the Breadcrumb value from the last write, to verify that TH2 can still receive view-privilege attribute reports.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes AccessControl cluster ACL attribute,<br>
               value is a list of AccessControlEntryStruct containing 1 element</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: []</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">28</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps <a href="#subscribe-admin-failure-start">13</a> to <a href="#subscribe-admin-failure-end">14</a> to ensure TH2 still does not have permissions to subscribe to administer-privilege attributes and events</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 subscribes to the General Commissioning cluster Breadcrumb attribute,<br>
               min interval 1, max interval 5, keep subscriptions false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result is INVALID_ACTION</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_ace_1_3_subjects"><a class="anchor" href="#_tc_ace_1_3_subjects"></a>49.1.3. [TC-ACE-1.3] Subjects</h4>
<div class="sect4">
<h5 id="_category_192"><a class="anchor" href="#_category_192"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_193"><a class="anchor" href="#_purpose_193"></a>Purpose</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that access control is correctly enforced for wildcard subjects.</p>
</li>
<li>
<p>Verify that access control is correctly enforced for node ID subjects.</p>
</li>
<li>
<p>Verify that access control is correctly enforced for CAT subjects (including ID and version).</p>
</li>
<li>
<p>Verify that access control is correctly enforced for multiple subjects.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_192"><a class="anchor" href="#_pics_192"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_34"><a class="anchor" href="#_pre_conditions_34"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Doc Ref</th>
<th class="tableblock halign-left valign-top">Condition</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH0, TH1, TH2, TH3 are on the same fabric</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>N0</code> is the node ID of TH0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>N1</code> is the node ID of TH1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>N2</code> is the node ID of TH2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>N3</code> is the node ID of TH3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT is commissioned by TH0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CAT1v1</code> is a version 1 CAT</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CAT1v2</code> is a version 2 CAT with the same ID as <code>CAT1v1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CAT1v3</code> is a version 3 CAT with the same ID as <code>CAT1v2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CAT2v1</code> is a version 1 CAT with a different ID from <code>CAT1v1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CAT2v2</code> is a version 2 CAT with the same ID as <code>CAT2v1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CAT2v3</code> is a version 3 CAT with the same ID as <code>CAT2v2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CAT1v1_subject</code> is the ACL subject for <code>CAT1v1</code> (0xFFFF_FFFD_0000_0000 | <code>CAT1v1</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CAT1v2_subject</code> is the ACL subject for <code>CAT1v2</code> (0xFFFF_FFFD_0000_0000 | <code>CAT1v2</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CAT1v3_subject</code> is the ACL subject for <code>CAT1v3</code> (0xFFFF_FFFD_0000_0000 | <code>CAT1v3</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CAT2v1_subject</code> is the ACL subject for <code>CAT2v1</code> (0xFFFF_FFFD_0000_0000 | <code>CAT2v1</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CAT2v2_subject</code> is the ACL subject for <code>CAT2v2</code> (0xFFFF_FFFD_0000_0000 | <code>CAT2v2</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CAT2v3_subject</code> is the ACL subject for <code>CAT2v3</code> (0xFFFF_FFFD_0000_0000 | <code>CAT2v3</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1 has credentials for <code>CAT1v3</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2 has credentials for <code>CAT1v2</code> and <code>CAT2v1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH3 has credentials for <code>CAT1v1</code> and <code>CAT2v2</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_192"><a class="anchor" href="#_required_devices_192"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Device Name</th>
<th class="tableblock halign-left valign-top">Device Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Controller</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Controller</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_setup_84"><a class="anchor" href="#_test_setup_84"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_192"><a class="anchor" href="#_test_procedure_192"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.6923%;">
<col style="width: 15.3846%;">
<col style="width: 15.3846%;">
<col style="width: 30.7692%;">
<col style="width: 30.7693%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Ref</th>
<th class="tableblock halign-left valign-top">PICS</th>
<th class="tableblock halign-left valign-top">Test Step</th>
<th class="tableblock halign-left valign-top">Expected Outcome</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Precondition: TH0 commissions DUT using admin node ID <code>N0</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DUT is commissioned on TH0 fabric</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH0 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N0</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: null</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH3 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH0 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N0</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH3 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH0 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N0</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N2</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 1 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 1 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH3 reads DUT Endpoint 1 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH0 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N0</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N3</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH3 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH0 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N0</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>, <code>N2</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH3 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH0 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N0</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>, <code>N3</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH3 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH0 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N0</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N2</code>, <code>N3</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH3 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH0 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N0</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>, <code>N2</code>, <code>N3</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH3 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">34</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH0 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N0</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>CAT1v1_subject</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">35</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">37</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH3 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">38</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH0 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N0</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>CAT1v2_subject</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">39</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">40</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH3 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">42</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH0 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N0</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>CAT1v3_subject</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">43</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">44</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">45</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH3 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">46</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH0 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N0</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>CAT2v1_subject</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">47</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">48</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">49</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH3 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">50</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH0 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N0</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>CAT2v2_subject</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">51</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">52</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH3 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">54</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH0 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N0</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>CAT2v3_subject</code>]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">55</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">56</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">57</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH3 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">58</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH0 writes DUT Endpoint 0 AccessControl cluster ACL attribute to reset<br>
                it back to the default State.<br>
                Value is list of AccessControlEntryStruct containing 1 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N0</code>]</p>
</li>
<li>
<p>Targets field: null</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_ace_1_4_targets"><a class="anchor" href="#_tc_ace_1_4_targets"></a>49.1.4. [TC-ACE-1.4] Targets</h4>
<div class="sect4">
<h5 id="_category_193"><a class="anchor" href="#_category_193"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_194"><a class="anchor" href="#_purpose_194"></a>Purpose</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that access control is correctly enforced for wildcard targets.</p>
</li>
<li>
<p>Verify that access control is correctly enforced for cluster targets.</p>
</li>
<li>
<p>Verify that access control is correctly enforced for endpoint targets.</p>
</li>
<li>
<p>Verify that access control is correctly enforced for device type targets.</p>
</li>
<li>
<p>Verify that access control is correctly enforced for cluster plus endpoint targets.</p>
</li>
<li>
<p>Verify that access control is correctly enforced for cluster plus device type targets.</p>
</li>
<li>
<p>Verify that access control is correctly enforced for multiple targets.</p>
</li>
<li>
<p>Verify that access control is correctly enforced for wildcard reads, and returns correct status.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_193"><a class="anchor" href="#_pics_193"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_35"><a class="anchor" href="#_pre_conditions_35"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Doc Ref</th>
<th class="tableblock halign-left valign-top">Condition</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>N1</code> is the node ID of TH1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AppClusterId</code> is the cluster ID of PIXIT.ACE.APPCLUSTER</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AppAttributeId</code> is the attribute ID of PIXIT.ACE.APPATTRIBUTE</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_193"><a class="anchor" href="#_required_devices_193"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Device Name</th>
<th class="tableblock halign-left valign-top">Device Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_setup_85"><a class="anchor" href="#_test_setup_85"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_193"><a class="anchor" href="#_test_procedure_193"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.6923%;">
<col style="width: 15.3846%;">
<col style="width: 15.3846%;">
<col style="width: 30.7692%;">
<col style="width: 30.7693%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Ref</th>
<th class="tableblock halign-left valign-top">PICS</th>
<th class="tableblock halign-left valign-top">Test Step</th>
<th class="tableblock halign-left valign-top">Expected Outcome</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 commissions DUT using admin node ID <code>N1</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DUT is commissioned on TH1 fabric</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: null</p>
</li>
<li>
<p>Targets field: null</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint PIXIT.ACE.APPENDPOINT Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT attribute PIXIT.ACE.APPATTRIBUTE from cluster PIXIT.ACE.APPCLUSTER on endpoint PIXIT.ACE.APPENDPOINT</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: null</p>
</li>
<li>
<p>Targets field: [{Cluster: Descriptor (0x001d)}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint PIXIT.ACE.APPENDPOINT Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT attribute PIXIT.ACE.APPATTRIBUTE from cluster PIXIT.ACE.APPCLUSTER on endpoint PIXIT.ACE.APPENDPOINT</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: null</p>
</li>
<li>
<p>Targets field: [{Cluster: PIXIT.ACE.APPCLUSTER (<code>AppClusterId</code>)}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint PIXIT.ACE.APPENDPOINT Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT attribute PIXIT.ACE.APPATTRIBUTE from cluster PIXIT.ACE.APPCLUSTER on endpoint PIXIT.ACE.APPENDPOINT</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: null</p>
</li>
<li>
<p>Targets field: [{Cluster: Descriptor (0x001d), Endpoint: PIXIT.ACE.APPENDPOINT}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint PIXIT.ACE.APPENDPOINT Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT attribute PIXIT.ACE.APPATTRIBUTE from cluster PIXIT.ACE.APPCLUSTER on endpoint PIXIT.ACE.APPENDPOINT</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: null</p>
</li>
<li>
<p>Targets field: [{Cluster: PIXIT.ACE.APPCLUSTER (<code>AppClusterId</code>), Endpoint: PIXIT.ACE.APPENDPOINT}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint PIXIT.ACE.APPENDPOINT Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT attribute PIXIT.ACE.APPATTRIBUTE from cluster PIXIT.ACE.APPCLUSTER on endpoint PIXIT.ACE.APPENDPOINT</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: null</p>
</li>
<li>
<p>Targets field: [{Endpoint: PIXIT.ACE.APPENDPOINT}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint PIXIT.ACE.APPENDPOINT Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT attribute PIXIT.ACE.APPATTRIBUTE from cluster PIXIT.ACE.APPCLUSTER on endpoint PIXIT.ACE.APPENDPOINT</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: null</p>
</li>
<li>
<p>Targets field: [{DeviceType: RootNode (0x0016)}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">28</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint PIXIT.ACE.APPENDPOINT Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">29</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT attribute PIXIT.ACE.APPATTRIBUTE from cluster PIXIT.ACE.APPCLUSTER on endpoint PIXIT.ACE.APPENDPOINT</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: null</p>
</li>
<li>
<p>Targets field: [{DeviceType: PIXIT.ACE.APPDEVTYPEID}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">31</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint PIXIT.ACE.APPENDPOINT Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT attribute PIXIT.ACE.APPATTRIBUTE from cluster PIXIT.ACE.APPCLUSTER on endpoint PIXIT.ACE.APPENDPOINT</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">34</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: null</p>
</li>
<li>
<p>Targets field: [{Cluster: Descriptor (0x001d), DeviceType: PIXIT.ACE.APPDEVTYPEID}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">35</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">36</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint PIXIT.ACE.APPENDPOINT Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">37</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT attribute PIXIT.ACE.APPATTRIBUTE from cluster PIXIT.ACE.APPCLUSTER on endpoint PIXIT.ACE.APPENDPOINT</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">38</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: null</p>
</li>
<li>
<p>Targets field: [{Cluster: PIXIT.ACE.APPCLUSTER (<code>AppClusterId</code>), DeviceType: PIXIT.ACE.APPDEVTYPEID}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">39</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">40</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint PIXIT.ACE.APPENDPOINT Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT attribute PIXIT.ACE.APPATTRIBUTE from cluster PIXIT.ACE.APPCLUSTER on endpoint PIXIT.ACE.APPENDPOINT</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">42</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: null</p>
</li>
<li>
<p>Targets field: [{Cluster: Descriptor (0x001d), Endpoint: 0},<br>
{Cluster: PIXIT.ACE.APPCLUSTER (<code>AppClusterId</code>), Endpoint: PIXIT.ACE.APPENDPOINT}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">43</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">44</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint PIXIT.ACE.APPENDPOINT Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">45</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT attribute PIXIT.ACE.APPATTRIBUTE from cluster PIXIT.ACE.APPCLUSTER on endpoint PIXIT.ACE.APPENDPOINT</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">46</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT wildcard Endpoint Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Endpoint 0: SUCCESS</p>
</li>
<li>
<p>Endpoint PIXIT.ACE.APPENDPOINT: MUST NOT report any status, not even UNSUPPORTED_ACCESS</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">47</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">APPDEVICE.S</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT wildcard Endpoint PIXIT.ACE.APPCLUSTER cluster PIXIT.ACE.APPATTRIBUTE attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Endpoint 0: MUST NOT report any status</p>
</li>
<li>
<p>Endpoint PIXIT.ACE.APPENDPOINT: SUCCESS</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">48</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes DUT Endpoint 0 AccessControl cluster ACL attribute to reset<br>
                it back to the default State.<br>
                Value is list of AccessControlEntryStruct containing 1 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: null</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_ace_1_5_multi_fabric"><a class="anchor" href="#_tc_ace_1_5_multi_fabric"></a>49.1.5. [TC-ACE-1.5] Multi-fabric</h4>
<div class="sect4">
<h5 id="_category_194"><a class="anchor" href="#_category_194"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_195"><a class="anchor" href="#_purpose_195"></a>Purpose</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that access control is correctly enforced using only ACLs from appropriate fabric.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_194"><a class="anchor" href="#_pics_194"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>APPDEVICE.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_36"><a class="anchor" href="#_pre_conditions_36"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Doc Ref</th>
<th class="tableblock halign-left valign-top">Condition</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>N1</code> is the node ID of TH1 on fabric <code>F1</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>N2</code> is the node ID of TH2 on fabric <code>F2</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_194"><a class="anchor" href="#_required_devices_194"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Device Name</th>
<th class="tableblock halign-left valign-top">Device Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_setup_86"><a class="anchor" href="#_test_setup_86"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_194"><a class="anchor" href="#_test_procedure_194"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.6923%;">
<col style="width: 15.3846%;">
<col style="width: 15.3846%;">
<col style="width: 30.7692%;">
<col style="width: 30.7693%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Ref</th>
<th class="tableblock halign-left valign-top">PICS</th>
<th class="tableblock halign-left valign-top">Test Step</th>
<th class="tableblock halign-left valign-top">Expected Outcome</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 commissions DUT using admin node ID <code>N1</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DUT is commissioned on TH1 fabric</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 opens the commissioning window on the DUT</p>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 commissions DUT using admin node ID <code>N2</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>DUT is commissioned on TH2 fabric</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads its fabric index from the Operational Credentials cluster<br>
                CurrentFabricIndex attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read successful, save as <code>th2FabricIndex</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>FabricIndex: 1</p>
</li>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>FabricIndex: 1</p>
</li>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: null</p>
</li>
<li>
<p>Targets field: [{Cluster: Descriptor (0x001d), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 writes DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 2 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>FabricIndex: <code>th2FabricIndex</code></p>
</li>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N2</code>]</p>
</li>
<li>
<p>Targets field: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>FabricIndex: <code>th2FabricIndex</code></p>
</li>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: null</p>
</li>
<li>
<p>Targets field: [{Cluster: Basic (0x0028), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 reads DUT Endpoint 0 Basic Information cluster VendorID attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 0 Descriptor cluster DeviceTypeList attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is UNSUPPORTED_ACCESS (0x7e)</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH2 reads DUT Endpoint 0 Basic Information cluster VendorID attribute</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 resets the ACLs to the default value by<br>
                writing DUT Endpoint 0 AccessControl cluster ACL attribute,<br>
                value is list of AccessControlEntryStruct containing 1 elements</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>FabricIndex: 1</p>
</li>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [<code>N1</code>]</p>
</li>
<li>
<p>Targets field: null</p>
</li>
</ul>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.7.12</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH1 removes the TH2 fabric by sending the RemoveFabric command<br>
                to the DUT with the FabricIndex set to <code>th2FabricIndex</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Result is SUCCESS</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_ace_1_6_group_auth_mode"><a class="anchor" href="#_tc_ace_1_6_group_auth_mode"></a>49.1.6. [TC-ACE-1.6] Group auth mode</h4>
<div class="sect4">
<h5 id="_category_195"><a class="anchor" href="#_category_195"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_196"><a class="anchor" href="#_purpose_196"></a>Purpose</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Verify that access control is correctly enforced during group messaging<br>
using only ACLs with group auth mode.</p>
</li>
</ol>
</div>
</div>
<div class="sect4">
<h5 id="_pics_195"><a class="anchor" href="#_pics_195"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
<li>
<p>G.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_pre_conditions_37"><a class="anchor" href="#_pre_conditions_37"></a>Pre-Conditions</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 10%;">
<col style="width: 20%;">
<col style="width: 30%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Doc Ref</th>
<th class="tableblock halign-left valign-top">Condition</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>N1</code> is the node ID of TH1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PIXIT.G.ENDPOINT</code> is an endpoint with a groups cluster</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_required_devices_195"><a class="anchor" href="#_required_devices_195"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Device Name</th>
<th class="tableblock halign-left valign-top">Device Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissionee</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Commissioner</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_setup_87"><a class="anchor" href="#_test_setup_87"></a>Test Setup</h5>

</div>
<div class="sect4">
<h5 id="_test_procedure_195"><a class="anchor" href="#_test_procedure_195"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 7.6923%;">
<col style="width: 15.3846%;">
<col style="width: 15.3846%;">
<col style="width: 30.7692%;">
<col style="width: 30.7693%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">#</th>
<th class="tableblock halign-left valign-top">Ref</th>
<th class="tableblock halign-left valign-top">PICS</th>
<th class="tableblock halign-left valign-top">Test Step</th>
<th class="tableblock halign-left valign-top">Expected Outcome</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT using a key that is pre-installed on the TH. GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a3</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0: d0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: 2220000</p>
</li>
<li>
<p>EpochKey1: d1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: 2220001</p>
</li>
<li>
<p>EpochKey2: d2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2: 2220002</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.5.1.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH sends KeySetWrite command in the GroupKeyManagement cluster to DUT using a key that is pre-installed on the TH. GroupKeySet fields are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a1</p>
</li>
<li>
<p>GroupKeySecurityPolicy: TrustFirst (0)</p>
</li>
<li>
<p>EpochKey0: a0d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime0: 2220000</p>
</li>
<li>
<p>EpochKey1: b1d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime1: 2220001</p>
</li>
<li>
<p>EpochKey2: c2d1d2d3d4d5d6d7d8d9dadbdcdddedf</p>
</li>
<li>
<p>EpochStartTime2: 2220002</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH binds GroupIds 0x0101 and 0x0102 with GroupKeySetID 0x01a1 and GroupId 0x0103 with GroupKeySetID 0x01a3 in the GroupKeyMap attribute list on GroupKeyManagement cluster by writing the GroupKeyMap attribute with three entries as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>List item 1:</p>
<div class="ulist">
<ul>
<li>
<p>GroupId: 0x0101</p>
</li>
<li>
<p>GroupKeySetId: 0x01a1</p>
</li>
</ul>
</div>
</li>
<li>
<p>List item 2:</p>
<div class="ulist">
<ul>
<li>
<p>GroupId: 0x0102</p>
</li>
<li>
<p>GroupKeySetId: 0x01a1</p>
</li>
</ul>
</div>
</li>
<li>
<p>List item 3:</p>
<div class="ulist">
<ul>
<li>
<p>GroupId: 0x0103</p>
</li>
<li>
<p>GroupKeySetId: 0x01a3</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AppSpec-1.3.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a AddGroup Command to the Groups cluster on Endpoint PIXIT.G.ENDPOINT over CASE with the GroupID field set to 0x0103 and the GroupName set to an empty string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT responds with SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH writes The ACL attribute in the Access Control cluster to add Manage privileges for group 0x0103 and maintain the current administrative privileges for the TH on the Access Control cluster. The following access control list shall be used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>List item 1 (TH admin):</p>
<div class="ulist">
<ul>
<li>
<p>Privilege: Administer (5)</p>
</li>
<li>
<p>AuthMode: CASE (2)</p>
</li>
<li>
<p>Subjects: [<code>N1</code>]</p>
</li>
<li>
<p>Targets: [{Cluster: AccessControl (0x001f), Endpoint: 0}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>List item 2 (group Manage access):</p>
<div class="ulist">
<ul>
<li>
<p>Privilege: Manage (4)</p>
</li>
<li>
<p>AuthMode: Group (3)</p>
</li>
<li>
<p>Subjects: group 0x0103 ([0x0103])</p>
</li>
<li>
<p>Targets: {Cluster: Groups (0x0004), Endpoint: PIXIT.G.ENDPOINT}</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AppSpec-1.3.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a AddGroup Command to the Groups cluster on Endpoint PIXIT.G.ENDPOINT over CASE with the GroupID field set to 0x0104 and the GroupName set to an empty string</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT responds with UNSUPPORTED_ACCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="add_group_over_groups"></a>6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AppSpec-1.3.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a AddGroup Command to the Groups cluster with the GroupID field set to 0x0101 and the GroupName set to an empty string. The command is sent as a group command using GroupID 0x0103</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="add_group_over_groups2"></a>7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AppSpec-1.3.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a AddGroup Command to the Groups cluster with the GroupID field set to 0x0102 and the GroupName set to an empty string. The command is sent as a group command using GroupID 0x0101</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-9.10.5.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH writes The ACL attribute in the Access Control cluster to revoke groups Management access and restore full access over CASE by setting the following ACL list items:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>List item 1 (TH admin):</p>
<div class="ulist">
<ul>
<li>
<p>Privilege: Administer (5)</p>
</li>
<li>
<p>AuthMode: CASE (2)</p>
</li>
<li>
<p>Subjects: [<code>N1</code>]</p>
</li>
<li>
<p>Targets: null</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AppSpec-1.3.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a ViewGroup Command to the Groups cluster on Endpoint PIXIT.G.ENDPOINT over CASE with the GroupID set to 0x0101 to confirm that the AddGroup command from step <a href="#add_group_over_groups">6</a> was successful</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT responds with SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AppSpec-1.3.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a ViewGroup Command to the Groups cluster on Endpoint PIXIT.G.ENDPOINT over CASE with the GroupID set to 0x0102 to confirm that the AddGroup command from step <a href="#add_group_over_groups2">7</a> was not successful</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT responds with NOT_FOUND</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="add_group_over_groups3"></a>11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AppSpec-1.3.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a AddGroup Command to the Groups cluster with the GroupID field set to 0x0105 and the GroupName set to an empty string. The command is sent as a group command using GroupID 0x0103</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AppSpec-1.3.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends a ViewGroup Command to the Groups cluster on Endpoint PIXIT.G.ENDPOINT over CASE with the GroupID set to 0x0105 to confirm that the AddGroup command from step <a href="#add_group_over_groups3">11</a> was not successful</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT responds with NOT_FOUND</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">AppSpec-1.3.7.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends the RemoveAllGroups Command to the Groups cluster on Endpoint PIXIT.G.ENDPOINT over CASE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT responds with SUCCESS</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.7.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH resets the GroupKeyMap attribute list on GroupKeyManagement cluster by writing the GroupKeyMap attribute with an empty list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.8.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH resets the key set by sending the KeySetRemove command to the GroupKeyManagement cluster over CASE with the following fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a3</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CoreSpec-11.2.8.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH resets the key set by sending the KeySetRemove command to the GroupKeyManagement cluster over CASE with the following fields:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>GroupKeySetID: 0x01a1</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the DUT sends SUCCESS response.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_ace_2_1_attribute_read_privilege_enforcement_dut_as_server"><a class="anchor" href="#_tc_ace_2_1_attribute_read_privilege_enforcement_dut_as_server"></a>49.1.7. [TC-ACE-2.1] Attribute read privilege enforcement - [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_196"><a class="anchor" href="#_category_196"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_197"><a class="anchor" href="#_purpose_197"></a>Purpose</h5>
<div class="paragraph">
<p>Tests that all attributes on the DUT require the appropriate access control privilege for reading.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_196"><a class="anchor" href="#_pics_196"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_196"><a class="anchor" href="#_required_devices_196"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_commissioner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">client - original commissioner, has full admin access</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_second_controller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">client - same fabric as TH_commissioner, no ACL access at the start of the test. Node id is <code>second_controller_nodeid</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_196"><a class="anchor" href="#_test_procedure_196"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 45%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_commissioner performs a wildcard read of the DUT to establish the set of endpoints, cluster, and attributes to test</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_commissioner reads the ACL attribute from the Access Control Cluster and saves it as <code>default_acl</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps 3a and 3b for each privilege level in the set of supported privilege levels (view, operate, manage, administer) using <code>acl_privilege</code> to denote the current privilege level under test:</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH_commissioner appends an entry to <code>default_acl</code> to give limited permissions to TH_second_controller and writes the new list to the ACL attribute. The new entry is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>privilege: <code>acl_privilege</code></p>
</li>
<li>
<p>authmode: CASE</p>
</li>
<li>
<p>subjects: [<code>second_controller_nodeid</code>]</p>
</li>
<li>
<p>targets: []</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each endpoint on the DUT, for each standard cluster on the endpoint, and for each standard and global attribute on the cluster, TH_second_controller reads the attribute</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>acl_privilege</code> is greater than or equal to the minimum required privilege for read as defined in the spec, verify that an attribute value is returned. Otherwise, verify that UNSUPPORTED_ACCESS is returned.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_ace_2_2_attribute_write_privilege_enforcement_dut_as_server"><a class="anchor" href="#_tc_ace_2_2_attribute_write_privilege_enforcement_dut_as_server"></a>49.1.8. [TC-ACE-2.2] Attribute write privilege enforcement - [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_197"><a class="anchor" href="#_category_197"></a>Category</h5>
<div class="paragraph">
<p>Functional conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_198"><a class="anchor" href="#_purpose_198"></a>Purpose</h5>
<div class="paragraph">
<p>Tests that all attributes on the DUT require the appropriate access control privilege for writing and that non-writeable attributes cannot be written.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_197"><a class="anchor" href="#_pics_197"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_197"><a class="anchor" href="#_required_devices_197"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_commissioner</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">client - original commissioner, has full admin access</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_second_controller</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">client - same fabric as TH_commissioner, no ACL access at the start of the test. Node id is <code>second_controller_nodeid</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_test_procedure_197"><a class="anchor" href="#_test_procedure_197"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 5%;">
<col style="width: 45%;">
<col style="width: 40%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_commissioner performs a wildcard read of the DUT to establish the set of endpoints, cluster, and attributes to test</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_commissioner reads the ACL attribute from the Access Control Cluster and saves it as <code>default_acl</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH_commissioner appends an entry to <code>default_acl</code> to give admin permissions to TH_second_controller and writes the new list to the ACL attribute. The new entry is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>privilege: administer</p>
</li>
<li>
<p>authmode: CASE</p>
</li>
<li>
<p>subjects: [<code>second_controller_nodeid</code>]</p>
</li>
<li>
<p>targets: []</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a id="ref_tc_ace_2_2_wildcard"></a>3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH_second_controller performs a wildcard read of the DUT to establish a viable set of attribute values for writing</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat steps 4a and 4b for each privilege level in the set of supported privilege levels (view, operate, manage, administer) using <code>acl_privilege</code> to denote the current privilege level under test:</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4a</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>TH_commissioner appends an entry to <code>default_acl</code> to give limited permissions to TH_second_controller and writes the new list to the ACL attribute. The new entry is as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>privilege: <code>acl_privilege</code></p>
</li>
<li>
<p>authmode: CASE</p>
</li>
<li>
<p>subjects: [<code>second_controller_nodeid</code>]</p>
</li>
<li>
<p>targets: []</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4b</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For each endpoint on the DUT, for each standard cluster on the endpoint, and for each standard and global attribute on the cluster, TH_second_controller writes the attribute as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>If the attribute is the ACL and <code>acl_privilege</code> is administer, skip this step</p>
</li>
<li>
<p>If the attribute is a list, write an empty list</p>
</li>
<li>
<p>If the attribute is not a list, write back the value read during step <a href="#ref_tc_ace_2_2_wildcard">3</a>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Save the returned value as <code>write_response</code>.</p>
</div>
<div class="paragraph">
<p>If <code>write_response</code> is SUCCESS and the attribute is a list, write the attribute with the value read during step <a href="#ref_tc_ace_2_2_wildcard">3</a>.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>If the attribute is NOT writeable per the spec, verify <code>write_response</code> is UNSUPPORTED_WRITE</p>
</li>
<li>
<p>If the attribute is OPTIONALLY writeable per the spec, <code>write_response</code> MAY be UNSUPPORTED_WRITE. Otherwise, treat as a writeable attribute.</p>
</li>
<li>
<p>If the attribute is writable per the spec and <code>acl_privilege</code> is greater than or equal to the minimum required privilege for write, verify <code>write_response</code> is NOT UNSUPPORTED_ACCESS. Other error codes are acceptable.</p>
</li>
<li>
<p>If the attribute is writeable per the spec and <code>acl_privilege</code> is less than the minimum required privilege for write, verify <code>write_response</code> is UNSUPPORTED_ACCESS.</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<h1 id="_minimal_resource_requirements_test_plan" class="sect0"><a class="anchor" href="#_minimal_resource_requirements_test_plan"></a><strong>Minimal Resource Requirements Test Plan</strong></h1>
<div class="sect1">
<h2 id="_test_case_list_14"><a class="anchor" href="#_test_case_list_14"></a>50. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>TC UUID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case Name</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-RR-1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimal Resource Requirements for Matter Node</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases_14"><a class="anchor" href="#_test_cases_14"></a>51. Test Cases</h2>
<div class="sectionbody">
<hr>
<div class="sect2">
<h3 id="_minimal_resource_requirements_test_cases"><a class="anchor" href="#_minimal_resource_requirements_test_cases"></a>51.1. Minimal Resource Requirements Test Cases</h3>
<hr>
<div class="sect3">
<h4 id="_tc_rr_1_1_minimal_resource_requirements_for_matter_node"><a class="anchor" href="#_tc_rr_1_1_minimal_resource_requirements_for_matter_node"></a>51.1.1. [TC-RR-1.1] Minimal Resource Requirements for Matter Node</h4>
<div class="sect4">
<h5 id="_category_198"><a class="anchor" href="#_category_198"></a>Category</h5>
<div class="paragraph">
<p>Conformance</p>
</div>
</div>
<div class="sect4">
<h5 id="_purpose_199"><a class="anchor" href="#_purpose_199"></a>Purpose</h5>
<div class="paragraph">
<p>This test case verifies that the device meets the minimal requirements for each resource type from the list of various resources required by a Matter Node implementation.</p>
</div>
<div class="paragraph">
<p>PICS</p>
</div>
<div class="ulist">
<ul>
<li>
<p>MCORE.ROLE.COMMISSIONEE</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_198"><a class="anchor" href="#_required_devices_198"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test harness as Client</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_143"><a class="anchor" href="#_device_topology_143"></a>Device Topology</h5>
<div class="paragraph">
<p>TH and DUT are on the same fabric.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_198"><a class="anchor" href="#_test_procedure_198"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 4%;">
<col style="width: 6%;">
<col style="width: 10%;">
<col style="width: 65%;">
<col style="width: 15%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>#</strong></th>
<th class="tableblock halign-left valign-top"><strong>Ref</strong></th>
<th class="tableblock halign-left valign-top"><strong>PICS</strong></th>
<th class="tableblock halign-left valign-top"><strong>Test Step</strong></th>
<th class="tableblock halign-left valign-top"><strong>Expected Outcome</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1a</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6, 6.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH begins the process of commissioning the DUT. After receiving the CSRResponse TH obtains or generates a NOC, the Root CA Certificate, ICAC and IPK. <br>
 The certificates shall have their subjects padded with additional data such that they are each the maximum certificate size of 400 bytes when encoded in the MatterCertificateEncoding.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1b</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6, 6.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH sends AddNOC command with CaseAdminSubject as 0xFFFF_FFFD_0001_0001, IpkValue with 3 Epoch Keys and NOC must have CAT 0x0001_0001.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1c</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6, 6.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH then reads the unfiltered list of fabrics on the DUT and removes any fabric found that isn&#8217;t the one the TH just commissioned.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ensure that only 1 fabric remains on the device and is the TH&#8217;s before continuing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1d</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.6, 6.1.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Repeat the process to commission DUT to 5 different fabrics. If, for a given fabric, it is not possible for all certificates in the chain to be of length 400 bytes, then at least 1 of the set must be larger or equal to 370 bytes and at least one of the set must be larger or equal to 350 bytes, and at least one must be exactly 400 bytes. All certificate chains have to be valid.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the device can be commissioned to the minimum value of <em>SupportedFabrics</em> Attribute on the Node Operational Credentials Cluster which is 5.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.17.5.3, 11.1.6.3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes the user-visible Label field for Fabrics to maximum size of 32 characters. TH writes the <em>NodeLabel</em> Attribute to maximum size of 32 characters.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the device supports minimum constraints of Fabric Label and <em>NodeLabel</em> Attribute as mentioned in spec.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Add 4 Access Control entries on DUT with a list of 4 Subjects and 3 Targets with the following parameters:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [0xFFFF_FFFD_0001_0001, 0x2000_0000_0000_0001, 0x2000_0000_0000_0002, 0x2000_0000_0000_0003]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}, {Cluster: 0xFFF1_FC00, DeviceType: 0xFFF1_BC30}, {Cluster: 0xFFF1_FC00, DeviceType: 0xFFF1_BC31}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Manage (4)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [0x1000_0000_0000_0001, 0x1000_0000_0000_0002, 0x1000_0000_0000_0003, 0x1000_0000_0000_0004]</p>
</li>
<li>
<p>Targets field: [{Cluster: 0xFFF1_FC00, DeviceType: 0xFFF1_BC20}, {Cluster: 0xFFF1_FC01, DeviceType: 0xFFF1_BC21}, {Cluster: 0xFFF1_FC02, DeviceType: 0xFFF1_BC22}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Operate (3)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [0x3000_0000_0000_0001, 0x3000_0000_0000_0002, 0x3000_0000_0000_0003, 0x3000_0000_0000_0004]</p>
</li>
<li>
<p>Targets field: [{Cluster: 0xFFF1_FC40, DeviceType: 0xFFF1_BC20}, {Cluster: 0xFFF1_FC41, DeviceType: 0xFFF1_BC21}, {Cluster: 0xFFF1_FC02, DeviceType: 0xFFF1_BC42}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [0x4000_0000_0000_0001, 0x4000_0000_0000_0002, 0x4000_0000_0000_0003, 0x4000_0000_0000_0004]</p>
</li>
<li>
<p>Targets field: [{Cluster: 0xFFF1_FC80, DeviceType: 0xFFF1_BC20}, {Cluster: 0xFFF1_FC81, DeviceType: 0xFFF1_BC21}, {Cluster: 0xFFF1_FC82, DeviceType: 0xFFF1_BC22}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Repeat the process for all 5 fabrics.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Subjects have access control privilege on the Targets according to the ACL entries for each fabric and the device supports minimum constraints for each of <em>AccessControlEntriesPerFabric</em> Attribute, <em>SubjectsPerAccessControlEntry</em> Attribute and <em>TargetsPerAccessControlEntry</em> Attribute on the Access Control Cluster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4.13.2.8</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initiate CASE sessions from 3 different client nodes per fabric to DUT for a total of 15 sessions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the device supports minimum constraints of 3 CASE session contexts per fabric.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.11.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Each client subscribes to 3 different attribute/events paths which includes the <em>NodeLabel</em> Attribute on each fabric to DUT.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the device supports minimum constraints of Subscribe Interaction Limits as mentioned in spec.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.11.2.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send Read Request Message containing 9 separate paths to cover the first 9 attributes (IDs 0 through 8) of the Basic Information cluster on Endpoint which includes the <em>NodeLabel</em> Attribute, from all clients on each fabric to DUT. Record Local and peer session ID for each client for later use.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the device supports minimum constraints of Read Interaction Limits as mentioned in spec.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.11.2.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes the <em>NodeLabel</em> Attribute to a different value than the one used in Step 2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that all the other clients on all fabrics receive Report Data message for this value change.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.11.2.1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send Read Request Message for the <em>NodeLabel</em> Attribute from all clients on each fabric to DUT. Record peer session ID for each client.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Local and peer session ID used for each read, for each client, must have remained the same from Step 7.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.7.5.1, 9.9.4.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ULABEL.S.A0000(LabelList)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH writes 4 entries per endpoint where LabelList is supported with both Label and Value fields set to max 16 characters.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the device supports minimum constraints of <em>LabelList</em> Attribute as mentioned in spec.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9.10.5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Add 4 Access Control entries on DUT with a list of 4 Subjects and 3 Targets. Note this is different from above ACL as we are allowing the group cluster to be read across all endpoints in order for the next step to run properly. Use the following parameters:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Administer (5)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [0xFFFF_FFFD_0001_0001, 0x2000_0000_0000_0001, 0x2000_0000_0000_0002, 0x2000_0000_0000_0003]</p>
</li>
<li>
<p>Targets field: [{Endpoint: 0}, {Cluster: 0x0000_0004}, {Cluster: 0xFFF1_FC00, DeviceType: 0xFFF1_BC31}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Manage (4)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [0x1000_0000_0000_0001, 0x1000_0000_0000_0002, 0x1000_0000_0000_0003, 0x1000_0000_0000_0004]</p>
</li>
<li>
<p>Targets field: [{Cluster: 0xFFF1_FC00, DeviceType: 0xFFF1_BC20}, {Cluster: 0xFFF1_FC01, DeviceType: 0xFFF1_BC21}, {Cluster: 0xFFF1_FC02, DeviceType: 0xFFF1_BC22}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: Operate (3)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [0x3000_0000_0000_0001, 0x3000_0000_0000_0002, 0x3000_0000_0000_0003, 0x3000_0000_0000_0004]</p>
</li>
<li>
<p>Targets field: [{Cluster: 0xFFF1_FC40, DeviceType: 0xFFF1_BC20}, {Cluster: 0xFFF1_FC41, DeviceType: 0xFFF1_BC21}, {Cluster: 0xFFF1_FC02, DeviceType: 0xFFF1_BC42}]</p>
</li>
</ul>
</div>
</li>
<li>
<p>struct</p>
<div class="ulist">
<ul>
<li>
<p>Privilege field: View (1)</p>
</li>
<li>
<p>AuthMode field: CASE (2)</p>
</li>
<li>
<p>Subjects field: [0x4000_0000_0000_0001, 0x4000_0000_0000_0002, 0x4000_0000_0000_0003, 0x4000_0000_0000_0004]</p>
</li>
<li>
<p>Targets field: [{Cluster: 0xFFF1_FC80, DeviceType: 0xFFF1_BC20}, {Cluster: 0xFFF1_FC81, DeviceType: 0xFFF1_BC21}, {Cluster: 0xFFF1_FC82, DeviceType: 0xFFF1_BC22}]</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Repeat the process for all 5 fabrics.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the Subjects have access control privilege on the Targets according to the ACL entries for each fabric and the device supports minimum constraints for each of <em>AccessControlEntriesPerFabric</em> Attribute, <em>SubjectsPerAccessControlEntry</em> Attribute and <em>TargetsPerAccessControlEntry</em> Attribute on the Access Control Cluster.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.11.1.2, 11.2, 9.5.4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH counts all Groups cluster entries (cluster ID 0x0004) in every Descriptor&#8217;s <code>ServerList</code> instance within every endpoint found in all 'PartsList' instances. TH records Groups cluster instances counted as <code>counted_groups_clusters</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the value of <code>MaxGroupsPerFabric</code> read from the Group Key Management Cluster is no less than the Group Limits requirements of 4 (groups) * <code>counted_groups_clusters</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.11.1.2, 11.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>counted_groups_clusters</code> equals 0, TH skips this step. TH reads <code>MaxGroupKeysPerFabric</code> from the Group Key Management Cluster.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the value of <code>MaxGroupKeysPerFabric</code> is no less than 3, which is the minimum of group key sets per fabric required by the Group Limits.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2.11.1.2, 11.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>counted_groups_clusters</code> equals 0, TH skips this step. TH writes <code>MaxGroupKeysPerFabric-1</code> valid and unique group key sets per fabric to the Group Key Management Cluster, which is the minimum number of group key sets required, notwithstanding the reserved Identity Protection Key (IPK) key set.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that a <code>KeySetReadAllIndicesResponse</code> is received and that its <code>GroupKeySetIDs</code> list has <code>MaxGroupKeysPerFabric</code> entries present that match the written values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If <code>counted_groups_clusters</code> equals 0, TH skips this step. TH writes <code>MaxGroupsPerFabric</code> valid and unique entries per fabric into <code>GroupKeyMap</code> referring to the key sets from step 12.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">After all data is written, verify the contents of <code>GroupKeyMap</code> match the values written and quantity of entries written.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">11.2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>If <code>counted_groups_clusters</code> equals 0, TH skips this step. TH adds <code>MaxGroupsPerFabric</code> valid and unique groups per fabric. TH distributes the groups across all endpoints as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>TH iterates over all 5 fabrics.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>TH stores the remainder when calculating <code>MaxGroupsPerFabric / counted_groups_clusters</code> as <code>groups_remainder</code>.</p>
</li>
<li>
<p>TH iterates over all endpoints.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li>
<p>If no Groups cluster is found in the endpoint&#8217;s <code>ServerList</code>, TH continues to the next endpoint.</p>
</li>
<li>
<p>TH adds <code>floor(MaxGroupsPerFabric / counted_groups_clusters)</code> valid and unique groups by invoking the <code>AddGroup</code> command on the Groups cluster.</p>
</li>
<li>
<p>If <code>groups_remainder</code> equals 0, TH continues to the next endpoint.</p>
</li>
<li>
<p>TH adds 1 more valid and unique group by invoking the <code>AddGroup</code> command on the Groups cluster.</p>
</li>
<li>
<p>TH decreases the value of <code>groups_remainder</code> by 1.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the entries in <code>GroupTable</code> contain all groups added. Verify the <code>Endpoints</code> list of each <code>GroupTable</code> entry contains a single entry equal to the endpoint that the the <code>AddGroup</code> command was invoked on.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_notestesting_considerations_152"><a class="anchor" href="#_notestesting_considerations_152"></a>Notes/Testing Considerations</h5>
<hr>
</div>
</div>
</div>
</div>
</div>
<h1 id="_system_model_test_plan" class="sect0"><a class="anchor" href="#_system_model_test_plan"></a><strong>System Model Test Plan</strong></h1>
<div class="sect1">
<h2 id="_pics_definition_15"><a class="anchor" href="#_pics_definition_15"></a>52. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the System Model Test Plan related PICS items that are referenced in the following test cases.  Support for an item is considered as "true" for conditional statements within the test case steps.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.SM.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_case_list_15"><a class="anchor" href="#_test_case_list_15"></a>53. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>TC UUID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case Name</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SM-1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device composition - Root Node [DUT as Server]</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-SM-1.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Device composition - Topology [DUT as Server]</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases_15"><a class="anchor" href="#_test_cases_15"></a>54. Test Cases</h2>
<div class="sectionbody">
<hr>
<div class="sect2">
<h3 id="_device_composition_tests"><a class="anchor" href="#_device_composition_tests"></a>54.1. Device composition tests</h3>
<hr>
<div class="sect3">
<h4 id="_tc_sm_1_1_device_composition_root_node_dut_as_server"><a class="anchor" href="#_tc_sm_1_1_device_composition_root_node_dut_as_server"></a>54.1.1. [TC-SM-1.1] Device composition - Root Node [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_199"><a class="anchor" href="#_category_199"></a>Category</h5>

</div>
<div class="sect4">
<h5 id="_purpose_200"><a class="anchor" href="#_purpose_200"></a>Purpose</h5>
<div class="paragraph">
<p>Tests root node requirements</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_198"><a class="anchor" href="#_pics_198"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.SM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_199"><a class="anchor" href="#_required_devices_199"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_144"><a class="anchor" href="#_device_topology_144"></a>Device Topology</h5>
<div class="paragraph">
<p>TH can connect to DUT over PASE or CASE.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_199"><a class="anchor" href="#_test_procedure_199"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH performs a wildcard read of all attributes and endpoints</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.2.10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that endpoint 0 exists in the returned data</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.2.10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that the endpoint 0 descriptor cluster DeviceTypeList includes the Root Node device type id (0x0016)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{REF_SM_ENDPOINT}</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each of the non-root endpoints, verify that the descriptor cluster DeviceTypeList does NOT include the Root Node device type id (0x0016)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C.2.10</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validate all the mandatory clusters for the Root Node Device Type exist on the Root Node endpoint.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_tc_sm_1_2_device_composition_topology_dut_as_server"><a class="anchor" href="#_tc_sm_1_2_device_composition_topology_dut_as_server"></a>54.1.2. [TC-SM-1.2] Device composition - Topology [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_200"><a class="anchor" href="#_category_200"></a>Category</h5>

</div>
<div class="sect4">
<h5 id="_purpose_201"><a class="anchor" href="#_purpose_201"></a>Purpose</h5>
<div class="paragraph">
<p>Tests that the topology indicated by the descriptor cluster PartsList matches the requirements in {REF_SM_ENDPOINT}.</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_199"><a class="anchor" href="#_pics_199"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.IDM.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_200"><a class="anchor" href="#_required_devices_200"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_145"><a class="anchor" href="#_device_topology_145"></a>Device Topology</h5>
<div class="paragraph">
<p>TH can connect to DUT over PASE or CASE.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_200"><a class="anchor" href="#_test_procedure_200"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH performs a wildcard read of all attributes on all endpoints</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify the Descriptor cluster PartsList on endpoint 0 exactly lists all the other (non-0) endpoints on the DUT - i.e. the endpoints returned in step 1 (except EP 0) must be listed in the PartsList, and all endpoints listed in the PartsList must be amongst the endpoint(s) returned in step 1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each endpoint on the DUT (including EP 0), verify the PartsList in the Descriptor cluster on that endpoint does not include itself</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Create two empty list variables <code>flat</code> and <code>tree</code></p>
</div>
<div class="literalblock">
<div class="content">
<pre>For each non-root endpoint on the DUT</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>If the DeviceTypeList attribute in the Descriptor cluster for that endpoint includes the Aggregator device type(0x000e), add the endpoint id to the <code>flat</code> list</p>
</li>
<li>
<p>Otherwise, add the endpoint id to the <code>tree</code> list</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">For each endpoint <code>e</code> in the <code>tree</code> list, walk the entire PartsList tree and ensure <code>e</code> does not appear in any descendants.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>For each endpoint <code>e</code> in the <code>flat</code> list:<br>
                            * for each endpoint id <code>sub_id</code> present in the in the PartsList of <code>e</code>, ensure that every id listed in the PartsList for endpoint <code>sub_id</code> appears in the PartsList of <code>e</code></p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<h1 id="_device_types_test_plan" class="sect0"><a class="anchor" href="#_device_types_test_plan"></a><strong>Device Types Test Plan</strong></h1>
<div class="sect1">
<h2 id="_pics_definition_16"><a class="anchor" href="#_pics_definition_16"></a>55. PICS Definition</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section covers the Device Types Test Plan related PICS items that are referenced in the following test cases.  Support for an item is considered as "true" for conditional statements within the test case steps.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Variable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Description</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Mandatory/Optional</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Notes/Additional Constraints</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MCORE.DT.S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Is the device a Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_case_list_16"><a class="anchor" href="#_test_case_list_16"></a>56. Test Case List</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>TC UUID</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Case Name</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TC-DT-1.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base Device type [DUT as Server]</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_test_cases_16"><a class="anchor" href="#_test_cases_16"></a>57. Test Cases</h2>
<div class="sectionbody">
<hr>
<div class="sect2">
<h3 id="_device_composition_tests_2"><a class="anchor" href="#_device_composition_tests_2"></a>57.1. Device composition tests</h3>
<hr>
<div class="sect3">
<h4 id="_tc_dt_1_1_base_device_type_dut_as_server"><a class="anchor" href="#_tc_dt_1_1_base_device_type_dut_as_server"></a>57.1.1. [TC-DT-1.1] Base Device Type [DUT as Server]</h4>
<div class="sect4">
<h5 id="_category_201"><a class="anchor" href="#_category_201"></a>Category</h5>

</div>
<div class="sect4">
<h5 id="_purpose_202"><a class="anchor" href="#_purpose_202"></a>Purpose</h5>
<div class="paragraph">
<p>Tests that every device type conforms to the requirements of the base device type</p>
</div>
</div>
<div class="sect4">
<h5 id="_pics_200"><a class="anchor" href="#_pics_200"></a>PICS</h5>
<div class="ulist">
<ul>
<li>
<p>MCORE.DT.S</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="_required_devices_201"><a class="anchor" href="#_required_devices_201"></a>Required Devices</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Device Description</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH as Client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">DUT as Server.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="_device_topology_146"><a class="anchor" href="#_device_topology_146"></a>Device Topology</h5>
<div class="paragraph">
<p>TH can connect to DUT over PASE or CASE.</p>
</div>
</div>
<div class="sect4">
<h5 id="_test_procedure_201"><a class="anchor" href="#_test_procedure_201"></a>Test Procedure</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3335%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>#</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Ref</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>PICS</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Test Step</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Expected Outcome</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TH performs a wildcard read of all attributes and endpoints</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Verify that each endpoint includes a Descriptor cluster</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version master 38f6fad<br>
Last updated 2024-01-30 18:58:33 UTC
</div>
</div>
</body>
</html>